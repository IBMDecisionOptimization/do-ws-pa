!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("jQuery"),require("vis"),require("datatables.net")):"function"==typeof define&&define.amd?define("Gantt",["jQuery","vis","datatables.net"],e):"object"==typeof exports?exports.Gantt=e(require("jQuery"),require("vis"),require("datatables.net")):t.Gantt=e(t.jQuery,t.vis,t["datatables.net"])}(this,function(t,e,n){return function(t){function e(n){if(i[n])return i[n].exports;var o=i[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){i(31),t.exports=i(22)},function(t,e,i){"use strict";function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function t(e,i){r(this,t),this.context=t.utils.isString(e)?document.getElementById(e):e;var n=t.components.GanttPanel.impl||t.components.GanttPanel;return this.gantt=new n(this.context,i),this.gantt};e.default=a,a.defaultConfiguration={rowHeight:27,zoomFactor:.2,loadingPanelThresold:500},a.events={TITLE_CHANGED:"titleChanged",TABLE_INIT:"tableinit",TIME_TABLE_INIT:"timesheetinit",TIME_LINE_INIT:"timeline_init",TIME_WINDOW_CHANGED:"timeWindowChanged",TIME_LINE_RANGE_CHANGE:"timeline_rangechange",TIME_LINE_RANGE_CHANGED:"timeline_rangechanged",TIME_LINE_SIZE_CHANGED:"timeline_sizeChanged",TIME_LINE_PAN_MOVE:"timeline_panmove",TIME_LINE_PAN_MOVED:"timeline_panmove",TIME_LINE_SCROLLED:"timeline_scrolled",RESIZED:"resized",SPLIT_RESIZED:"split_resized",ROWS_FILTERED:"rows_filtered",DATA_LOADED:"data_loaded",ROWS_ADDED:"rows_added",ROWS_REMOVED:"rows_removed",ROWS_MODIFIED:"rows_modified",ROWS_SORTED:"rows_sorted",START_SELECTING:"startSelecting",SELECTION_CLEARED:"selectionCleared",STOP_SELECTING:"stopSelecting",ACTIVITY_SELECTED:"activitySelected",ACTIVITY_UNSELECTED:"activityUnselected",ACTIVITY_SELECTION_CHANGED:"activitySelectionChanged",ACTIVITY_SELECTION_CLEARED:"activitySelectionCleared",RESOURCE_SELECTED:"resourceSelected",RESOURCE_UNSELECTED:"resourceUnselected",RESOURCE_SELECTION_CHANGED:"resourceSelectionChanged",RESOURCE_SELECTION_CLEARED:"resourceSelectionCleared",ROW_SELECTED:"rowSelected",ROW_UNSELECTED:"rowUnselected",ROW_SELECTION_CHANGED:"rowSelectionChanged",ROW_SELECTION_CLEARED:"rowSelectionCleared",CONSTRAINT_SELECTED:"constraintSelected",CONSTRAINT_UNSELECTED:"constraintUnselected",CONSTRAINT_SELECTION_CHANGED:"constraintSelectionChanged",CONSTRAINT_SELECTION_CLEARED:"constraintSelectionCleared"},a.type={ACTIVITY_CHART:"ActivityChart",SCHEDULE_CHART:"ScheduleChart"},a.constraintTypes={START_TO_START:0,START_TO_END:2,END_TO_END:3,END_TO_START:1,isFromStart:function(t){return 0===t||2===t},isToStart:function(t){return t<2}};var l=function(){function t(e){r(this,t)}return s(t,[{key:"showTooltip",value:function(t,e,i){}},{key:"hideTooltip",value:function(){}},{key:"destroy",value:function(){}}]),t}(),u=function(){function t(){r(this,t)}return s(t,[{key:"get",value:function(t){}}]),t}(),c=function(){function t(e,i){r(this,t)}return s(t,[{key:"getLeftComponent",value:function(){}},{key:"getRightComponent",value:function(){}},{key:"leftComponentCreated",value:function(){}}]),t}(),h=function(){function t(e,i){r(this,t),this.gantt=e,this.config=i,this.utils=a.utils}return s(t,[{key:"on",value:function(t,e){for(var i,n=this.__events||(this.__events={}),o=this.utils.isArray(t)&&t||t.split(" "),r=0;r<o.length;r++)t=o[r],(i=n[t])?i.push(e):n[t]=i=[e]}},{key:"one",value:function(t,e){var i=this,n=function t(){for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];e.apply(i,o);var s=o[0],a=i.__events[s].indexOf(t);a>-1&&i.__events[s].splice(a,1)};this.on(t,n)}},{key:"off",value:function(t,e){if(this.__events)for(var i,n,o=this.utils.isArray(t)&&t||t.split(" "),r=0;r<o.length;r++)if(t=o[r],i=this.__events[t])for(n=0;n<i.length;n++)if(i[n]==e){i.splice(n,1);break}}},{key:"triggerEvent",value:function(t){var e,i;if(t===!0){t=arguments[1];var n=arguments[2]||[];i=new Array(n.length+1);for(var o=0;o<n.length;++o)i[o+1]=n[o]}else{i=new Array(arguments.length);for(var r=1;r<arguments.length;++r)i[r]=arguments[r]}for(var s,a=this.utils.isArray(t)&&t||t.split(" "),l=0,u=a.length;l<u;l++)if(e=this.__events&&this.__events[i[0]=s=a[l]])for(var c=0,h=e.length;c<h;)e[c].apply(this,i),h==e.length?++c:h=e.length}}]),t}(),d=function(t){function e(t){r(this,e);var i=n(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,null,t));return i.config=t,i}return o(e,t),s(e,[{key:"addError",value:function(t){}},{key:"hasErrors",value:function(){return!1}},{key:"clear",value:function(){}},{key:"showError",value:function(t){}},{key:"getErrors",value:function(){return[]}},{key:"createErrorNode",value:function(t){var e=document.createElement("div");return e.className="gantt_error",e}},{key:"removeGroup",value:function(t){}}]),e}(h),f=function(t){function e(t,i,o){r(this,e);var s=n(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,o));return s.node=i,s}return o(e,t),s(e,[{key:"setTimeWindow",value:function(t,e){}},{key:"getTimeAxisHeight",value:function(){return 0}},{key:"draw",value:function(){}},{key:"validateZoomFactor",value:function(t){}},{key:"getXFromMillis",value:function(t){}},{key:"getDecorationContainer",value:function(){}},{key:"getHorizon",value:function(){}},{key:"getScrollableHorizon",value:function(){}},{key:"setVisibleTimeWindow",value:function(t){}},{key:"resetZoom",value:function(){}},{key:"addTimeMarker",value:function(t,e,i){}},{key:"removeTimeMarker",value:function(t){}},{key:"setTimeLineItem",value:function(t,e){}},{key:"addTimeLineItem",value:function(t,e){}},{key:"removeTimeLineItem",value:function(t){}}]),e}(h),p=function(t){function e(t,i,o){r(this,e);var s=n(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,o));return s.node=i,s.setConfiguration(o),s}return o(e,t),s(e,[{key:"setConfiguration",value:function(t){}},{key:"draw",value:function(){}},{key:"createUpdates",value:function(t){return new(a.components.GanttUpdates.impl||a.components.GanttUpdates)(t)}},{key:"highlightRow",value:function(t,e,i){}},{key:"getDisplayedActivitiesTimeRange",value:function(){}},{key:"searchActivities",value:function(t,e){}},{key:"setConstraints",value:function(t){}},{key:"update",value:function(){}},{key:"scrollToRow",value:function(t){}},{key:"scrollToY",value:function(t){}},{key:"setScrollTop",value:function(t){}},{key:"setFirstVisibleRow",value:function(t){}},{key:"getScrollLeft",value:function(){}},{key:"setScrollLeft",value:function(t){}},{key:"getScroller",value:function(){}},{key:"getVisibleWidth",value:function(){}},{key:"getVisibleHeight",value:function(){}},{key:"setBodyWidth",value:function(t){}},{key:"getBodyWidth",value:function(){}},{key:"setBodyHeight",value:function(t){}},{key:"getBodyHeight",value:function(){}},{key:"getRightMargin",value:function(){}},{key:"getBottomMargin",value:function(){}}]),e}(h),v=function(t){function e(t,i,o){r(this,e);var s=n(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,o));return s.node=i,s}return o(e,t),s(e,[{key:"setRows",value:function(t){}},{key:"getRowCount",value:function(){return 0}},{key:"isRowVisible",value:function(t){}},{key:"deleteDrawCache",value:function(){}},{key:"draw",value:function(){}},{key:"createUpdates",value:function(t){return new(a.components.GanttUpdates.impl||a.components.GanttUpdates)(t)}},{key:"highlightRow",value:function(t,e,i){}},{key:"setRowFilter",value:function(t){}},{key:"filterChanged",value:function(){}},{key:"isRowFiltered",value:function(t){return!1}},{key:"toggleCollapseRow",value:function(t,e){}},{key:"setHeaderHeight",value:function(t){}},{key:"getTableBody",value:function(){}},{key:"getScrollableTable",value:function(){}},{key:"getTop",value:function(t){return t&&t.offsetTop-this.getTableBody().offsetTop||0}},{key:"getRowAt",value:function(t){}},{key:"getHeight",value:function(){}},{key:"nextRow",value:function(t){return null}},{key:"getRow",value:function(t){return null}},{key:"getRowName",value:function(t){return t.name}},{key:"getRowTop",value:function(t){return t.tr&&t.tr.offsetTop-this.getTableBody().offsetTop||0}},{key:"expandParents",value:function(t){}}]),e}(h);v.defaultClass="";var g=function(t){function e(t,i){r(this,e);var o=n(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));return i&&o.setConfiguration(i),o}return o(e,t),s(e,[{key:"setConfiguration",value:function(t){}}]),e}(h),y=function(t){function e(t,i){r(this,e);var o=n(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));return o.node=t,o.events=a.events,o.constraintTypes=a.constraintTypes,o}return o(e,t),s(e,[{key:"setConfiguration",value:function(t){}},{key:"draw",value:function(){}},{key:"startUpdating",value:function(){}},{key:"stopUpdating",value:function(){}},{key:"getModel",value:function(){}},{key:"getRowCount",value:function(){return 0}},{key:"getRow",value:function(t){return null}},{key:"getVisiibleRows",value:function(){return[]}},{key:"ensureRowVisible",value:function(t){}},{key:"isRowVisible",value:function(t){}},{key:"getFirstVisibleRow",value:function(){}},{key:"setFirstVisibleRow",value:function(t){}},{key:"isRowFiltered",value:function(t){}},{key:"toggleCollapseRow",value:function(t,e){}},{key:"scrollToY",value:function(t){}},{key:"getRowActivities",value:function(t){}},{key:"resetZoom",value:function(){}},{key:"zoomIn",value:function(t){}},{key:"zoomOut",value:function(t){}},{key:"zoom",value:function(t,e){}},{key:"fitToContent",value:function(){}},{key:"getVisibleHeight",value:function(){return 0}},{key:"addFilter",value:function(t,e,i){}},{key:"addFilter",value:function(t,e){}},{key:"removeFilter",value:function(t,e){}},{key:"search",value:function(t,e,i){}},{key:"setHideEmptyRows",value:function(t,e){}}]),e}(h),m=function t(e){r(this,t)},b=function(){function t(e,i,n){r(this,t),i&&a.utils.mergeObjects(this,i),this.config=e,this.paletteHandler=n,this.setConfiguration(e)}return s(t,[{key:"setConfiguration",value:function(t){}}]),t}(),w=function(){function t(e){r(this,t)}return s(t,[{key:"layout",value:function(t){}},{key:"allowVariableRowHeight",value:function(){return!1}}]),t}();a.ObjectTypes={Activity:2,Resource:4,Row:1,Constraint:8,Reservation:16};var T=function(t){function e(t,i){r(this,e);var o=n(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,null,t));return o.selections=[],o.selectionType=null,i&&a.utils.mergeObjects(o,i),o.setConfiguration(t),o}return o(e,t),s(e,[{key:"setConfiguration",value:function(t){}},{key:"getObjectType",value:function(t){}},{key:"select",value:function(t,e,i){}},{key:"clearSelection",value:function(){this.selections=[]}},{key:"isSelected",value:function(t){return this.selections.indexOf(t)>=0}},{key:"processClick",value:function(t,e){}},{key:"destroy",value:function(){this.selections=[]}}]),e}(h),E=function(t){function e(t,i){r(this,e);var o=n(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,null,t));return i&&a.utils.mergeObjects(o,i||t),o.setConfiguration(t),o}return o(e,t),s(e,[{key:"setConfiguration",value:function(t){}},{key:"connect",value:function(t){}},{key:"disconnect",value:function(){}},{key:"destroy",value:function(){this.disconnect()}}]),e}(h),k=function(){function t(e){r(this,t)}return s(t,[{key:"getColors",value:function(t){}}]),t}();a.defaultPaletteName=null,a.defaultPalettes={};var C=function(){function t(e){r(this,t),this.parent=e}return s(t,[{key:"addUpdate",value:function(t){}},{key:"removeUpdate",value:function(t){}},{key:"reload",value:function(){this._reload=!0}},{key:"isReload",value:function(){return!1}},{key:"destroy",value:function(){}},{key:"startUpdating",value:function(){}},{key:"stopUpdating",value:function(){}}]),t}(),_=function(t){function e(t,i,o){r(this,e);var s=n(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,o));return s.node=i,s.setConfiguration(o,i),s}return o(e,t),s(e,[{key:"setConfiguration",value:function(t,e){this.config=t}},{key:"connect",value:function(t){}},{key:"ganttLoaded",value:function(t,e){}},{key:"onInitialized",value:function(){}},{key:"destroy",value:function(){}}]),e}(h);_.createTitle=function(t){var e=document.createElement("div");return e.innerHTML=t,e.className="toolbar-title",e};var S=function(t){function e(t,i){r(this,e);var o=n(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));return o.callbacks=[],o.setConfiguration(i),o}return o(e,t),s(e,[{key:"setConfiguration",value:function(t){var e=this,i=document.createElement("div");if(t.id&&(i.id=t.id),i.className="toolbar-button g-hoverable g-selectable"+(t.classes?" "+t.classes:""),t.icon){var n=document.createElement("img");n.src=t.icon,n.alt="",i.appendChild(n)}if(t.fontIcon){var o=document.createElement("i");o.className=t.fontIcon+(t.text?" fa-fw":""),i.appendChild(o)}return t.text&&i.appendChild(document.createTextNode(t.text)),this.node=i,this.node.onclick=function(t){e.clicked(t),e.callbacks.map(function(i){i({gantt:e.gantt,event:t})})},t.onclick&&this.onclick(t.onclick),i}},{key:"onclick",value:function(t){this.callbacks.push(t)}},{key:"clicked",value:function(t){}},{key:"setId",value:function(t){this.node.id=t}},{key:"update",value:function(){}},{key:"setSelected",value:function(t){a.utils.toggleClass(this.node,"selected",t)}}]),e}(h),L=function(t){function e(t,i){r(this,e);var o=n(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));return o.setConfiguration(i),o}return o(e,t),s(e,[{key:"setConfiguration",value:function(t){var e=this.node=document.createElement("div");e.style.whiteSpace="nowrap";var i=this.inputNode=document.createElement("input");i.setAttribute("type","checkbox"),i.setAttribute("value","None"),i.className="g-selectable g-hoverable",t.id&&(i.id=id),t.classes&&(e.className=t.classes),e.appendChild(i);var n=document.createElement("label");if(t.id&&n.setAttribute("for",t.id),t.icon){var o=document.createElement("img");o.src=t.icon,o.alt="",n.appendChild(o)}return t.text&&n.appendChild(document.createTextNode(t.text)),t.onclick&&this.onclick(t.onclick),e.appendChild(n),e}},{key:"setChecked",value:function(t){this.inputNode.checked=t}},{key:"onclick",value:function(t){var e=this;this.inputNode.onclick=function(i){t(e.inputNode.checked,{gantt:e.gantt,event:i})}}},{key:"update",value:function(){}},{key:"setId",value:function(t){this.inputNode.id=t}}]),e}(h);L.defaultClass=null;var x=function(t){function e(t,i){r(this,e);var o=n(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));return o.setConfiguration(i),o}return o(e,t),s(e,[{key:"setConfiguration",value:function(t){var e=this;this.callbacks=[];var i=this._node=document.createElement("div");this._isSel=t.isSelected&&t.isSelected(this.gantt),this.btnUnselected=new(a.components.Button.impl||a.components.Button)(this.gantt,t.unselected),this.btnSelected=new(a.components.Button.impl||a.components.Button)(this.gantt,t.selected),i.appendChild(this._isSel?this.btnSelected.node:this.btnUnselected.node),t.id&&(i.id=id);var n=function(t){e._isSel=!e._isSel,e.updateButtons(e._isSel),e.callbacks.forEach(function(i){i(e._isSel,{gantt:e.gantt,event:t})})};return this.btnUnselected.node.onclick=this.btnSelected.node.onclick=n,t.onclick&&this.onclick(t.onclick),i}},{key:"isSelected",value:function(){return this._isSel}},{key:"setSelected",value:function(t){this._isSel=t,this.updateButtons(t)}},{key:"onclick",value:function(t){this.callbacks.push(t)}},{key:"update",value:function(){this.updateButtons(this.config.isSelected?this._isSel=this.config.isSelected(this.gantt):this._isSel)}},{key:"updateButtons",value:function(t){this.btnSelected.node.parentNode?t||this._node.replaceChild(this.btnUnselected.node,this.btnSelected.node):this.btnUnselected.node.parentNode&&this._node.replaceChild(this.btnSelected.node,this.btnUnselected.node)}},{key:"node",get:function(){return this._node},set:function(t){this._node=t}}]),e}(h);x.defaultClass=null;var R=function(t){function e(t,i){r(this,e);var o=n(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));return o.setConfiguration(i),o}return o(e,t),s(e,[{key:"setConfiguration",value:function(t){var i=this.node=document.createElement("div"),n=e.defaultClass;if(n&&(i.className=n),t.classes&&a.utils.addClass(i,t.classes),t.text||t.icon||t.fontIcon){var o=document.createElement("div");if(o.className="label",t.icon){var r=document.createElement("img");r.src=t.icon,r.alt="",o.appendChild(r)}if(t.fontIcon){var s=document.createElement("i");s.className=t.fontIcon+(t.text?" fa-fw":""),o.appendChild(s)}t.text&&o.appendChild(document.createTextNode(t.text)),i.appendChild(o)}var l=this.selectNode=document.createElement("select");l.className="g-hoverable";for(var u,c,h=0,d=t.options.length;h<d;h++)u=t.options[h],c=document.createElement("option"),c.text=u.text,c.value=u.value,l.appendChild(c);return i.appendChild(l),t.onchange&&this.onchange(t.onchange),i}},{key:"select",value:function(t){this.selectNode.value=t}},{key:"onchange",value:function(t){var e=this;this.selectNode.onchange=function(i){t(e.selectNode.value,{gantt:e.gantt,event:i})}}},{key:"update",value:function(){}},{key:"setId",value:function(t){this.selectNode.id=t}}]),e}(h);R.defaultClass="dropdown-list";var N=function(t){function e(t,i){r(this,e);var o=n(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));return o.setConfiguration(i),o}return o(e,t),s(e,[{key:"setConfiguration",value:function(t){var i=this.node=document.createElement("div");if(e.defaultClass&&(i.className=e.defaultClass),t.classes&&a.utils.addClass(i,t.classes),i.style.display="flex",i.style.flexDirection="row",i.style.alignItems="center",t.text||t.icon||t.fontIcon||"search"===t.type){var n=document.createElement("div");if(n.className="label",n.style.display="inline-block",t.icon){var o=document.createElement("img");o.src=t.icon,o.alt="",n.appendChild(o)}if(t.fontIcon){var r=document.createElement("i");r.className=t.fontIcon+(t.text?" fa-fw":""),r.setAttribute("aria-disabled",!0),n.appendChild(r)}else if("search"===t.type){var s=document.createElement("i");s.setAttribute("aria-disabled",!0),s.className="fa fa-search fa-lg"+(t.text?" fa-fw":""),n.appendChild(s)}t.text&&n.appendChild(document.createTextNode(t.text)),i.appendChild(n)}var l=this.inputNode=document.createElement("input");i.appendChild(l);var u=document.createElement("div");u.className="delete-button",u.display="inline-block";var c=document.createElement("i");return c.className="fa fa-times fa-lg",u.appendChild(c),i.appendChild(u),u.onclick=function(){if(l.value="","createEvent"in document){var t=document.createEvent("HTMLEvents");t.initEvent("change",!1,!0),l.dispatchEvent(t)}else l.fireEvent("onchange")},t.onchange&&this.onchange(t.onchange),i}},{key:"setText",value:function(t){this.input.value=t}},{key:"onchange",value:function(t){var e=this,i=function(i){t(e.inputNode.value,{gantt:e.gantt,event:i})};this.inputNode.onchange=i,this.inputNode.onkeyup=i}},{key:"setId",value:function(t){this.inputNode.id=t}}]),e}(h);N.defaultClass="input-box";var O=function(t){function e(t,i){r(this,e);var o=n(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));return o.selected=null,o.callbacks=[],o.setConfiguration(i),o}return o(e,t),s(e,[{key:"setConfiguration",value:function(t){function e(t){t.clicked=function(){n.setSelected(t)}}var i=this.node=document.createElement("div");t.classes&&(i.className=t.classes),this.buttons=[],a.utils.addClass(i,"button-group"),i.style.display="flex",i.style.flexDirection="row",i.style.alignItems="center";var n=this;this.value=null;for(var o=t.buttons,r=0;r<o.length;++r){var s=new(a.components.Button.impl||a.components.Button)(this.gantt,o[r]);this.buttons.push(s),e(s),o[r].selected&&(this.selected=s,s.setSelected(!0),this.value=s.value),s.value=o[r].value,i.appendChild(s.node)}return t.onchange&&this.onchange(t.onchange),void 0!==t.value&&this.setValue(t.value),i}},{key:"setValue",value:function(t,e){for(var i=0;i<this.buttons.length;i++)if(this.buttons[i].value===t){this.setSelected(this.buttons[i],e);break}}},{key:"getValue",value:function(){return this.value}},{key:"setSelected",value:function(t,e){var i=this;this.selected!==t&&(this.selected&&this.selected.setSelected(!1),this.selected=t,t?(this.value=t.value,t.setSelected(!0)):this.value=null,e||this.callbacks.map(function(t){t(i.value)}))}},{key:"onchange",value:function(t){this.callbacks.push(t)}},{key:"setId",value:function(t){this.inputNode.id=t}}]),e}(h),M=function(t){function e(t,i,o){r(this,e);var s=n(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i,o));return s.node=i,s.setConfiguration(o),s}return o(e,t),s(e,[{key:"setConfiguration",value:function(t){}}]),e}(h),H=function(t){function e(t,i,o){r(this,e);var s=n(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i,o));return s.node=i,s.setConfiguration(o),s}return o(e,t),s(e,[{key:"setConfiguration",value:function(t){}},{key:"setConstraints",value:function(t){}},{key:"setNode",value:function(t){}}]),e}(h),A=function(t){function e(t,i){r(this,e);var o=n(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,null,i));return o.setConfiguration(i),o}return o(e,t),s(e,[{key:"setConfiguration",value:function(t){}},{key:"startInitialize",value:function(){}},{key:"addNode",value:function(t){}},{key:"addConstraint",value:function(t,e,i){}},{key:"stopInitialize",value:function(){}},{key:"forEachLink",value:function(t,e){}},{key:"layoutNode",value:function(t){}},{key:"layoutRowNodeLinks",value:function(t){}},{key:"drawRowLinks",value:function(t,e,i,n){}}]),e}(h);a.components={Component:h,GanttPanel:y,GanttModel:g,TreeTable:v,TimeLine:f,TimeTable:p,Split:c,Tooltip:l,Filter:m,DataFetcher:u,ErrorHandler:d,Renderer:b,ActivityLayout:w,SelectionHandler:T,LayoutSynchronizer:E,GanttUpdates:C,Palette:k,Toolbar:_,Button:S,CheckBox:L,Toggle:x,DropDownList:R,Input:N,ButtonGroup:O,LoadResourceChart:M,ConstraintsGraph:H,ConstraintLayout:A},a.envReady=function(){return Promise.resolve(!0)}},function(e,i){e.exports=t},function(t,i){t.exports=e},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(1),u=n(l),c={cascadeOffset:5,topMargin:1,bottomMargin:1,subRowPadding:1,constantRowHeight:!1,compareBoundingBoxes:!1,miniWidth:4},h="logistic",d="tile",f={},p="mini-activity",v="milestone";f[h]=function(t){g.sortTasksOnStart(t);var e,i=g.computeSubRows(t),n=t.height-this.topMargin-this.bottomMargin-1;i>1&&(e=this.cascadeOffset,n=Math.max(n-this.cascadeOffset*(i-1),0),0==n&&(e=0));for(var o,r=t.activities&&t.activities.length||0,s=0;s<r;++s)o=t.activities[s],o.node&&(o.node.style.top=this.topMargin+e*o.subRowIndex+"px",o.node.style.height=n)},f[d]=function(t){var e=t.tableRowHeight,i=this.topMargin,n=this.bottomMargin,o=e-i-n-1;if(o<=0){o=1;var r=e-o;i=r*i/(i+n),n=r-i}var s=this.compareBoundingBoxes?function(t,e){return t.left-e.left}:function(t,e){return t.start-e.start};t.activities.sort(s);var a=this.setTaskSubRows(t),l=this.subRowPadding;this.constantRowHeight?(l*(a.length-1)>=o&&(l=o/(a.length-1)),o=(o-(a.length-1)*l)/a.length):(e=i+n+a.length*o+(a.length-1)*l,t.setRowHeight(Math.round(e)));for(var u,c,h,d=i,f=0;f<a.length;f++){for(u=a[f],h=0;h<u.length;h++)c=u[h],c.node.style.top=d+"px",c.node.style.height=o+"px";d+=o+l}};var g=function(t){function e(t,i,n){o(this,e);var s=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return u.default.utils.mergeObjects(s,c,t,i),s.ctx=n,s.strategy&&("string"==typeof t.strategy?s.getLayoutStrategy=function(){return s.strategy}:"function"==typeof s.strategy&&(s.getLayoutStrategy=function(){return s.strategy(s.ctx)})),s}return s(e,t),a(e,[{key:"layout",value:function(t){if(t.activities&&t.activities.length){var e=this.getLayoutStrategy(),i=void 0;if(this.layoutHorizontally(t),e&&(i=f[e]))i.call(this,t);else for(var n=void 0,o=void 0,r=0;r<t.activities.length;r++)n=t.activities[r],o=n.node,o&&(o.style.top=""+this.topMargin+"px",o.style.height=""+(t.height-this.topMargin-this.bottomMargin-1)+"px")}}},{key:"allowVariableRowHeight",value:function(){var t=this.getLayoutStrategy();return!(!t||t!==d||this.constantRowHeight)}},{key:"layoutHorizontally",value:function(t){for(var e=void 0,i=void 0,n=void 0,o=t.activities.length,r=0;r<o;r++)e=t.activities[r],i=e.node,i&&(n=e.left=t.getX(e.start),i.style.left=""+n+"px",i.style.width=(e.width=t.getX(e.end)-n+1)+"px",e.width<=this.miniWidth&&!u.default.utils.hasClass(i,v)&&(e.width=this.miniWidth,i.style.width=e.width+"px",u.default.utils.addClass(i,p)))}},{key:"getLayoutStrategy",value:function(){return null}},{key:"layoutVertically",value:function(t){t.subRows=[]}},{key:"setTaskSubRows",value:function(t){for(var e,i,n=[],o=0,r=t.activities&&t.activities.length||0;o<r;++o)if(e=t.activities[o],e.node){for(i=0;i<n.length&&!this.addGraphicToSubRowIfFits(e,n[i]);i++);i==n.length&&n.push([e])}return n}},{key:"addGraphicToSubRowIfFits",value:function(t,e){if(e.length){var i=e[e.length-1];if(this.compareBoundingBoxes){if(t.left<i.left+i.width)return!1}else if(t.start<i.end)return!1;e.push(t)}else e.push(t);return!0}}],[{key:"sortTasksOnStart",value:function(t){t.activities.sort(function(t,e){return t.start-e.start})}},{key:"computeSubRows",value:function(t){var e=[],i=void 0,n=void 0,o=void 0,r=void 0,s=0,a=t.activities&&t.activities.length||0;for(n=0;n<a;++n)if(o=t.activities[n],o.node){for(r=0;r<s&&(i=e[r],!(o.start===i||o.start>i));r++);o.subRowIndex=r,r<s?e[r]=o.end:(e.push(o.end),s++)}return s}},{key:"STRATEGY_LOGISTIC",get:function(){return h}},{key:"STRATEGY_TILE",get:function(){return d}},{key:"STRATEGIES",get:function(){return f}}]),e}(u.default.components.ActivityLayout);e.default=g,u.default.components.ActivityLayout.impl=g},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(1),u=n(l),c={linkOutlineWidth:2},h="_",d=1e3,f=800,p="constraint-link",v="constraint-link-ctnr",g="constraint-arrow",y="selected",m=function(t){function e(t,i,n){return o(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i,u.default.utils.mergeObjects({},c,n)))}return s(e,t),a(e,[{key:"setConfiguration",value:function(t){var e=this;this.destroy(),this.create(),this.ready=Promise.resolve([]),t.layout&&u.default.utils.isFunction(t.layout)?this.layout=new t.layout(this.gantt):this.layout=new(u.default.components.ConstraintLayout.impl||u.default.components.ConstraintLayout)(this.gantt,t.layout),this.linkRenderer=new(u.default.components.Renderer.impl||u.default.components.Renderer)(t.renderer,E,this.gantt),t.linkOutlineWidth&&(this.linkRenderer.linkOutlineWidth=t.linkOutlineWidth);var i=this.node;this.node=null,this.setNode(i);var n=this.gantt.selection;n.on(u.default.events.CONSTRAINT_SELECTION_CLEARED,function(t,i){return e.clearConstraintSelection(i)}),n.on(u.default.events.CONSTRAINT_SELECTED,function(t,i){return e.selectConstraints(i)}),n.on(u.default.events.CONSTRAINT_UNSELECTED,function(t,i){return e.unselectConstraints(i)})}},{key:"setNode",value:function(t){var e=this;this.node&&(this.gantt.errorHandler.removeGroup(this.node),this.tooltipEnter&&(u.default.utils.removeEventListener(this.node,"mouseenter",this.tooltipEnter),u.default.utils.removeEventListener(this.node,"mouseleave",this.tooltipLeave),u.default.utils.removeEventListener(this.node,"click",this.clickHandler)),this.node.innerHTML=""),this.node=t,t&&(this.tooltipEnter||(this.tooltipEnter=function(t){var i=e.getConstraintNode(t.target);!i||e.gantt.timeTable.isDragAndDropping&&e.gantt.timeTable.isDragAndDropping()||e.showTooltip(i)},this.tooltipLeave=function(t){var i=e.getConstraintNode(t.target);i&&e.tooltipElt==i&&e.hideTooltip(d)},this.clickHandler=function(t){return e.processClick(t)}),u.default.utils.addEventListener(this.node,"mouseenter",this.tooltipEnter,!0),u.default.utils.addEventListener(this.node,"mouseleave",this.tooltipLeave,!0),u.default.utils.addEventListener(this.node,"click",this.clickHandler,!0))}},{key:"create",value:function(){this.config&&this.config.classes&&u.default.utils.addClass(this.config.classes)}},{key:"setConstraints",value:function(t){var e=this;this.cts=t,t&&t.length?this.ready=new Promise(function(i){setTimeout(function(){e.processConstraints(t),i()},0)}):this.ready=Promise.resolve([])}},{key:"processConstraints",value:function(t){var e=this.gantt.table,i=this.gantt.timeTable.getActivityFilter(),n=void 0,o=void 0,r=void 0,s=void 0,a=void 0;this.layout.startInitialize();try{for(n=e.getFirstVisibleRow();n;n=e.nextRow(n))if(r=n.activities,o=r&&r.length)for(a=0;a<o;++a)s=r[a],s=!i||i.accept(s,n)?s:null,s&&(s.consNode=this.layout.addNode(s,n.index));var l=void 0,u=void 0,c=void 0;for(a=0,o=t.length;a<o;++a)c=t[a],c.nodes=null,l=c.from.consNode,u=c.to.consNode,l&&u&&this.layout.addConstraint(l,u,c)}catch(t){throw this.addError(t,"Error processing constraints"),this.layout.stopInitialize(),t}this.layout.stopInitialize()}},{key:"addError",value:function(t,e){this.errorNode||(this.errorNode=document.createElement("div"),this.errorNode.style.opacity="0.80",this.gantt.timeTablePanel.appendChild(this.errorNode)),this.gantt.errorHandler.addError(t,e,this.errorNode)}},{key:"destroy",value:function(){this.layout&&this.layout.destroy&&this.layout.destroy(),this.layout=null,this.node&&this.tooltipEnter&&(u.default.utils.removeEventListener(this.node,"mouseenter",this.tooltipEnter),u.default.utils.removeEventListener(this.node,"mouseleave",this.tooltipLeave),this.tooltipEnter=this.tooltipLeave=null)}},{key:"clearCache",value:function(){if(this.cts)for(var t=0,e=this.cts.length;t<e;++t)this.cts[t].fromNode=null,this.cts[t].toNode=null;
}},{key:"clear",value:function(){this.node.innerHTML="",this.clearCache()}},{key:"clearLinks",value:function(){this.layout.clearLinks()}},{key:"resetLayout",value:function(){this.layout.resetLayout()}},{key:"draw",value:function(t,e){var i=this;return t.length?this.ready.then(function(){function n(i,n){var a=void 0,l=void 0;if(n<r)for(a=t[0].row,l=t[0].y;n<r;)a=o.prevRow(a),e(a),l-=a.activityRow.height,t.splice(0,0,{y:l,row:a,height:a.activityRow.height,index:--r});else if(n>s)for(a=t[s],l=a.y+a.height,a=a.row;n>s;)a=o.nextRow(a),e(a),t.push({y:l,row:a,height:a.activityRow.height,index:++s}),l+=a.activityRow.height;return a=t[n-r],i.node?{x:i.left,y:a.y,top:parseInt(i.node.style.top),width:i.node.offsetWidth,height:i.node.offsetHeight,rowHeight:a.height}:{x:0,y:a.y,top:0,width:0,height:0,rowHeight:a.height}}var o=i.gantt.table,r=t[0].row.index,s=t[t.length-1].row.index;i.layout.getNodeRect=n;var a={gantt:i.gantt,nodeToLinkPadding:i.layout.horizLinkToNodeDist,linkToLinkPadding:i.layout.horizLinkToLinkDist},l=void 0,u=void 0,c=t.length;try{for(l=0,u=r;l<c;l++,u++)i.layout.layoutRowNodeLinks(u,i.linkRenderer,a)}catch(t){i.addError(t)}try{var h=document.createDocumentFragment();for(l=0,u=r;l<c;l++,u++)i.layout.drawRowLinks(u,h,i.linkRenderer,a);i.node.appendChild(h)}catch(t){i.addError(t,"Error drawing constraints")}}):this.ready}},{key:"getConstraint",value:function(t){var e=t.id,i=e.indexOf(h),n=void 0;if(i>=0){for(;(n=e.indexOf(h,i+1))>0;)i=n;e=e.substring(0,i)}var o=void 0;return this.cts.byIds&&(o=this.cts.byIds[e])?o:null}},{key:"getConstraintNode",value:function(t){for(var e=null;t&&t!==this.node;t=t.parentNode){if(u.default.utils.hasClass(t,v)||u.default.utils.hasClass(t,g))return t;u.default.utils.hasClass(t,p)&&(e=t)}return e}},{key:"showTooltip",value:function(t){var e=this,i=void 0;if(t&&t!=this.tooltipElt&&(i=this.getConstraint(t))){this.tooltipElt=t;var n={limitElt:this.gantt.getBody(),showDelay:f};this.gantt.tooltip.showTooltip(t,n,function(t){var n={gantt:e.gantt};e.linkRenderer.getTooltip(t,i,n)})}}},{key:"hideTooltip",value:function(t){this.tooltipElt=null,this.gantt.tooltip.hideTooltip(t)}},{key:"processClick",value:function(t){this.hideTooltip();var e=this.getConstraintNode(t.target),i=void 0;e&&(i=this.getConstraint(e))&&this.gantt.selection.processClick(t,i)}},{key:"clearConstraintSelection",value:function(t){for(var e,i,n=0,o=t.length;n<o;++n)if(i=t[n],e=i.nodes)for(var r=0,s=e.length;r<s;r++)u.default.utils.removeClass(e[r],y)}},{key:"selectConstraints",value:function(t){for(var e,i=0;i<t.length;i++)if(e=t[i].nodes)for(var n=0,o=e.length;n<o;n++)u.default.utils.addClass(e[n],y)}},{key:"unselectConstraints",value:function(t){for(var e,i=0;i<t.length;i++)if(e=t[i].nodes)for(var n=0,o=e.length;n<o;n++)u.default.utils.removeClass(e[n],y)}}]),e}(u.default.components.ConstraintsGraph);e.default=m;var b=1,w=function(){function t(){o(this,t)}return a(t,[{key:"startLayout",value:function(t,e){}},{key:"getNodeToLabelSpacing",value:function(t,e,i,n){}}]),t}(),T=function(t){function e(t){o(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.left=t,i}return s(e,t),a(e,[{key:"getNodeToLabelSpacing",value:function(t,e,i,n){return this.left?-n.nodeToLinkPadding:n.nodeToLinkPadding}}]),e}(w),E={drawLink:function(t,e,i,n,o){if(e.length<2)return null;for(var r=e[0].x,s=e[0].y,a=[],l=this.color?this.color(t,o):void 0,u=this.getCSS&&this.getCSS(t,o),c=this.lineWidth&&this.lineWidth(t,o),d=0,f=void 0,g=void 0,y=void 0;;){if(f=document.createElement("div"),f.style.position="absolute",f.style.pointerEvents="auto",g=e[++d],t&&t.id&&(f.id=t.id+h+d),y=g.y===s,f.className=p+" "+(y?"constraint-horiz-link":"constraint-vert-link"),this.linkOutlineWidth)if(f.className=v+" "+(y?"constraint-horiz-link":"constraint-vert-link"),y){f.style.height=(c||1)+this.linkOutlineWidth+this.linkOutlineWidth+"px",f.style.paddingTop=f.style.paddingBottom=this.linkOutlineWidth+"px",f.style.top=s-this.linkOutlineWidth+"px",f.style.left=Math.min(r,g.x)+"px",f.style.width=Math.abs(r-g.x)+(d&&r>g.x?c||1:0)+"px",u&&(f.className+=" "+u);var m=document.createElement("div");m.className=p+" constraint-horiz-link",c&&(m.style.height=c+"px"),m.style.width="100%",f.appendChild(m)}else{f.style.width=(c||1)+this.linkOutlineWidth+this.linkOutlineWidth+"px",f.style.paddingLeft=f.style.paddingRight=this.linkOutlineWidth+"px",f.style.left=r-this.linkOutlineWidth+"px",f.style.top=Math.min(s,g.y)+"px",f.style.height=Math.abs(s-g.y)+"px",u&&(f.className+=" "+u);var w=document.createElement("div");w.className=p+" constraint-vert-link",c&&(w.style.width=c+"px"),w.style.height="100%",f.appendChild(w)}else y?(c&&(f.style.height=c+"px"),f.style.top=s+"px",f.style.left=Math.min(r,g.x)+"px",f.style.width=Math.abs(r-g.x)+(d&&r>g.x?c||1:0)+"px",u&&(f.className+=" "+u)):(c&&(f.style.width=c+"px"),f.style.left=r+"px",f.style.top=Math.min(s,g.y)+"px",f.style.height=Math.abs(s-g.y)+"px",u&&(f.className+=" "+u));if(a.push(f),n.appendChild(f),d===e.length-1){if(i===b&&y){var T=this.arrowWidth(t,o),E=this.arrowHeight(t,o);f=r<g.x?this.drawRightArrow(g.x,s,T,E,l):this.drawLeftArrow(g.x,s,T,E,l),f.style.pointerEvents="auto",u&&(f.className+=" "+u),t&&t.id&&(f.id=t.id+h+"arrow"),a.push(f),n.appendChild(f)}return a}r=g.x,s=g.y}},drawLeftArrow:function(t,e,i,n,o){var r=document.createElement("div");return r.style.position="absolute",r.className=g+" constraint-left-arrow",r.style.left=t+"px",r.style.top=e-(n-1)+"px",r.style.width="0",r.style.height="0",r.style.borderTop=n+"px solid transparent",r.style.borderBottom=n+"px solid transparent",r.style.borderRightWidth=i+"px",r.style.borderRightStyle="solid",o&&(r.style.borderRightColor=o),r},drawRightArrow:function(t,e,i,n,o){var r=document.createElement("div");return r.style.position="absolute",r.className=g+" constraint-right-arrow",r.style.left=t-i+"px",r.style.top=e-(n-1)+"px",r.style.width="0",r.style.height="0",r.style.borderTop=n+"px solid transparent",r.style.borderBottom=n+"px solid transparent",r.style.borderLeftWidth=i+"px",r.style.borderLeftStyle="solid",o&&(r.style.borderLeftColor=o),r},arrowWidth:function(){return 5},arrowHeight:function(){return 5},getTooltipProperties:function(t,e){var i=function(t){return t.name||t.id},n=[u.default.utils.getString("gantt.constraintChart.from"),i(t.from),u.default.utils.getString("gantt.constraintChart.to"),i(t.to),u.default.utils.getString("gantt.constraintChart.type")],o=void 0;return o=t.type===u.default.constraintTypes.START_TO_START?u.default.utils.getString("gantt.constraintChart.start.start"):t.type===u.default.constraintTypes.START_TO_END?u.default.utils.getString("gantt.constraintChart.start.end"):t.type===u.default.constraintTypes.END_TO_END?u.default.utils.getString("gantt.constraintChart.end.end"):u.default.utils.getString("gantt.constraintChart.end.start"),n.push(o),n},processConfiguration:function(t,e){this.defaultProcessConfiguration(t,e),e.lineWidth&&this.addLineWidthConfiguration(t,e.lineWidth),e.arrowWidth&&this.addArrowConfiguration(t,e.arrowWidth,"arrowWidth"),e.arrowHeight&&this.addArrowConfiguration(t,e.arrowWidth,"arrowHeight"),e.nodeLabelLayout&&this.addNodeLabelLayoutConfiguration(t,e.nodeLabelLayout)},setColor:function(t,e){t.style.color=e},destroy:function(){},addLineWidthConfiguration:function(t,e){var i;if("function"==typeof e)i=e;else if("string"==typeof e){var n=u.default.utils.propertyEvaluator(e);n&&(i=function(t,e){return n(t,e)})}else i=function(){return e};if(i){var o=this.lineWidth;this.lineWidth=function(e,n){return!t||t(e,n)?i(e,n):o&&o(e,n)}}},addArrowConfiguration:function(t,e,i){var n;if("function"==typeof e)n=e;else if("string"==typeof e){var o=u.default.utils.propertyEvaluator(e);o&&(n=function(t,e){return o(t,e)})}else n=function(){return e};if(n){var r=this[i];this[i]=function(e,i){return!t||t(e,i)?n(e,i):r&&r(e,i)}}},addNodeLabelLayoutConfiguration:function(t,e){var i=void 0;if("string"==typeof e?"left"===e||"LEFT"===e?i=new T(!0):"right"!==e&&"RIGHT"!==e||(i=new T(!1)):u.default.utils.isFunction(e)?(i=new w,i.getNodeToLabelSpacing=e):i=e,i){var n=this.getLabelLayout;this.getLabelLayout=function(e,o){return!t||t(e,o)?i:n&&n(e,o)}}}};u.default.components.ConstraintsGraph.impl=m},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){var i=t.topIndex(),n=e.topIndex();return i<n?1:i>n?-1:(i=t.bottomIndex(),n=e.bottomIndex(),i<n?1:i>n?-1:0)}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),u=i(1),c=n(u),h=Number.MAX_VALUE,d=1,f=0,p=1,v=2,g=4,y=new Array(4);y[c.default.constraintTypes.START_TO_START]=0,y[c.default.constraintTypes.START_TO_END]=2,y[c.default.constraintTypes.END_TO_START]=0,y[c.default.constraintTypes.END_TO_END]=2;var m=new Array(4);m[c.default.constraintTypes.START_TO_START]=1,m[c.default.constraintTypes.START_TO_END]=1,m[c.default.constraintTypes.END_TO_START]=3,m[c.default.constraintTypes.END_TO_END]=3;var b=function(){function t(e){s(this,t),this.ar=[e],e.from.consNode.index<e.to.consNode.index?(this.topNode=e.from.consNode,this.bottomNode=e.to.consNode):(this.topNode=e.to.consNode,this.bottomNode=e.from.consNode)}return l(t,[{key:"addConstraint",value:function(t){this.ar.push(t);var e=t.from.consNode.index;e<this.topNode.index?this.topNode=t.from.consNode:e>this.bottomNode.index&&(this.bottomNode=t.from.consNode)}},{key:"topIndex",value:function(){return this.topNode.index}},{key:"bottomIndex",value:function(){return this.bottomNode.index}},{key:"toNode",value:function(){return this.ar[0].to.consNode}},{key:"switchSides",value:function(){var t=this.ar[0].type;return t===c.default.constraintTypes.END_TO_START||t===c.default.constraintTypes.START_TO_END}},{key:"isDisplayed",value:function(){for(var t=0;t<this.ar.length;t++)if(!this.ar[t].nodes)return!1;return!0}},{key:"toString",value:function(){var t="Link[";return t+=this.ar.length>1?"("+this.ar.map(function(t){return t.from.consNode.toString()}).join(",")+")":this.ar[0].from.consNode.toString(),t+=" -> ",t+=this.ar[0].to.consNode.toString(),t+"]"}},{key:"resetLayout",value:function(){this.x=void 0;for(var t=0;t<this.ar.length;t++)this.ar[t].nodes=void 0}}]),t}(),w=function(){function t(e,i){s(this,t),this.act=e,this.index=i,this.links=[[],[]],this.layoutLinks=0,this.linksDisplayed=0,this.bbox=null,this.incomingLinks=new Array(4),this.connectors=new Array(g),this.nodeLabelLayout=!1;for(var n=0;n<g;n++)this.connectors[n]=0}return l(t,[{key:"addLink",value:function(t,e){for(var i,n=this.links[e],o=0,r=n.length;o<r;o++)if(i=n[o],a(n[o],t)>=0)return void n.splice(o,0,t);n.push(t)}},{key:"getLinks",value:function(t){return this.links[t]}},{key:"getIncomingLink",value:function(t){return this.incomingLinks[t]}},{key:"setIncomingLink",value:function(t,e){this.incomingLinks[t]=e}},{key:"incConnectionCount",value:function(t){this.connectors[t]++}},{key:"setBBox",value:function(t){this.bbox=t}},{key:"hasLinks",value:function(){for(var t=0;t<v;t++)if(this.links[t].length)return!0;return!1}},{key:"clearLinks",value:function(){this.links=[[],[]],this.connectors=new Array(g),this.bbox=null}},{key:"resetLayout",value:function(){for(var t=0;t<v;++t)for(var e,i=0,n=this.links[t];i<n.length;i++)(e=n[i]).toNode()===this&&n[i].resetLayout();this.nodeLabelLayout=!1}},{key:"topRight",value:function(){for(var t=this;t.next;)t=t.next;return t}},{key:"toString",value:function(){return this.act.name||this.act.id}}]),t}(),T={horizLinkToNodeDist:11,horizSwitchSideLinkToNodeDist:8,horizLinkToLinkDist:10,switchSideLinkVertMargin:1},E=function(t){function e(t,i){return s(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i))}return r(e,t),l(e,[{key:"setConfiguration",value:function(t){c.default.utils.mergeObjects(this,T,t)}},{key:"startInitialize",value:function(){this.nodes=[]}},{key:"addNode",value:function(t,e){var i=new w(t,e);return i.next=this.nodes[e],this.nodes[e]=i,i}},{key:"addConstraint",value:function(t,e,i){var n=i.type,o=c.default.constraintTypes.isFromStart(i.type)?f:p,r=e.getIncomingLink(y[n]),s=void 0;if(t.incConnectionCount(m[n]),e.incConnectionCount(y[n]),r){var a=r.topIndex(),l=r.bottomIndex();for(r.addConstraint(i),s=r.topIndex();s<a;s++)this.nodes[s].addLink(r,o);for(s=l+1;s<=r.bottomIndex();s++)this.nodes[s].addLink(r,o)}else for(e.setIncomingLink(y[n],r=new b(i)),s=r.topIndex();s<=r.bottomIndex();s++)this.nodes[s].addLink(r,o)}},{key:"stopInitialize",value:function(){}},{key:"layoutRowNodeLinks",value:function(t,e,i){this.reinteringPath=null;for(var n=this.nodes[t];n;n=n.next)this.layoutOneSideNodeLinks(n,f),this.layoutOneSideNodeLinks(n,p),this.layoutNodeLabel(n,e,i)}},{key:"processConnectors",value:function(t,e){if(t.links[f].length||t.links[p].length)for(var i,n,o=t.act.children&&t.act.children.length,r=o?e.height/2:e.height,s=0,a=0;s<v;s++,a+=2)i=t.connectors[a],n=t.connectors[a+1],(i||n)&&(i&&(t.connectors[a]=e.y+e.top+r/(n?3:2)),n&&(t.connectors[a+1]=e.y+e.top+r-r/(i?3:2)))}},{key:"layoutOneSideNodeLinks",value:function(t,e,i){t.bbox||(t.setBBox(this.getNodeRect(t.act,t.index)),this.processConnectors(t,t.bbox));for(var n,o=e===f,r=t.bbox.x+(o?-this.horizLinkToNodeDist:t.bbox.width+this.horizLinkToNodeDist),s=r,a=0,l=t.getLinks(e),u=i?l.indexOf(i):l.length;a<u;a++){if(n=l[a],void 0===n.x){n.x=h;var c=r,d=void 0;if(n.switchSides()){var p=n.toNode();d=p.index,p.bbox||(p.setBBox(this.getNodeRect(p.act,p.index)),this.processConnectors(p,p.bbox))}for(var v,g=n.topIndex(),y=n.bottomIndex();g<=y;g++)if(g!==t.index&&g!==d){if(v=this.layoutOneSideNodeLinks(this.nodes[g],e,n),this.reinteringPath){if(this.reinteringPath=this.nodes[g].toString()+" -> "+n.toString()+" -> "+this.reinteringPath,!i)throw new Error("Re-entering layout on "+(o?"left side of ":"right side of ")+this.reinteringPath);return o?Number.MAX_VALUE:Number.MIN_VALUE}c=o?Math.min(c,v):Math.max(c,v)}n.x=c,t.layoutLinks++}else if(n.x===h)return this.reinteringPath=t.toString()+" -> "+n.toString(),o?Number.MAX_VALUE:Number.MIN_VALUE;s=o?Math.min(s,n.x-this.horizLinkToLinkDist):Math.max(s,n.x+this.horizLinkToLinkDist)}return s}},{key:"layoutNodeLabel",value:function(t,e,i){var n=this,o=t.act.label;if(o){var r=e.getLabelLayout&&e.getLabelLayout(t.act,i);if(r){var s=o.getTextWidth(),a=function(e){for(var o=t.bbox.x+(e===f?0:t.bbox.width),s=t.links[e],a=o,l=void 0,u=0,c=void 0;u<s.length;u++)if(c=s[u],c.toNode()!==t||!c.switchSides()){if(l=c.x,r.nextLink(t.act,e===f,c.x,a,o,i))break;a=l}return Math.abs(a+(e===f?-1:1)*(u?n.horizLinkToLinkDist:n.horizLinkToNodeDist)-o)};r.startLayout(t.act,s,i),t.hasLinks()&&r.nextLink&&(a(p),a(f));var l=r.getNodeToLabelSpacing(t.act,t.bbox,s,i);l<0?o.move(!0,-l+s):o.move(!1,l)}}}},{key:"drawLink",value:function(t,e,i,n){var o=t.ar[0],r=o.to.consNode,s=c.default.constraintTypes.isFromStart(o.type),a=c.default.constraintTypes.isToStart(o.type),l=new Array(s!=a?6:4);t.nodes=null;for(var u,h,f,p,v=0,g=t.ar.length;v<g;v++)o=t.ar[v],p=0,u=o.from.consNode,l[p++]={x:s?u.bbox.x:u.bbox.x+u.bbox.width,y:f=u.connectors[m[o.type]]},l[p++]={x:t.x,y:f},s!==a?(f=u.index<r.index?r.bbox.y+this.switchSideLinkVertMargin:r.bbox.y+r.bbox.rowHeight-this.switchSideLinkVertMargin,l[p++]={x:t.x,y:f},h=a?r.bbox.x-this.horizSwitchSideLinkToNodeDist:r.bbox.x+r.bbox.width+this.horizSwitchSideLinkToNodeDist,l[p++]={x:h,y:f},l[p++]={x:h,y:f=r.connectors[y[o.type]]}):l[p++]={x:t.x,y:f=r.connectors[y[o.type]]},l[p++]={x:a?r.bbox.x:r.bbox.x+r.bbox.width,y:f},o.nodes=i.drawLink(o,l,d,e,n)}},{key:"drawRowLinks",value:function(t,e,i,n){for(var o=void 0,r=void 0,s=void 0,a=void 0,l=this.nodes[t];l;l=l.next)if(l.linksDisplayed!==l.links.length)for(o=0;o<v;o++)for(r=l.getLinks(o),s=0,a=r.length;s<a;++s)r[s].isDisplayed()||(l.linksDisplayed++,this.drawLink(r[s],e,i,n))}},{key:"clearLinks",value:function(){for(var t=0,e=this.nodes?this.nodes.length:0;t<e;t++)for(var i=this.nodes[t];i;i=i.next)i.clearLinks()}},{key:"resetLayout",value:function(){for(var t=0,e=this.nodes?this.nodes.length:0;t<e;t++)for(var i=this.nodes[t];i;i=i.next)i.resetLayout()}},{key:"destroy",value:function(){if(this.nodes){for(var t=0,e=this.nodes.length;t<e;t++)this.nodes[t].act&&(this.nodes[t].act.consNode=null);this.nodes=null}}}]),e}(c.default.components.ConstraintLayout);e.default=E,c.default.components.ConstraintLayout.impl=E},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(1),a=n(s),l={keySpeed:10,showMoveOnInvalid:!0,dragActivationThresoldWidth:5,dragActivationThresoldHeight:5},u=function(){function t(e,i){o(this,t),a.default.utils.mergeObjects(this,l,i),this.container=e,this.initialMouseX=void 0,this.initialMouseY=void 0,this.startX=void 0,this.startY=void 0,this.dXKeys=void 0,this.dYKeys=void 0,this.draggedObject=void 0,this.clickedObject=void 0,this.handlers=[],this.methodsToHitch=[],this.hitchedMethods=[]}return r(t,[{key:"addHandler",value:function(t){this.handlers.push(t)}},{key:"removeHandler",value:function(t){var e=this.handlers.indexOf(t);return e>-1&&(this.handlers.splice(e,1),!0)}},{key:"attach",value:function(t){var e=this;t.onmousedown=function(t){return e.startDragMouse(t)}}},{key:"startDragMouse",value:function(t){var e=t||window.event;if(2==e.button)this.draggedObject&&this.cancel(e);else if(!e.button)return this.initialMouseX=e.clientX,this.initialMouseY=e.clientY,e.target.blur(),this.connectDragStarter(e),!1}},{key:"connectDragStarter",value:function(t){this.initOffsetX=t.offsetX,this.initOffsetY=t.offsetY,this.clickedObject=t.target,this.dXKeys=this.dYKeys=0,this.addEventListener(document,"mousemove",this.checkStartDrag),this.addEventListener(document,"mouseup",this.cancelDragStarter),this.addEventListener(document,"keydown",this.dragStarterKeys),this.addEventListener(document,"keypress",this.dragStartSwitchKeyEvents)}},{key:"checkStartDrag",value:function(t){var e=t||window.event,i=e.clientX-this.initialMouseX,n=e.clientY-this.initialMouseY;(Math.abs(i)>=this.dragActivationThresoldWidth||Math.abs(n)>=this.dragActivationThresoldHeight)&&(this.cancelDragStarter(),this.startDrag()&&this.move(i,n))}},{key:"dragStartSwitchKeyEvents",value:function(){this.removeEventListener(document,"keydown",this.dragStarterKeys),this.removeEventListener(document,"keypress",this.switchKeyEvents),this.addEventListener(document,"keypress",this.dragStarterKeys)}},{key:"dragStarterKeys",value:function(t){var e=t||window.event,i=e.keyCode;switch(i){case 37:case 63234:this.dXKeys-=this.keySpeed;break;case 38:case 63232:this.dYKeys-=this.keySpeed;break;case 39:case 63235:this.dXKeys+=this.keySpeed;break;case 40:case 63233:this.dYKeys+=this.keySpeed;break;case 13:case 27:return e.preventDefault&&e.preventDefault(),this.cancelDragStarter(e),!1;default:return!0}return e.preventDefault&&e.preventDefault(),this.cancelDragStarter(),this.startDrag()&&this.move(this.dXKeys,this.dYKeys),!1}},{key:"cancelDragStarter",value:function(){this.removeEventListener(document,"mousemove",this.checkStartDrag),this.removeEventListener(document,"mouseup",this.cancelDragStarter),this.removeEventListener(document,"keypress",this.dragStarterKeys),this.removeEventListener(document,"keypress",this.dragStartSwitchKeyEvents),this.removeEventListener(document,"keydown",this.dragStarterKeys)}},{key:"startDrag",value:function(){var t=this.startMove(this.clickedObject,this.initOffsetX,this.initOffsetY);return!!t&&(this.draggedObject&&this.releaseElement(),this.addEventListener(document,"mousemove",this.dragMouse),this.addEventListener(document,"mouseup",this.dropped),this.addEventListener(document,"keydown",this.dragKeys),this.addEventListener(document,"keypress",this.switchKeyEvents),this.startX=t.offsetLeft,this.startY=t.offsetTop,this.initLeft=t.style.left,this.initTop=t.style.top,this.initParentNode=t.parentNode,this.draggedObject=t,this.invalid=!1,t.className+=" dragged",!0)}},{key:"callHandlers",value:function(t,e){var i=void 0,n=void 0,o=void 0;for(n=0;n<this.handlers.length;n++)if(o=this.handlers[n],o[t]&&(i=o[t](e),void 0!==i&&!i))return!1;return i}},{key:"startMove",value:function(t,e,i){var n=this.callHandlers("startMove",t,e,i);return void 0==n?t:n}},{key:"dragMouse",value:function(t){var e=t||window.event,i=e.clientX-this.initialMouseX,n=e.clientY-this.initialMouseY;return this.move(i,n),!1}},{key:"move",value:function(t,e){var i,n,o,r={dx:t,dy:e,x:this.startX+t,y:this.startY+e};for(this.invalid=!1,i=0;i<this.handlers.length;i++)n=this.handlers[i],n.move&&(o=n.move(r),void 0===o||o||(this.invalid=!0));return!(this.invalid&&!this.showMoveOnInvalid||(this.moved(t,e),void 0!==r.x&&(this.draggedObject.style.left=r.x+"px"),void 0!==r.y&&(this.draggedObject.style.top=r.y+"px"),0))}},{key:"dragKeys",value:function(t){var e=t||window.event,i=e.keyCode;switch(i){case 37:case 63234:this.dXKeys-=this.keySpeed;break;case 38:case 63232:this.dYKeys-=this.keySpeed;break;case 39:case 63235:this.dXKeys+=this.keySpeed;break;case 40:case 63233:this.dYKeys+=this.keySpeed;break;case 13:case 27:return this.cancel(e),!1;default:return!0}return this.move(this.dXKeys,this.dYKeys),e.preventDefault&&e.preventDefault(),!1}},{key:"addEventListener",value:function(t,e,i,n){var o=this,r=this.methodsToHitch.indexOf(i),s=r>=0?this.hitchedMethods[r]:null;r<0?(this.methodsToHitch.push(i),this.hitchedMethods.push(s=function(t){return i.call(o,t)})):s=this.hitchedMethods[r],n?a.default.utils.addEventListener(t,e,s,!0):a.default.utils.addEventListener(t,e,s)}},{key:"removeEventListener",value:function(t,e,i){var n=this.methodsToHitch.indexOf(i);n>=0&&a.default.utils.removeEventListener(t,e,this.hitchedMethods[n])}},{key:"switchKeyEvents",value:function(){this.removeEventListener(document,"keydown",this.dragKeys),this.removeEventListener(document,"keypress",this.switchKeyEvents),this.addEventListener(document,"keypress",this.dragKeys)}},{key:"moved",value:function(t,e){this.callHandlers("moved")}},{key:"stopDrag",value:function(){this.callHandlers("stopMove")}},{key:"cancel",value:function(t){this.restoreInitPosition(),this.callHandlers("cancel"),this.releaseElement(t)}},{key:"restoreInitPosition",value:function(){this.draggedObject&&this.callHandlers("restoreInitPosition")!==!1&&(this.draggedObject.style.left=this.initLeft,this.draggedObject.style.top=this.initTop,this.initParentNode!=this.draggedObject.parentNode&&this.initParentNode.appendChild(this.draggedObject))}},{key:"dropped",value:function(t){var e=t||window.event;if(!e.button&&this.draggedObject){var i=e.clientX-this.initialMouseX,n=e.clientY-this.initialMouseY;this.move(i,n,!0),this.applyMove(),this.releaseElement(e)}}},{key:"applyMove",value:function(){this.callHandlers("applyMove")}},{key:"releaseElement",value:function(t){this.stopDrag(t),this.removeEventListener(document,"mousemove",this.dragMouse),this.removeEventListener(document,"mouseup",this.dropped),this.removeEventListener(document,"keypress",this.dragKeys),this.removeEventListener(document,"keypress",this.switchKeyEvents),this.removeEventListener(document,"keydown",this.dragKeys),a.default.utils.removeClass(this.draggedObject,"dragged"),this.draggedObject=null}}]),t}();e.default=u},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var i=0;i<e.length;i++)if(e[i].node==t)return e[i];var n=new d(t);return e.push(n),n}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),u=i(1),c=n(u),h={listClass:"error-list fit-parent-content",maxErrors:5,bodyClass:"error-body clearfix",titleClass:"error-title",barClass:"error-bar",descClass:"error-desc",detailsBtnClass:"error-details-btn",removeBtnClass:"remove-error-btn",errorExpandedDefault:!0,fadingOutDuration:600},d=function(){function t(e){s(this,t),this.node=e,this.errs=[],this.errNodes=[],this.errorList=null}return l(t,[{key:"addError",value:function(t,e,i){var n=this;if(i&&i>0&&this.errs.length>=i){this.errs.splice(0,this.errs.length-i+1);var o=this.errNodes.splice(0,this.errNodes.length-i+1);o.map(function(t){n.errorList.removeChild(t)})}return this.errs.push(t),this.errNodes.push(e),this.errorList.appendChild(e),e}},{key:"removeError",value:function(t){for(var e=0;e<this.errs.length;e++)if(this.errs[e]==t||this.errNodes[e]==t){this.errs.splice(e,1);var i=this.errNodes.splice(e,1);return i.length&&this.errorList.removeChild(i[0]),!0}}},{key:"clear",value:function(){this.errorList&&this.errorList.parentNode==this.node&&this.node.removeChild(this.errorList),this.errs=[],this.errNodes=[],this.errorList=null}},{key:"updateErrorList",value:function(){this.errorList&&(this.errs.length?(this.errorList.style.display="",this.errorList.parentNode||(this.beforeSettingErrorList(this.node),this.node.appendChild(this.errorList))):this.errorList.style.display="none")}},{key:"beforeSettingErrorList",value:function(t){for(;t.firstChild;)t.removeChild(t.firstChild)}},{key:"hasErrors",value:function(){return!!this.errs.length}}]),t}(),f=function(t){function e(t,i){s(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,c.default.utils.mergeObjects({},h,i)));return n.node=t,n.lockCount=0,n.errorGroups=[],n}return r(e,t),l(e,[{key:"addError",value:function(t,e,i){if(!this.lockCount){var n=this.convertError(t,e),o=n&&this.createErrorNode(t,n);if(o){var r=a(i||this.node,this.errorGroups);return r.errorList||(r.errorList=this.createErrorList()),r.addError(t,o,this.config.maxErrors),r.updateErrorList(),o}}}},{key:"lock",value:function(){this.lockCount++}},{key:"unlock",value:function(){--this.lockCount}},{key:"getErrors",value:function(){for(var t=[],e=0,i=this.errorGroups.length;e<i;++e)t=t.concat(this.errorGroups[e].errs);return t}},{key:"hasErrors",value:function(){for(var t=0,e=this.errorGroups.length;t<e;++t)if(this.errorGroups[t].hasErrors())return!0;return!1}},{key:"createErrorList",value:function(){var t=document.createElement("ul");return t.className="error-list",t}},{key:"createErrorNode",value:function(t,e){var i=this,n=document.createElement("li");n.className=this.config.errorExpandedDefault&&"error-component error-expanded"||"error-component";var o=document.createElement("div");o.className="error-content clearfix";var r=document.createElement("div"),s=document.createElement("span");s.innerHTML=e.title,s.className="error-title",s.onclick=function(t){return i._toggleErrorDisplay(n)},r.appendChild(s);var a=document.createElement("div");if(a.className="error-bar",e.desc){var l=document.createElement("div");l.className="error-desc",l.innerHTML=e.desc,r.appendChild(l);var u=document.createElement("span");u.tabIndex=0,u.className="error-details-btn",u.innerHTML=c.default.utils.getString("gantt.error.details"),u.onclick=function(t){return i._toggleErrorDisplay(n)},a.appendChild(u)}var h=document.createElement("span");return h.className="remove-error-btn",h.tabIndex=0,h.onclick=function(e){return i.removeError(t)},a.appendChild(h),o.appendChild(a),o.appendChild(r),n.appendChild(o),n}},{key:"convertError",value:function(t,e){var i=this.config&&this.config.convertError&&this.config.convertError(t,e);if(i)return i;if(c.default.utils.isString(t))return{title:t};var n=t.message||t.status||t.statusCode;e&&(n=c.default.utils.formatString("gantt.error.title.fmt",{msg:e,title:n}));var o=t.desc||t.description||t.stack;return o&&(o=o.replace(/(?:\r\n|\r|\n)/g,"<br />")),{title:n,desc:o}}},{key:"_toggleErrorDisplay",value:function(t){c.default.utils.toggleClass(t,"error-expanded")}},{key:"removeError",value:function(t){for(var e=0,i=this.errorGroups.length;e<i;e++)if(this.errorGroups[e].removeError(t))return this.errorGroups[e].updateErrorList(),!0;return!1}},{key:"removeGroup",value:function(t){for(var e=0,i=this.errorGroups.length;e<i;e++)if(this.errorGroups[e].node===t)return this.errorGroups[e].clear(),this.errorGroups.splice(e,1),!0;return!1}}]),e}(c.default.components.ErrorHandler);e.default=f,c.default.components.ErrorHandler.impl=f},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(1),a=n(s),l=function(){function t(e){if(o(this,t),this.filters=[],this.filterKeys=[],e)if(Array.isArray(e))for(var i=0;i<e.length;i++)this.addFilter(e[i]);else this.addFilter(e)}return r(t,[{key:"addFilter",value:function(t){var e=t;return t=this.createFilter(t),t&&(this.filters.push(t),this.filterKeys.push(e)),t}},{key:"addOrFilters",value:function(){for(var t=new Array(arguments.length),e=0;e<arguments.length;e++)t[e]=arguments[e];var i=this.createFilterSet(t,!0);return i&&(this.filters.push(i),this.filterKeys.push(i)),i}},{key:"addAndFilters",value:function(){for(var t=new Array(arguments.length),e=0;e<arguments.length;e++)t[e]=arguments[e];var i=this.createFilterSet(t,!1);return i&&(this.filters.push(i),this.filterKeys.push(i)),i}},{key:"createFilterSet",value:function(){if(!arguments.length)return null;var t,e,i,n;if(Array.isArray(arguments[0]))t=arguments[0],e=arguments.length>1?arguments[1]:this.DEFAULT_FILTER_SET_MODE_OR;else{var o;for(e=arguments[arguments.length-1],"boolean"!=typeof e?(e=this.DEFAULT_FILTER_SET_MODE_OR,o=arguments.length):o=arguments.length-1,t=new Array(o),i=0;i<o;i++)t[i]=arguments[i]}var r=[];for(i=0;i<t.length;i++)n=this.createFilter(t[i]),n&&r.push(n);return r.length?n=e?function(t){for(var e=0;e<r.length;e++)if(r[e](t))return!0;return!1}:function(t){for(var e=0;e<r.length;e++)if(!r[e](t))return!1}:null}},{key:"removeFilter",value:function(t){var e=this.filters.indexOf(t);return e<0&&(e=this.filterKeys.indexOf(t)),e>-1&&(this.filters.splice(e,1),this.filterKeys.splice(e,1),!0)}},{key:"createFilter",value:function(t){if(void 0!==t){var e=this;if("string"==typeof t)return t&&function(){var i=arguments[0];i.push(t);var n=e.acceptString.apply(e,i);return i.pop(),
n}||function(){return!0};if("function"==typeof t)return function(){return t.apply(e,arguments[0])};if(t[this.getObjectFilterMethodName()]){var i=t[this.getObjectFilterMethodName()];return function(){return i.apply(t,arguments[0])}}if(t.or)return this.createFilterSet(t.or,!0);if(t.and)return this.createFilterSet(t.and,!1);console.log("Cannot process filter:"),console.log(t)}else console.log("Null filter specified");return null}},{key:"accept",value:function(){var t,e=[];for(t=0;t<arguments.length;t++)e.push(arguments[t]);for(t=0;t<this.filters.length;t++)if(!this.filters[t].call(this,e))return!1;return!0}},{key:"setFilter",value:function(t){this.filters=[],this.filterKeys=[];var e,i=[];for(e=0;e<arguments.length;e++)i.push(arguments[e]);this.addFilter.apply(this,i)}},{key:"stringMatches",value:function(t,e){return t.indexOf(e)>-1}},{key:"acceptString",value:function(t,e){}},{key:"getObjectFilterMethodName",value:function(){return"accept"}},{key:"isEmpty",value:function(){return 0===this.filters.length}}],[{key:"DEFAULT_FILTER_SET_MODE_OR",get:function(){return!1}}]),t}();a.default.components.Filter.impl=l,e.default=l},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(1),u=n(l);i(21),i(8),i(9),i(20),i(18),i(19);var c=function(t){function e(t,i){o(this,e);var n=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));return n.resizeHandler=function(){return n.onResize()},u.default.envReady().then(function(){return n.setConfiguration(i)}),n}return s(e,t),a(e,[{key:"setConfiguration",value:function(t){var e=this;this.splitPane&&this.destroy(),this.initializing=!0,window.addEventListener("resize",this.resizeHandler),this.config=u.default.utils.mergeObjects({},u.default.defaultConfiguration,t),this.rowHeight=this.config.rowHeight,this.zoomFactor=this.config.zoomFactor,this.tooltip&&this.tooltip.destroy&&this.tooltip.destroy();var i=u.default.components.Tooltip.impl||u.default.components.Tooltip;this.tooltip=new i(this.config.tooltip),this.config.title?u.default.utils.isFunction(this.config.title)?this.title=this.config.title(this):this.title=this.config.title:this.title=null;var n=u.default.utils.stringMatches,o=u.default.components.Filter.impl||u.default.components.Filter;this.rowFilter=u.default.utils.mergeObjects(new o(this.config&&this.config.rows&&this.config.rows.filter),{stringMatches:function(t,e){return n(t,e)},getObjectFilterMethodName:function(){return"acceptRow"},acceptString:function(t,e,i,o){if(!o)return!0;for(var r=0;r<e.length;r++)if(n(e[r],o))return!0;return!1}}),this.activityFilter=u.default.utils.mergeObjects(new o(this.config&&this.config.tasks&&this.config.tasks.filter),{stringMatches:function(t,e){return n(t,e)},getObjectFilterMethodName:function(){return"acceptTask"},acceptString:function(t,e,i){var o=t.name;return!i||o&&n(o,i)}}),this.config.table&&this.config.table.hideEmptyRows&&this.setHideEmptyRows(!0,!0),this.config.palette?this.setPaletteConfiguration(this.config.palette):(this.palettes={},this.defaultPalette=null);var r=u.default.components.SelectionHandler.impl||u.default.components.SelectionHandler;this.selectionHandler=new r(this.config&&this.config.selection,{setObjectSelected:function(t,e){e?t.selected=!0:delete t.selected}});var s=this.selectionHandler.registerType({name:"activity",accept:function(t){return t.getObjectType()===u.default.ObjectTypes.Activity},clearSelectionMethod:"clearActivitySelection",selectionChangedMethod:"activitySelectionChanged",unselectionMethod:"unselectActivities",selectionMethod:"selectActivities"}),a=this.selectionHandler.registerType({name:"resource",accept:function(t){return t.getObjectType()===u.default.ObjectTypes.Resource},clearSelectionMethod:"clearResourceSelection",selectionChangedMethod:"resourceSelectionChanged",unselectionMethod:"unselectResources",selectionMethod:"selectResources"});this.selectionHandler.registerType({name:"constraint",accept:function(t){return t.getObjectType()===u.default.ObjectTypes.Constraint},clearSelectionMethod:"clearConstraintSelection",selectionChangedMethod:"constraintSelectionChanged",unselectionMethod:"unselectConstraints",selectionMethod:"selectConstraints"}),this.selectionHandler.registerType({name:"reservation",accept:function(t){return t.getObjectType()===u.default.ObjectTypes.Reservation},clearSelectionMethod:"clearReservationSelection",selectionChangedMethod:"reservationSelectionChanged",unselectionMethod:"unselectReservations",selectionMethod:"selectReservations"});var l=this.selectionHandler.registerType({name:"row",clearSelectionMethod:"clearRowSelection",selectionChangedMethod:"rowSelectionChanged",unselectionMethod:"unselectRows",selectionMethod:"selectRows"});this.type=t&&t.type||u.default.type.SCHEDULE_CHART;var c=this.isResourceGantt();this.selectionHandler.on(c&&u.default.events.RESOURCE_SELECTED||u.default.events.ACTIVITY_SELECTED,function(t,i){return e.selectionHandler.triggerEvent(u.default.events.ROW_SELECTED,i)}),this.selectionHandler.on(c&&u.default.events.RESOURCE_UNSELECTED||u.default.events.ACTIVITY_UNSELECTED,function(t,i){return e.selectionHandler.triggerEvent(u.default.events.ROW_UNSELECTED,i)}),this.selectionHandler.on(c&&u.default.events.RESOURCE_SELECTION_CHANGED||u.default.events.ACTIVITY_SELECTION_CHANGED,function(t,i){return e.selectionHandler.triggerEvent(u.default.events.ROW_SELECTION_CHANGED,i)}),this.selectionHandler.on(c&&u.default.events.RESOURCE_SELECTION_CLEARED||u.default.events.ACTIVITY_SELECTION_CLEARED,function(t,i){return e.selectionHandler.triggerEvent(u.default.events.ROW_SELECTION_CLEARED,i)});var h=c?a:s,d=this.selectionHandler.notify,f=this.selectionHandler;this.selectionHandler.notify=function(t,e){for(var i=new Array(arguments.length),n=0;n<arguments.length;n++)i[n]=arguments[n];d.apply(f,i),t===h&&(i[0]=l,d.apply(f,i))};var p=u.default.components.ErrorHandler.impl||u.default.components.ErrorHandler;this.errorHandler=new p(this.node,this.config&&this.config.error),this.updates=new(u.default.components.GanttUpdates.impl||u.default.components.GanttUpdates);var v=this.updates.applyUpdates;this.updates.applyUpdates=function(){var t=e.updates.containsRowChanges;if(v.call(e.updates),t&&e.updateScrollerHeight(),e.updates.hasTableScrollYChanged()){var i=e.table&&e.table.getScrollableTable(),n=i.scrollTop;e.timeTable.setScrollTop(n)}},this.model=null;try{this.create()}catch(t){return this._init=Promise.reject(t)}try{return this.model=this.createModel(this.config.data||this.createDefaultModelConfig()),this.initializing=!1,this.triggerEvent(u.default.events.RESIZED),this._init=this.model&&this.load()||Promise.resolve([]).then(function(){return e.updateScrollerHeight()})}catch(t){this.errorHandler.addError(t,"Error initializing the Gantt")}}},{key:"createDefaultModelConfig",value:function(t){return{resources:{data:[]},activities:{data:[]},reservations:{data:[]}}}},{key:"createModel",value:function(t){var e=this,i=u.default.components.GanttModel.impl||u.default.components.GanttModel,n=new i(this,t);return n.on(u.default.events.TIME_WINDOW_CHANGED,function(t,i){return e.setTimeWindow(i)}),n}},{key:"create",value:function(){var t=this;this.contentElt=document.createElement("div"),this.contentElt.className="gantt-panel docloud-gantt",this.contentElt.style.position="relative",this.contentElt.style.display="flex",this.contentElt.style.flexDirection="column",this.contentElt.style.height="100%";var e=function(e){var i=t.config.loadResourceChart;return u.default.utils.isArray(i)?i.length?i[0][e]:void 0:i[e]};this.loadChartHidden=!this.config.loadResourceChart||!e("visible"),this.toolbars=null,this.config.toolbar?this.createToolbars(this.config.toolbar):this.toolbarElt=null,this.config.classes&&u.default.utils.addClass(this.contentElt,this.config.classes),this.config.header?(this.headerElt=this.createHeader(this.config.header),null!=this.headerElt&&this.contentElt.appendChild(this.headerElt)):this.headerElt=null,this.node.appendChild(this.contentElt);var i=this.body=document.createElement("div");i.className="gantt-body",i.style.position="relative",i.style.flexGrow=1,i.style.flexShrink=1,i.style.height="10px",this.errorHandler.node=i,this.contentElt.appendChild(i);var n=void 0,o=u.default.components.Split.impl||u.default.components.Split;if(this.config.loadResourceChart){var r=function(e){var i=t.config.loadResourceChart;return u.default.utils.isArray(i)?i.length?i[0][e]:void 0:i[e]},s=150,a=r("height");a&&(s=u.default.utils.isFunction(a)?a():u.default.utils.isString(a)?parseInt(a):a);try{this.loadChartSplit=new o(i,u.default.utils.mergeObjects({},this.config&&this.config.divider,{pos:-s,horizontal:!1,fixedFirst:!1,hideSecond:this.loadChartHidden})),this.loadChartSplit.onDividerDragEnd=function(e){t._init&&t._init.then(function(){t.triggerEvent(u.default.events.SPLIT_RESIZED),t.onResize()})}}catch(t){throw this.errorHandler.addError(t,"Load split pane initialization error",this.node),new Error("Load split pane initialization error")}n=this.loadChartSplit.getLeftComponent()}else n=i;try{this.splitPane=new o(n,this.config&&this.config.divider),this.splitPane.onresized=function(e){t.triggerEvent(u.default.events.SPLIT_RESIZED)}}catch(t){throw this.errorHandler.addError(t,"Split pane initialization error",this.node),new Error("Split pane initialization error")}this.tablePanel=null;var l=this.splitPane.getLeftComponent();l.style.overflow="hidden";try{this.tablePanel=this.createTreeTable(l),this.splitPane.leftComponentCreated()}catch(t){throw this.errorHandler.addError(t,"Tree table initialization error",this.tablePanel||this.node),new Error("Table creation error")}var c=this.splitPane.getRightComponent();c.style.overflow="hidden";try{this.createTimePanel(c)}catch(t){throw this.errorHandler.addError(t,"Error creating the time panel",c),new Error("Time panel creation error")}try{this.createTimeLine(this.timeLineScroller)}catch(t){throw this.errorHandler.addError(t,"Error create the time line",this.timeLineScroller),new Error("Time line creation error")}if(this.toolbars)for(var h=0;h<this.toolbars.length;h++)this.toolbars[h].connect(this,this.toolbars[h].node);this.loadCharts=null,this.loadResPanel=null,this.config.loadResourceChart&&(this.loadResPanel=this.createLoadResourceChart(this.config.loadResourceChart),this.loadResPanel&&(this.loadResPanel.style.width="100%",this.loadResPanel.style.height="100%",this.loadChartSplit.getRightComponent().appendChild(this.loadResPanel),this.loadChartSplit.rightComponentCreated()))}},{key:"load",value:function(t){var e=this;t&&(this.model&&this.model.destroy&&this.model.destroy(),this.model=this.createModel(t)),this.timeLineInit=null,this.loadingPanel=null;var i=setTimeout(function(){e.loadingPanel=e.createLoadingPanel(e.config),e.body.appendChild(e.loadingPanel)},this.config.loadingPanelThresold),n=function(){e.loadingPanel?e.body.removeChild(e.loadingPanel):clearTimeout(i),e.loading=!1};return this.model.load().then(function(t){var i=e.getTimeWindow();if(!i||!i.start){if(t.length)return n(),Promise.reject("No time window defined");var o=(new Date).getTime(),r=864e5;e.setTimeWindow({start:o-2*r,end:o+2*r})}return e.loading=!0,e.startUpdating(),e._resourceGantt=e.isResourceGantt(),u.default.utils.toggleClass(e.contentElt,"schedule_chart",e._resourceGantt),u.default.utils.toggleClass(e.contentElt,"activity_chart",!e._resourceGantt),u.default.utils.toggleClass(e.contentElt,"constraints_chart",e.hasConstraints),Promise.all([e.table.setRows(t)||t,e.timeLineInit||t]).then(function(){return n(),e.triggerEvent(u.default.events.DATA_LOADED,t),e.timeTable.setConstraints(e.model.constraints),e.updates.timeTable.reload(),e.stopUpdating(),e.toobars&&e.toolbars.map(function(i){i.ganttLoaded(e,t)}),t})}).catch(function(t){return n(),e.errorHandler.addError(t,"Loading error",e.tablePanel),Promise.reject(t)})}},{key:"isResourceGantt",value:function(){return!this.type||this.type!==u.default.type.ACTIVITY_CHART}},{key:"hasConstraints",value:function(){return this.model&&this.model.constraints&&this.model.constraints.length}},{key:"isFlat",value:function(){return!this.model||this.model.isFlat()}},{key:"getTimeWindow",value:function(){return this.timeWindow}},{key:"setTimeWindow",value:function(t){var e=this,i=t.start,n=t.end;if(0===n)throw new Error("Invalid time window + "+JSON.stringify({start:i,end:n})+", may not have been processed correctly");return this.timeWindow&&this.timeWindow.start==i&&this.timeWindow.end==n?Promise.resolve(this.timeWindow):(this.timeWindow={start:i,end:n},this.timeLineInit=this.timeLine.setTimeWindow(i,n).then(function(t){var i=t.start,n=t.end;e.updateTableHeaderHeight(),e.updateWidthFromTimeLine(),e.scrollTimeTableToX(e.timeLine.getXFromMillis(e.timeLine.getHorizon().start)),e.updateTimeLineHeight(),e.triggerEvent(u.default.events.TIME_WINDOW_CHANGED,i,n)}))}},{key:"getBody",value:function(){return this.body}},{key:"initialized",value:function(){return this._init}},{key:"createTreeTable",value:function(t){var e=document.createElement("div");e.className="table-panel",e.style.position="relative",e.style.height="100%",e.style.width="100%",e.style.overflow="hidden",e.style.minWidth="100px";var i=u.default.components.TreeTable.impl||u.default.components.TreeTable;return this.table=new i(this,e,this.config.table),this.table.setRowFilter(this.rowFilter),this.updates.table=this.table.createUpdates(this.updates),t.appendChild(e),e}},{key:"createTimePanel",value:function(t){var e=this;this.timePanel=document.createElement("div"),this.timePanel.className="time-panel",this.timePanel.style.position="relative",this.timePanel.style.height="100%";var i=document.createElement("div");i.className="vertical-scroller-filler",i.style.position="absolute",i.style.right=0,i.top=0,this.timePanel.appendChild(i),this.updateTimeLineRightMargin=function(){var t=e.timeTable.getRightMargin();e.timeLineScroller.style.paddingRight=t?""+t+"px":"0",i.style.width=e.timeLineScroller.style.paddingRight,i.style.display=t?"block":"none"},this.updateTableHeaderHeight=function(t){if(!e.initializing&&e.timeLine){var n=e.timeLine.getTimeAxisHeight();(t||e.headersHeight!=n)&&(e.headersHeight=n,e.table.setHeaderHeight(n),n&&(e.timeTablePanel.style.top=i.style.height=n+"px"))}},this.timeLineScroller=document.createElement("div"),this.timeLineScroller.className="time-line-scroller",this.timeLineScroller.style.overflow="hidden",this.timeLineScroller.style.width="100%",this.timeLineScroller.style.height="100%",this.timePanel.appendChild(this.timeLineScroller),this.timeTablePanel=document.createElement("div"),this.timeTablePanel.className="time-table",this.timeTablePanel.style.position="absolute",this.timeTablePanel.style.left="0",this.timeTablePanel.style.right="0",this.timeTablePanel.style.bottom="0",this.timePanel.appendChild(this.timeTablePanel);var n=u.default.components.TimeTable.impl||u.default.components.TimeTable;return this.timeTable=new n(this,this.timeTablePanel,this.config&&this.config.timeTable),this.updates.timeTable=this.timeTable.createUpdates(this.updates),this.attachTimeTableMouseWheel(this.timeTable.getScroller()),this.timeTable.getScroller().addEventListener("scroll",function(t){e.timeLineScroller.scrollLeft=t.target.scrollLeft,e.triggerEvent(u.default.events.TIME_LINE_SCROLLED,t.target.scrollLeft)}),t.appendChild(this.timePanel),this.timePanel}},{key:"drawTimeTable",value:function(t){t&&this.table.deleteDrawCache&&this.table.deleteDrawCache(),this.timeTable.draw(t)}},{key:"createLoadingPanel",value:function(t){var e=document.createElement("div");e.className="loading-panel",e.style.position="absolute",e.style.left="0",e.style.right="0",e.style.top="0",e.style.bottom="0",e.style.display="flex",e.style.alignItems="center",e.style.justifyContent="center";var i=document.createElement("div");i.style.position="absolute",i.style.left="50%",i.style.top="50%",i.style.transform="translate(-50%, -50%)";var n=document.createElement("div");n.className="loader",i.appendChild(n),e.appendChild(i);var o=document.createElement("div");return o.className="label",o.appendChild(document.createTextNode(u.default.utils.getString("gantt.loading"))),e.appendChild(o),e}},{key:"createLoadResourceChart",value:function(t){var e=this,i=void 0,n=void 0;return(u.default.utils.isArray(t)&&t.length&&u.default.utils.isArray(t[0])?t:[t]).map(function(t){n||(n=document.createElement("div"),n.className="load-resource-chart-panel",n.style.flexShrink=0,n.style.position="relative",n.style.display="flex",n.style.flexDirection="columm"),i=document.createElement("div"),i.className="load-resource-chart",n.appendChild(i),e.loadCharts||(e.loadCharts=[]);var o=new(u.default.components.LoadResourceChart.impl||u.default.components.LoadResourceChart)(e,i,u.default.utils.mergeObjects({},t,{height:""}));o.node.style.flex="1 1",e.loadCharts.push(o),window.addWheelListener(o.getScroller(),function(t){t.preventDefault()})}),n}},{key:"toggleLoadChartVisible",value:function(){this.setLoadChartVisible(!this.isLoadChartVisible())}},{key:"setLoadChartVisible",value:function(t){this.loadChartHidden=!t,this.loadChartSplit.setRightComponentVisible(t),this.onResize()}},{key:"isLoadChartVisible",value:function(){return!this.loadChartHidden}},{key:"getPanelNode",value:function(){return this.contentElt}},{key:"updateTimeLineHeight",value:function(){var t=this.timeTable.getBottomMargin();this.timeLineScroller.style.paddingBottom=t?""+t+"px":"0"}},{key:"attachTimeTableMouseWheel",value:function(t){var e=this;window.addWheelListener(t,function(t){t.ctrlKey&&0!=t.deltaY&&(t.deltaY<0?e.zoomIn(t):e.zoomOut(t),t.preventDefault())})}},{key:"createTimeLine",value:function(t){var e=this,i=u.default.components.TimeLine.impl||u.default.components.TimeLine;return this.timeLine=new i(this,t,this.config),this.timeLine.on([u.default.events.TIME_LINE_RANGE_CHANGE,u.default.events.TIME_LINE_RANGE_CHANGED,u.default.events.TIME_LINE_PAN_MOVED],function(){e.updateTableHeaderHeight(),e.updateWidthFromTimeLine(),e.drawTimeTable(!0)}),this.timeLine.on(u.default.events.TIME_LINE_SIZE_CHANGED,function(t,i,n){e.updateWidthFromTimeLine(),e.drawTimeTable(!0),e.triggerEvent(u.default.events.TIME_LINE_SIZE_CHANGED,i,n)}),this.timeLine.on(u.default.events.TIME_LINE_INIT,function(t){e.triggerEvent(u.default.events.TIME_LINE_INIT)}),this.timeLine}},{key:"createToolbars",value:function(t){var e=this;this.toolbars=[];var i=u.default.components.Toolbar.impl||u.default.components.Toolbar,n=void 0;return this.toolbarElt=null,(u.default.utils.isArray(t)&&t.length&&u.default.utils.isArray(t[0])?t:[t]).map(function(t){if(t.node){if(u.default.utils.isString(t.node))n=document.getElementById(t.node);else if(u.default.utils.isDomElement(node))n=node;else{if(!u.default.utils.isFunction(t.node))throw new Error("The toolbar.node must be a string(Dom element ID) or a Dom element or a function returning a Dom element");n=t.node(e)}t=t.components}else e.toolbarElt||(e.toolbarElt=document.createElement("div"),e.toolbarElt.className="gantt-toolbars",e.toolbarElt.style.flexShrink=0),n=document.createElement("div"),n.className="gantt-toolbar",e.toolbarElt.appendChild(n);e.toolbars.push(new i(e,n,t))}),this.toolbarElt&&this.contentElt.appendChild(this.toolbarElt),this.toolbars.forEach(function(t){t.onInitialized()}),this.toolbarElt}},{key:"createHeader",value:function(t){var e=document.createElement("div");if(e.className="gantt-header",u.default.utils.isString(t))e.appendChild(document.createTextNode(t));else if(u.default.utils.isFunction(t)){var i=t(this);i&&e.appendChild(i)}return e}},{key:"getRowCount",value:function(){return this.table.getRowCount()}},{key:"getRow",value:function(t){return this.table.getRow(t)}},{key:"getVisibleRows",value:function(){return this.table.getVisibleRows()}},{key:"getVisibleHeight",value:function(){return this.timeTable.getVisibleHeight()}},{key:"ensureRowVisible",value:function(t){var e=this.table.getRow(t);if(!e)throw new Error("Cannot find row for "+t);if(this.table.isRowFiltered(e))throw new Error("Cannot show the filtered row: "+t);this.table.expandParents(e),this.timeTable.scrollToRow(e)}},{key:"isRowVisible",value:function(t){return this.table.isRowVisible(t)}},{key:"getFirstVisibleRow",value:function(){return this.table.getFirstVisibleRow()}},{key:"setFirstVisibleRow",value:function(t){this.timeTable.setFirstVisibleRow(this.getRow(t))}},{key:"isRowFiltered",value:function(t){return this.table.isRowFiltered(t)}},{key:"toggleCollapseRow",value:function(t,e){this.table.toggleCollapseRow(this.getRow(t),e)}},{key:"scrollToY",value:function(t){this.timeTable.scrollToY(t)}},{key:"getRowHeight",value:function(t){return t=this.getRow(t),t&&(t.activityRow?t.activityRow.height:t.tr.offsetHeight)}},{key:"draw",value:function(t){this.timeLine.draw(!0),this.table.deleteDrawCache&&this.table.deleteDrawCache(),this.table.draw(t),this.timeTable.draw(),this.updateScrollerHeight()}},{key:"updateScrollerHeight",value:function(){this.timeTable.setBodyHeight(this.loadOnDemand?this.table.getRowCount()*this.getRowHeight():this.table.getHeight()),this.updateTimeLineRightMargin()}},{key:"getRowActivities",value:function(t){return t=this.getRow(t),t&&t.activities||[]}},{key:"getActivity",value:function(t,e){if(!e)return this.model.getActivity(t);var i=this.getRowActivities(e);if(u.default.utils.isString(t)){for(var n=0,o=i.length;n<o;++n)if(i[n].id===t)return i[n]}else{if(u.default.utils.isInteger(t))return i[t];for(var r=0,s=i.length;r<s;++r)if(i[r].getData()===t)return i[r]}}},{key:"getActivityNode",value:function(t,e){var i=this.getActivity(t,e);return i&&i.node}},{key:"getToolbarComponent",value:function(t){for(var e=0;e<this.toolbars.length;e++)for(var i=0;i<this.toolbars[e].components.length;i++){var n=this.toolbars[e].components[i];if(n&&t===n.id)return n}}},{key:"onResize",value:function(){this.timeLine&&this.timeLine.onResize&&this.timeLine.onResize(),this.updateTimeLineRightMargin&&this.updateTimeLineRightMargin(),this.table&&this.table.onResize&&this.table.onResize(),this.updateTableHeaderHeight&&this.timeLine&&this.updateTableHeaderHeight(!0),this.table&&this.triggerEvent(u.default.events.RESIZED),this.timeTable&&this.timeTable.onResize&&this.timeTable.onResize(),this.updateScrollerHeight()}},{key:"destroy",value:function(){for(u.default.plugins.call("destroy",this),this.errorHandler&&this.errorHandler.destroy&&this.errorHandler.destroy(),this.splitPane&&this.splitPane.destroy&&this.splitPane.destroy(),this.table&&this.table.destroy&&this.table.destroy(),this.model&&this.model.destroy&&this.model.destroy(),this.resizeHandler&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null),this.updates&&this.updates.destroy(),this.toolbars&&(this.toolbars.map(function(t){t.destroy()}),this.toobars=null);this.node.firstChild;)this.node.removeChild(this.node.firstChild);this.contentElt=null,this.table=null,this.body=null}},{key:"disconnect",value:function(){}},{key:"highlightRow",value:function(t,e,i){"string"==typeof t&&(t=this.table.getRow(t)),e=void 0===e||e,this.table.highlightRow(t,e,i),this.timeTable.highlightRow(t,e,i)}},{key:"synchLayout",value:function(t){var e=new(u.default.components.LayoutSynchronizer.impl||u.default.components.LayoutSynchronizer)(t);return e.connect(this),e}},{key:"resetZoom",value:function(){this.timeLine.resetZoom(),this.scrollTimeTableToX(this.timeLine.getXFromMillis(this.timeLine.getHorizon().start))}},{key:"zoomIn",value:function(t){this.zoom(this.zoomFactor,t)}},{key:"zoomOut",value:function(t){this.zoom(-this.zoomFactor,t)}},{key:"zoom",value:function(t,e){if(t=this.timeLine.validateZoomFactor(t),0!=t){var i=this.timeTable.getVisibleWidth(),n=e&&this.getTimeTableCoordinates(e.target,{x:e.offsetX,y:e.offsetY}).x||this.timeTable.getScrollLeft()+i/2,o=this.timeLine.getTimeAt(n);n-=this.timeTable.getScrollLeft(),this.timeLine.zoom(t);var r=this.timeLine.getXFromMillis(o)-n;this.scrollTimeTableToX(r)}}},{key:"fitToContent",value:function(){var t=this.timeTable.getDisplayedActivitiesTimeRange();this.timeLine.setVisibleTimeWindow(t),this.scrollTimeTableToX(this.timeLine.getXFromMillis(t&&t.start||this.timeLine.getHorizon().start))}},{key:"updateScrollFromTimeLine",value:function(){}},{key:"updateWidthFromTimeLine",value:function(){this.timeTable.setBodyWidth(this.timeLine.getWidth())}},{key:"addFilter",value:function(t,e,i){var n={activities:i&&this.activityFilter.addFilter(t)},o=n.activities;return e&&(n.row=o?this.rowFilter.addOrFilters(t,function(t,e,i){for(var n=t.activities.length,r=[null,t],s=0;s<n;s++)if(r[0]=t.activities[s],o(r))return!0;return!1}):this.rowFilter.addFilter(t)),n.row||n.activities?(this.filterChanged(),n):null}},{key:"removeFilter",value:function(t,e){var i=!1;return t&&(t.row&&(i=this.rowFilter.removeFilter(t.row)),t.activities&&(i=this.activityFilter.removeFilter(t.activities)),this.searchFilter==t&&(this.searchFilter=null)),i&&!e&&this.filterChanged(),i}},{key:"search",value:function(t,e,i){this.searchFilter&&(this.searchFilter.row&&this.rowFilter.removeFilter(this.searchFilter.row),this.searchFilter.activities&&this.activityFilter.removeFilter(this.searchFilter.activities)),t&&(e||i)?this.searchFilter=this.addFilter(t,e,i):(this.searchFilter=null,this.filterChanged())}},{key:"setHideEmptyRows",value:function(t,e){var i=this;return!!(t&&!this.hideEmptyRowsFilter||!t&&this.hideEmptyRowsFilter)&&(this.hideEmptyRowsFilter?(this.rowFilter.removeFilter(this.hideEmptyRowsFilter),this.hideEmptyRowsFilter=null):this.hideEmptyRowsFilter=this.rowFilter.addFilter(function(t,e,n){var o=i.activityFilter;o=o&&!o.isEmpty()?o:null;var r=t.activities&&t.activities.length;if(!r||!o)return r;for(var s=0;s<r;s++)if(o.accept(t.activities[s],t))return!0;return!1}),e||this.filterChanged(),!0)}},{key:"filterChanged",value:function(){if(this.table&&this.timeTable){this.table.filterChanged();var t=this.table&&this.table.getScrollableTable();this.updateScrollerHeight();var e=t.scrollTop;this.timeTable.setScrollTop(e),this.drawTimeTable(!0),this.triggerEvent(u.default.events.ROWS_FILTERED)}}},{key:"getTitle",value:function(){return this.title}},{key:"setTitle",value:function(t){this.title=t,this.triggerEvent(u.default.events.TITLE_CHANGED,t)}},{key:"setRowColor",value:function(t,e){t.color=e,this.table.setRowColor&&this.table.setRowColor(t,e),this.timeTable.setRowColor&&this.timeTable.setRowColor(t,e)}},{key:"centerTimeSheetOnX",value:function(t){this.scrollTimeTableToX(t-this.timeTable.getVisibleWidth()/2)}},{key:"scrollTimeTableToX",value:function(t){t=Math.min(Math.max(Math.round(t),0),this.timeTable.getBodyWidth()-this.timeTable.getVisibleWidth()),this.timeTable.setScrollLeft(t),this.loadCharts&&this.loadCharts.length&&this.loadCharts.forEach(function(e){return e.getScroller().scrollLeft=t}),this.triggerEvent(u.default.events.TIME_LINE_SCROLLED,t)}},{key:"getTimeTableCoordinates",value:function(t,e){var i=this;return u.default.utils.walkToAncestor([this.timeTable.getScroller(),this.timeLineScroller],t,function(t,e,n){if(t==i.timeLineScroller)n.x+=i.timeTable.getScrollLeft();else if(t==i.timeTable.getScroller())return n;return{x:n.x+e.offsetLeft-t.scrollLeft,y:n.y+e.offsetTop-t.scrollTop}},{x:e&&e.x||0,y:e&&e.y||0})}},{key:"addTimeMarker",value:function(t,e,i){this.timeLine.addTimeMarker(t,e,i)}},{key:"removeTimeMarker",value:function(t){this.timeLine.removeTimeMarker(t)}},{key:"setTimeLineItem",value:function(t,e){this.timeLine.setTimeLineItem(t,e)}},{key:"addTimeLineItem",value:function(t,e){this.timeLine.addTimeLineItem(t,e)}},{key:"removeTimeLineItem",value:function(t){this.timeLine.removeTimeLineItem(t)}},{key:"hasErrors",value:function(){return this.errorHandler.hasErrors()}},{key:"setPaletteConfiguration",value:function(t){if(u.default.utils.isArray(t)||u.default.utils.isFunction(t))this.palettes=null,this.defaultPalette=new(u.default.components.Palette.impl||u.default.components.Palette)(t);else if(u.default.utils.isString(t))this.palettes=null,this.defaultPalette=u.default.defaultPalettes[t],this.defaultPalette||console.error("Palette ["+t+"] does not exist");else{var e=Object.keys(t);this.palettes={},this.defaultPalette=null;for(var i=0,n=e.length;i<n;++i)this.palettes[e[i]]=new(u.default.components.Palette.impl||u.default.components.Palette)(t[e[i]])}}},{key:"getPalette",value:function(t){return t?this.palettes&&this.palettes[t]||u.default.defaultPalettes[t]:this.defaultPalette||u.default.defaultPaletteName&&u.default.defaultPalettes[u.default.defaultPaletteName]}},{key:"startUpdating",value:function(){this.updates.startUpdating()}},{key:"stopUpdating",value:function(){this.updates.stopUpdating()}},{key:"rowsChanged",value:function(t,e){this.updates.startUpdating(),this.triggerEvent(t,e),this.updates.rowsChanged(t,e),this.updates.stopUpdating()}},{key:"selection",get:function(){return this.selectionHandler},set:function(t){var e=this.selectionHandler&&this.selectionHandler.get();this.selectionHandler&&this.selectionHandler.destroy(),this.selectionHandler=t,this.selectionHandler&&e&&e.length&&this.selectionHandler.select(t)}}]),e}(u.default.components.GanttPanel);u.default.components.GanttPanel.impl=c,e.default=c},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e){return t&&e?t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height:!t==!e}function l(t,e,i,n){return{x:t,y:e,width:i,height:n,toString:function(){return"{ x = "+this.x+", y = "+this.y+", width = "+this.width+", height = "+this.height+" }"}}}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),c=i(1),h=n(c),d=function(t){function e(t,i){o(this,e);var n=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,t));return n.timeTableBounds=null,n}return s(e,t),u(e,[{key:"setConfiguration",value:function(t){t&&h.default.utils.mergeObjects(this,t)}},{key:"connect",value:function(t){var e=this;this.gantt=t,this.resizeHandler=function(t){e.checkBounds()},t.on([h.default.events.RESIZED,h.default.events.SPLIT_RESIZED],this.resizeHandler),this.timeWindowChangeListener=function(t,i,n){e.timeWindowChanged(i,n)},t.on(h.default.events.TIME_WINDOW_CHANGED,this.timeWindowChangeListener),this.timeLineSizeListener=function(t,i,n){e.timeLineSizeChanged(i,n)},t.on(h.default.events.TIME_LINE_SIZE_CHANGED,this.timeLineSizeListener),this.timeLineInitializedListener=function(t){e.timeLineInitialized()},
t.on(h.default.events.TIME_LINE_INIT,this.timeLineInitializedListener),this.timeLineScrollListener=function(t,i){e.timeLineScrolled(i)},t.on(h.default.events.TIME_LINE_SCROLLED,this.timeLineScrollListener)}},{key:"convertBounds",value:function(t,e){var i=h.default.utils.offsetParent(e),n=h.default.utils.getScreenPoint(i);return n.x=t.x-n.x,n.y=t.y-n.y,n.width=t.width,n.height=t.height,n}},{key:"getTimeLine",value:function(){return this.gantt.timeLine}},{key:"getTimeLineWidth",value:function(){return this.gantt.timeLine.getWidth()}},{key:"getTimeLineHeight",value:function(){return this.gantt.timeLine.getTimeAxisHeight()}},{key:"getTimeLineScrollLeft",value:function(){return this.gantt.timeTable.getScroller().scrollLeft}},{key:"getTimeAt",value:function(t){return this.gantt.timeLine.getTimeAt(t)}},{key:"timeLineInitialized",value:function(){}},{key:"timeTableBoundsChanged",value:function(t){}},{key:"timeWindowChanged",value:function(t,e){}},{key:"timeLineSizeChanged",value:function(t,e){}},{key:"timeLineScrolled",value:function(t){}},{key:"checkBounds",value:function(){var t=this.getScreenTimeTableScrollerBounds();t&&(a(this.timeTableBounds,t)||(this.timeTableBounds=t,this.timeTableBoundsChanged(t)))}},{key:"getScreenTimeTableScrollerBounds",value:function(){if(!this.gantt.timeTable)return null;var t=this.gantt.timeTable.getScroller(),e=h.default.utils.getScreenPoint(t);return l(e.x,e.y,this.gantt.timeTable.getVisibleWidth(),this.gantt.timeTable.getVisibleHeight())}},{key:"disconnect",value:function(){this.gantt&&(this.gantt.off([h.default.events.RESIZED,h.default.events.SPLIT_RESIZED],this.resizeHandler),this.gantt.off(h.default.events.TIME_WINDOW_CHANGED,this.timeWindowChangeListener),this.gantt.off(h.default.events.TIME_LINE_SIZE_CHANGED,this.timeLineSizeListener),this.gantt.off(h.default.events.TIME_LINE_INIT,this.timeLineInitializedListener),this.gantt.off(h.default.events.TIME_LINE_SCROLLED,this.timeLineScrollListener))}},{key:"destroy",value:function(){}}]),e}(h.default.components.LayoutSynchronizer);e.default=d,h.default.components.LayoutSynchronizer.impl=d},function(t,e,i){(function(t){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e,i,n){this.resource=t,this.activity=e,this.load=i,this.maxLoad=n}var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(1),u=e(l),c=i(3),h=e(c),d="load-resource-bar",f="resource-load",p=8;s.prototype.toString=function(){return this.resource.name+" - "+this.activity.name};var v=function(){function t(e,i,n,o){r(this,t),this.start=e,this.end=i,this.prev=n,this.next=o,this.resNodes=[]}return a(t,[{key:"addResource",value:function(t){this.resNodes.push(t)}},{key:"insertBefore",value:function(e,i,n){var o=new t(e,i,this.prev,this);return this.prev.next=o,this.prev=o,n&&o.addResource(n),o}},{key:"insertAfter",value:function(e,i,n){if(this.next)return this.next.insert(e,i,n);var o=new t(e,i,this,null);return this.next=o,n&&o.addResource(n),o}},{key:"insert",value:function(t,e,i){var n=void 0;if(t>=this.end)return this.insertAfter(t,e,i);if(t<this.start){if(this.insertBefore(t,Math.min(this.start,e),i),e<=this.start)return;t=this.start}return t>this.start&&(this.insertBefore(this.start,t).resNodes=[].concat(this.resNodes),this.start=t),e<this.end?(n=this.insertBefore(this.start,e),n.resNodes=this.resNodes.concat([i]),this.start=e,n):(this.resNodes.push(i),e>this.end?this.insertAfter(this.end,e,i):this)}},{key:"computeMax",value:function(t){var e=0,i=[];return this.resNodes.map(function(n){t?i.indexOf(n.resource)<0&&(i.push(n.resource),e+=n.maxLoad):e+=n.load}),this.max=e,Math.max(e,this.next?this.next.computeMax(t):0)}},{key:"createVisItem",value:function(t){if(!this.resNodes.length)return null;var e='<div style="display: flex; flex-direction: column-reverse; height: 100%" class="'+d+'">',i="</div>",n=t.max,o=t.plotAreaHeight;t.useMaxLoad&&this.max&&(e+='<div style="display: flex; flex-direction: column-reverse; height: '+Math.round(o=o*this.max/n)+'px;" class="max-load">',n=this.max,i="</div>"+i);for(var r,s=0;s<this.resNodes.length;s++)r=this.resNodes[s],e+='<div style="background-color: '+t.chartRenderer.background(r.resource,r.activity)+"; height: "+Math.round(o*r.load/n)+'px;" data-res-name="'+r.resource.name+'" data-act-name="'+(r.activity.name||"")+'" data-res-load="'+r.load+'"'+(r.maxLoad?' data-max-load="'+r.maxLoad+'"':"")+' class="'+f+'"></div>';return e+=i,{start:this.start,end:this.end,type:"background",content:e}}},{key:"toString",value:function(){var t=void 0;return this.start?(t="[ start: "+new Date(this.start).toLocaleDateString()+" - end: "+new Date(this.end).toLocaleDateString()+"(",t+=this.resNodes.join(", "),t+=")]"):t="",t+(this.next?"\n     "+this.next.toString():"")}}]),t}(),g=function(e){function i(t,e,o){r(this,i);var s=n(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t,e,o)),a=s;return t.selection.addObserver({rowSelectionChanged:function(t){a.setResources(t.concat([]).reverse())}}),s}return o(i,e),a(i,[{key:"addChildResources",value:function(t,e){for(var i,n=0;n<t.length;n++)i=t[n],e.push(i),i.children&&this.addChildResources(i.children,e);return e}},{key:"setConfiguration",value:function(t){function e(t){return u.default.utils.isFunction(t)?t:u.default.utils.isString(t)?u.default.utils.propertyEvaluator(t):function(){return t}}var i=this;if(this.layoutSynch&&this.destroy(),t.classes&&u.default.utils.addClass(this.node,t.classes),this.header=document.createElement("div"),this.header.className="load-resource-chart-header",t.header){var n=void 0;u.default.utils.isFunction(t.header)?n=t.header(this.header):u.default.utils.isDomElement(t.header)?n=t.header:(n=document.createElement("h3"),n.appendChild(document.createTextNode(t.header))),n&&this.header.appendChild(n)}this.node.appendChild(this.header),this.body=document.createElement("div"),this.body.className="load-resource-chart-body",this.body.style.position="relative",t.height?u.default.utils.isFunction(t.height)?this.body.style.height=t.height()+"px":u.default.utils.isString(t.height)?this.body.style.height=t.height:this.body.style.height=t.height+"px":this.body.style.height="100%",this.node.appendChild(this.body),this.leftPanel=document.createElement("div"),this.leftPanel.className="load-resource-chart-left",this.leftPanel.style.position="absolute",this.leftPanel.style.left="0",this.leftPanel.style.top="0",this.leftPanel.style.bottom="0",this.legendPanel=document.createElement("div"),this.legendPanel.className="legend-panel empty-legend",this.legendPanel.style.position="absolute",this.legendPanel.style.bottom="0",this.legendPanel.style.overflowY="auto",this.leftPanel.appendChild(this.legendPanel),this.yAxisPanel=document.createElement("div"),this.yAxisPanel.className="y-axis-ctnr",this.yAxisPanel.style.position="absolute",this.yAxisPanel.style.right=0,this.yAxisPanel.style.top="0",this.yAxis=document.createElement("div"),this.yAxis.className="y-axis"+(t&&t.yAxis&&t.yAxis.className?" "+t.yAxis.className:""),this.yAxis.style.position="absolute",this.yAxis.style.overflow="visible",this.yAxis.style.right=0,this.yAxis.style.top="0",this.yAxisPanel.appendChild(this.yAxis),this.leftPanel.appendChild(this.yAxisPanel),this.body.appendChild(this.leftPanel),this.timeLineScrollerElt=document.createElement("div"),this.timeLineScrollerElt.className="load-resource-chart-scroller",this.timeLineScrollerElt.style.position="absolute",this.timeLineScrollerElt.style.top="0",this.timeLineScrollerElt.style.bottom="0",this.timeLineScrollerElt.style.right="0",this.timeLineScrollerElt.style.overflow="hidden",this.body.appendChild(this.timeLineScrollerElt),this.noSelectionElt=document.createElement("div"),this.noSelectionElt.className="no-selection",this.noSelectionElt.style.position="absolute",this.noSelectionElt.style.left="0",this.noSelectionElt.style.top="0",this.noSelectionElt.style.bottom="0",this.noSelectionElt.style.right="0",this.noSelectionElt.style.overflow="hidden",this.noSelectionElt.style.display="flex",this.noSelectionElt.style.alignItems="center",this.noSelectionElt.style.justifyContent="center",this.noSelectionElt.style.zIndex="1";var o=document.createElement("div");o.className="no-selection-message",o.appendChild(document.createTextNode(u.default.utils.getString("gantt.loadResourceChart.noSelection.title"))),this.noSelectionElt.appendChild(o),this.body.appendChild(this.noSelectionElt);var r=this;this.layoutSynch=this.gantt.synchLayout({timeTableBoundsChanged:function(t){t=this.convertBounds(t,r.timeLineScrollerElt),r.timeLineScrollerElt.style.left=t.x+"px",r.timeLineScrollerElt.style.width=t.width+"px",r.leftPanel.style.width=t.x+"px",r.timeLineElt&&(r.updatePlottingArea(),r.drawCharts())},timeWindowChanged:function(t,e){r.setTimeWindow(t,e)},timeLineSizeChanged:function(t,e){r.timeLineElt&&(r.timeLineElt.style.width=t+"px")},timeLineInitialized:function(){},timeLineScrolled:function(t){r.timeLineScrollerElt.scrollLeft=t}}),this.resourceMaxLoad=t.maxLoad&&e(t.maxLoad),this.resourceActivityLoad=t.load&&e(t.load)||function(){return 1};var s=u.default.components.Renderer.impl||u.default.components.Renderer;this.chartRenderer=new s(u.default.utils.mergeObjects({background:{getValue:function(t){return i.resources.indexOf(t)}}},t.renderer),{getTooltipProperties:function(t,e){var i=["Resource",t.resourceName,"Activity",t.activityName,"Load",t.resourceLoad];return t.resourceMaxLoad&&i.push("Maximum load",t.resourceMaxLoad),i}},this.gantt),this.initTooltips()}},{key:"setTimeWindow",value:function(e,i){var n=this;this.timeLineElt&&this.timeLineScrollerElt.removeChild(this.timeLineElt),this.timeLineElt=document.createElement("div"),this.timeLineElt.style.width=this.gantt.timeLine.getWidth()+"px",this.timeLineElt.style.height="100%";try{this.visTimeline=new h.default.Timeline(this.timeLineElt,{},{orientation:{axis:"bottom",item:"bottom"},height:"100%",start:this.gantt.timeLine.scrollableHorizon.start,end:this.gantt.timeLine.scrollableHorizon.end}),this.visTimeline.range.body.emitter.off("mousewheel");var o=function e(){n._init=!0,n.visTimeline.getWindow(),n.visTimeline.off("changed",e),n.timeScaleElt=n.timeLineElt.getElementsByClassName("vis-panel vis-bottom")[0];var i=window.getComputedStyle(n.timeScaleElt),o=i.bottom;o=o?parseInt(o):0,isNaN(o)&&(o=0);var r=i.borderTopWidth;r=r?parseInt(r):0,n.timeScaleHeight=t(n.timeScaleElt).outerHeight()+o-r,n.updatePlottingArea(),n.triggerEvent(u.default.events.TIME_LINE_INIT)};this.visTimeline.on("changed",o)}catch(t){throw console.error(t),t}this.timeLineScrollerElt.appendChild(this.timeLineElt)}},{key:"setResources",value:function(t){var e=this.addChildResources(t,[]);this.resources=e;for(var i,n=0,o=e.length;n<o;n++)i=e[n],i.color=this.chartRenderer.background(i);this.gantt.rowsChanged(u.default.events.ROWS_MODIFIED,this.resources),this.selectionChanged(),this.drawCharts()}},{key:"destroy",value:function(){this.layoutSynch&&(this.layoutSynch.disconnect(),this.layoutSynch=null)}},{key:"selectionChanged",value:function(){this.noSelectionElt.style.display=this.resources&&this.resources.length?"none":"flex",this.updateLegend(),this.drawCharts()}},{key:"drawCharts",value:function(){var t=this,e=new v(0,0),i=void 0,n=void 0;(this.resources||[]).map(function(o){(o.activities||[]).map(function(r){n=t.resourceActivityLoad(o,r),i=t.resourceMaxLoad&&t.resourceMaxLoad(o,r),e.insert(r.start,r.end,new s(o,r,n,i))})});var o=e.computeMax(this.resourceMaxLoad&&1===this.resources.length);this.setYAxisMax(o);for(var r=[],a=void 0,l={max:o,useMaxLoad:this.resourceMaxLoad&&1===this.resources.length,chartRenderer:this.chartRenderer,plotAreaHeight:this.plotAreaHeight-p,yRatio:this.yRatio},u=e.next;u;u=u.next)a=u.createVisItem(l),a&&r.push(a);this.visTimeline.setItems(r)}},{key:"updateLegend",value:function(){this.legend&&this.legendPanel.removeChild(this.legend);var t=this.resources&&this.resources.length;if(u.default.utils.toggleClass(this.legendPanel,"empty-legend",!t),this.legendPanel.style.overflowY="auto",this.resources){this.legend=document.createElement("ul"),this.legend.className="legend";for(var e=void 0,i=void 0,n=void 0,o=void 0,r=0,s=this.resources.length;r<s;r++)o=this.resources[r],e=document.createElement("li"),e.className="legend-item",e.style.display="table",i=document.createElement("div"),i.className="legend-item-color",i.style.display="table-cell",i.style.verticalAlign="middle",i.style.backgroundColor=o.color,e.appendChild(i),n=document.createElement("div"),n.className="legend-item-name",n.style.display="table-cell",n.style.verticalAlign="middle",n.innerHTML=o.name,e.appendChild(n),this.legend.appendChild(e);this.legendPanel.appendChild(this.legend)}}},{key:"setYAxisMax",value:function(t){function e(t){for(var e=10;t>e;)e*=10;return e}var i=void 0,n=void 0;if(this.yAxis.innerHTML="",t){var o=5;t<=o?(n=1,i=t):(t=e(t),i=o,n=Math.round(t/i));var r=this.plotAreaHeight-p;this.yRatio=Math.round(r/t);for(var s=0,a=0,l=n*this.yRatio;s<=i;s++,a+=n){var u=this.createLabelledTick(""+a,l);u.style.top=this.plotAreaHeight-a*this.yRatio-l/2-2+"px",u.style.right="0",this.yAxis.appendChild(u)}}}},{key:"createLabelledTick",value:function(t,e){var i=document.createElement("div");i.className="y-axis-label",i.style.position="absolute",i.style.height=e+"px",i.style.lineHeight=e+"px",i.style.textAlign="center",i.style.whiteSpace="nowrap",i.appendChild(document.createTextNode(t));var n=document.createElement("div");return n.style.display="inline-block",n.style.position="absolute",n.style.top=e/2+"px",n.style.right="0",n.className="y-axis-tick",i.appendChild(n),i}},{key:"updatePlottingArea",value:function(){this.setPlottingAreaHeight(t(this.body).outerHeight()-this.timeScaleHeight)}},{key:"setPlottingAreaHeight",value:function(t){this.yAxis.style.height=t+"px",this.plotAreaHeight=t}},{key:"getScroller",value:function(){return this.timeLineScrollerElt}},{key:"initTooltips",value:function(){var t=this,e=function(t){return u.default.utils.hasClass(t,f)},i=function(i){for(;i&&i!==t.body;i=i.parentNode)if(e(i))return i;return null},n=this.gantt,o=this;this.gantt.tooltip.installTooltip({container:this.body,getTooltipDisplayContainer:function(){return n.getBody()},getTooltipElement:function(t){return i(t)},getTooltipData:function(t){return{resourceName:t.dataset.resName,resourceLoad:t.dataset.resLoad,resourceMaxLoad:t.dataset.resMaxLoad,activityName:t.dataset.actName}},renderTooltip:function(t,e,i){e&&o.chartRenderer.getTooltip(i,e)}})}}]),i}(u.default.components.LoadResourceChart);u.default.components.LoadResourceChart.impl=g}).call(e,i(2))},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e){return e.start&&t.start>e.start&&(t.start=e.start),e.end&&t.end<e.end&&(t.end=e.end),e}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){var i=[],n=!0,o=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(i.push(s.value),!e||i.length!==e);n=!0);}catch(t){o=!0,r=t}finally{try{!n&&a.return&&a.return()}finally{if(o)throw r}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),c=i(1),h=n(c),d={isDisplayed:function(){return null!=this.nodes},clearLink:function(){this.nodes=null},setNodes:function(t){this.nodes=t}},f=function(t){function e(t,i){return o(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i))}return s(e,t),u(e,[{key:"setConfiguration",value:function(t){var e=this;this.destroy();var i=h.default.components.DataFetcher.impl||h.default.components.DataFetcher,n=void 0,o=function(t,e){if(!t.get)throw new Error("Could not configure data for "+e+". Probably a configuration issue with key(s) "+Object.keys(t).join(","))};if(this.dateParser=null,t.dateFormat)try{this.dateParser=h.default.utils.createDateParser(t.dateFormat)}catch(e){throw new Error("Could not process date format "+t.dateFormat+": "+e)}var r=function(t){if(e.dateParser){var i;return function(n){if(!i){var o=t(n);return h.default.utils.isString(o)?(i=function(i){return e.dateParser(t(i))},e.dateParser(o)):(i=t,o)}return i(n)}}return t};this.allFetcher=null,(n=t.all)&&(this.allFetcher=new i(n,["reader","resources","activities","reservations","constraints"],{gantt:this.gantt}),o(this.allFetcher,"all"),this.allFetcher._reader=n.reader&&h.default.utils.isFunction(n.reader)?n.reader:function(t){return n.reader},this.allFetcher._resourcesGetter=n.resources&&h.default.utils.propertyEvaluator(n.resources),this.allFetcher._activitiesGetter=n.activities&&h.default.utils.propertyEvaluator(n.activities),this.allFetcher._reservationsGetter=n.reservations&&h.default.utils.propertyEvaluator(n.reservations),this.allFetcher._constraintsGetter=n.constraints&&h.default.utils.propertyEvaluator(n.constraints)),this.resourceFetcher=null,(n=t.resources)&&(this.resourceFetcher=new i(n,["id","parent","name","activities"],{gantt:this.gantt}),o(this.resourceFetcher,"resources"),n.parent&&(this.resourceFetcher._parentIdGetter=h.default.utils.propertyEvaluator(n.parent||"parentId")),this.resourceFetcher._idGetter=h.default.utils.propertyEvaluator(n.id||"id"),this.resourceFetcher._nameGetter=n.name&&h.default.utils.propertyEvaluator(n.name)||this.resourceFetcher._idGetter,n.activities&&(this.resourceFetcher._activityGetter=h.default.utils.propertyEvaluator(n.activities))),(n=t.activities)&&(this.activityFetcher=this.resourceFetcher&&this.resourceFetcher._activityGetter&&{}||new i(n,["id","parent","name","start","end","resource"],{gantt:this.gantt}),this.resourceFetcher&&this.resourceFetcher._activityGetter||o(this.activityFetcher,"activities"),n.parent&&(this.activityFetcher._parentIdGetter=h.default.utils.propertyEvaluator(n.parent||"parentId")),this.activityFetcher._idGetter=h.default.utils.propertyEvaluator(n.id||"id"),this.activityFetcher._nameGetter=n.name&&h.default.utils.propertyEvaluator(n.name)||this.activityFetcher._idGetter,this.activityFetcher._startGetter=r(h.default.utils.propertyEvaluator(n.start||"start")),this.activityFetcher._endGetter=r(h.default.utils.propertyEvaluator(n.end||"end")),n.resource&&(this.activityFetcher._resourceIdGetter=h.default.utils.propertyEvaluator(n.resource))),(n=t.reservations)&&(this.reservationFetcher=new i(n,["activity","resource"],{gantt:this.gantt}),o(this.reservationFetcher,"reservations"),this.reservationFetcher._activityGetter=h.default.utils.propertyEvaluator(n.activity||"activity"),this.reservationFetcher._resourceGetter=h.default.utils.propertyEvaluator(n.resource||"resource")),(n=t.constraints)&&(this.constraintFetcher=new i(n,["from","to","type"],{gantt:this.gantt}),o(this.constraintFetcher,"constraints"),this.constraintFetcher._fromGetter=h.default.utils.propertyEvaluator(n.from||"from"),this.constraintFetcher._toGetter=h.default.utils.propertyEvaluator(n.to||"to"),this.constraintFetcher._typeGetter=h.default.utils.propertyEvaluator(n.type||"type"),this.constraintFetcher._idGetter=n.id&&h.default.utils.propertyEvaluator(n.id)||null),(n=t.timeWindow)&&(this.timeWindowFetcher=new i(n,null,{gantt:this.gantt}),o(this.timeWindowFetcher,"timeWindow"),this.timeWindowFetcher._startGetter=r(h.default.utils.propertyEvaluator(n.start||"start")),this.timeWindowFetcher._endGetter=r(h.default.utils.propertyEvaluator(n.end||"end")))}},{key:"load",value:function(t){var e=this;return t&&(this.destroy(),this.setConfiguration(t)),this.allData=null,this.allFetcher?this.allFetcher.get().then(function(t){return e.loadFromData(t)}):this.loadFromData()}},{key:"loadFromData",value:function(t){var e=this,i=void 0,n=void 0,o=void 0,r=void 0;this.activities=[],this.activities.byIds={},this.rows=[],this.constraints=[],this.constraints.byIds={},this.resources=[],this.resources.byIds={},this.reservations=[],this.reservations.byIds={},this.timeWindow=null,this.flat=!0;var s=void 0,u=void 0;this.timeWindowFetcher?u=this.timeWindowFetcher.get(t).then(function(t){return{start:e.timeWindowFetcher._startGetter(t),end:e.timeWindowFetcher._endGetter(t)}}):s={start:Number.MAX_VALUE,end:0}||null;var c=this.gantt.isResourceGantt();if(this.resourceFetcher||this.activityFetcher){var d=!!u;this.resourceFetcher&&(o=this.resourceFetcher.get(t).then(function(t){var i=!d&&c&&e.resourceFetcher._activityGetter;return e.resources=e.createTreeNodes(t,e.resourceFetcher,!1,i&&s),d=d||i,e.resources})),!this.activityFetcher||c&&this.resourceFetcher&&this.resourceFetcher._activityGetter||(i=this.activityFetcher.get(t).then(function(t){return e.activities=e.createTreeNodes(t,e.activityFetcher,!0,!d&&s),e.activities})),this.reservationFetcher&&(n=this.reservationFetcher.get(t)),this.constraintFetcher&&(r=this.constraintFetcher.get(t))}else c?o=Promise.resolve([]):i=Promise.resolve([]);return Promise.all([o,i,n,r,u]).then(function(t){var i=l(t,5),n=i[0],o=i[1],r=i[2],u=i[3],d=i[4];if(e.activityFetcher&&e.activityFetcher._resourceIdGetter&&e.createReservationsFromActivityResources(c?e.resources.byIds:e.activities.byIds),r&&r.length&&e.createReservations(r),u&&u.length&&e.createConstraints(u),d=d||s,!d.end&&c&&o&&o.length){d.start=o[0].start,d.end=o[0].end;for(var f=o.length-1;f;f--)a(d,o[f])}return d.end&&(e.timeWindow={start:d.start,end:d.end},e.triggerEvent(h.default.events.TIME_WINDOW_CHANGED,e.timeWindow)),e.rows=c?n:o})}},{key:"createReservations",value:function(t){if(this.reservations=[],this.reservations.byIds={},t&&0!==t.length)for(var e,i,n,o,r,s=this.resources.byIds,a=this.activities.byIds,l=this.reservationFetcher._resourceGetter,u=this.reservationFetcher._activityGetter,c=0,h=t.length;c<h;++c)r=t[c],e=l(r),(e||0===e)&&(i=s[e])?(n=u(r),(n||0===n)&&(o=a[n])?((i.activities||(i.activities=[])).push(r=this.createReservationNode(o,i)),this.reservations.push(r),r.id&&(this.reservations.byIds[r.id]=r)):n?console.error('Cannot find activity "'+n+'" for reservation '+JSON.stringify(r)):console.error("No activity specified for reservation "+JSON.stringify(r))):e||0===e?console.error('Cannot find resource "'+e+'" for reservation '+JSON.stringify(r)):console.error("No resource specified for reservation "+JSON.stringify(r))}},{key:"createReservationsFromActivityResources",value:function(t){for(var e,i,n,o=this.activityFetcher._resourceIdGetter,r=0,s=this.activities.length;r<s;++r)e=o((n=this.activities[r]).getData()),e||0===e?(i=t[e])?(i.activities||(i.activities=[])).push(this.createReservationNode(n,i)):console.error('Cannot find resource "'+e+'" for activity '+JSON.stringify(n.getData())):console.error("No resource specified for activity "+JSON.stringify(n.getData()))}},{key:"createConstraints",value:function(t){var e=t.length,i=new Array(e);i.byIds={};for(var n,o=0;o<e;++o)i[o]=n=this.createConstraintNode(t[o],this.activities,o),i.byIds[n.id]=n;return this.constraints=i}},{key:"isResourceGanttModel",value:function(){return!!this.resourceFetcher}},{key:"isFlat",value:function(){return this.flat}},{key:"createActivityNode",value:function(t){var e=Object.create(t);return e.id=this.activityFetcher._idGetter(t),e.name=this.activityFetcher._nameGetter(t),e.start=this.activityFetcher._startGetter(t),e.end=this.activityFetcher._endGetter(t),e.getData=function(){return t},e.gantt=this.gantt,e.getObjectType=function(){return h.default.ObjectTypes.Activity},e}},{key:"createReservationNode",value:function(t,e){var i=Object.create(t);return i.row=e,i.gantt=this.gantt,i.getObjectType=function(){return h.default.ObjectTypes.Activity},i}},{key:"createConstraintNode",value:function(t,e,i){var n=this.constraintFetcher._fromGetter(t);if(!n)throw"No from activity specified for the constraint "+JSON.stringify(t);var o=e.byIds[n];if(!o)throw"No activity could be found with the ID "+n+"for constraint "+JSON.stringify(t);if(n=this.constraintFetcher._toGetter(t),!n)throw"No to activity specified for the constraint "+JSON.stringify(t);var r=e.byIds[n];if(!r)throw"No activity could be found with the ID "+n+"for constraint "+JSON.stringify(t);var s=Object.create(t,d);return s.from=o,s.to=r,s.type=this.constraintFetcher._typeGetter(t),s.gantt=this.gantt,s.getData=function(){return t},s.id=this.constraintFetcher._idGetter?this.constraintFetcher._idGetter(t):"cons_"+i,o.consOuts?o.consOuts.push(s):o.consOuts=[s],r.consIns?r.consIns.push(s):r.consIns=[s],s.getObjectType=function(){return h.default.ObjectTypes.Constraint},s}},{key:"createTreeNode",value:function(t,e){var i=Object.create(e);return i.id=t,i.gantt=this.gantt,i.getData=function(){return e},i.hasAncestor=function(t){for(var e=i.parent;e;e=e.parent)if(e==t)return!0;return!0},i.getAncestorsCount=function(){for(var t=0,e=i.parent;e;e=e.parent)t++;return t},i.setRowHeight=function(t,e){},i.isGanttRow=function(){return!0},i}},{key:"createTreeNodes",value:function(t,e,i,n){function o(t,e){y[d++]=t,t.parent=e;var r=b[t.id];t.children=r;for(var s=r.length,l=0;l<s;++l)o(r[l],t);if(i&&s&&(!t.start||!t.end)){t.start||(t.start=r[0].start),t.end||(t.end=r[0].end);for(var u=1;u<s;++u)a(t,r[u])}n&&i&&a(n,t)}var r,s,l,u,c,d,f,p,v,g,y=new Array(t.length),m=y.byIds={},b={},w=[],T=this.activities,E=void 0,k=void 0,C=void 0,_=void 0,S=void 0;(i||(_=e._activityGetter))&&(k=this.activityFetcher._startGetter,C=this.activityFetcher._endGetter);var L=e._idGetter,x=e._nameGetter,R=e._parentIdGetter;for(c=0,g=t.length;c<g;++c){if(s=t[c],l=R?R(s):null,f=L(s),r=this.createTreeNode(f,s,b[f]),b[f]||(b[f]=[]),x&&(r.name=x(s)),i?(r.start=e._startGetter(s),r.end=e._endGetter(s),r.activities=[r],r.getObjectType=function(){return h.default.ObjectTypes.Activity}):r.getObjectType=function(){return h.default.ObjectTypes.Resource},n)if(i)a(n,r);else if(p=_(s))for(r.activities=new Array(p.length),v=0;v<p.length;++v)E=this.createActivityNode(S=p[v]),T.push(E),E.id&&(T.byIds[E.id]=E),r.activities[v]=this.createReservationNode(a(n,E),r);else r.activities=[];m[f]=r,l||0===l?(u=b[l],u?u.push(r):b[l]=[r]):w.push(r)}for(this.gantt.isResourceGantt()!==i&&(this.flat=w.length===t.length),c=0,g=w.length,d=0;c<g;++c)o(w[c]);return y}},{key:"destroy",value:function(){this.allFetcher&&this.allFetcher.destroy&&this.allFetcher.destroy(),this.allFetcher=null,this.resourceFetcher&&this.resourceFetcher.destroy&&this.resourceFetcher.destroy(),this.resourceFetcher=null,this.resources=null,this.activityFetcher&&this.activityFetcher.destroy&&this.activityFetcher.destroy(),this.activityFetcher=null,this.activities=null,this.reservationFetcher&&this.reservationFetcher.destroy&&this.reservationFetcher.destroy(),this.reservationFetcher=null,this.reservations=null,this.constraintFetcher&&this.constraintFetcher.destroy&&this.constraintFetcher.destroy(),this.constraintFetcher=null,this.constraints=null,this.timeWindowFetcher&&this.timeWindowFetcher.destroy&&this.timeWindowFetcher.destroy(),this.timeWindowFetcher=null,this.timeWindow=null}},{key:"getActivity",value:function(t){if(h.default.utils.isString(t))return this.activities&&this.activities.byIds[t];if(this.activities)for(var e=0,i=this.activities.length;e<i;++e)if(this.activities[e].getData()===t)return this.activities[e];return null}}]),e}(h.default.components.GanttModel);e.default=f,h.default.components.GanttModel=f},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(1),a=n(s);a.default.plugins={plugins:[],register:function(t){for(var e=0;e<arguments.length;e++)this.plugins.indexOf(arguments[e])===-1&&this.plugins.push(arguments[e])},unregister:function(t){for(var e,i=0;i<arguments.length;i++)(e=this.plugins.indexOf(arguments[i]))!==-1&&this.plugins.splice(e,1)},clear:function(){this.plugins=[]},count:function(){return this.plugins.length},getAll:function(){return this.plugins},call:function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];var o=void 0,r=void 0;"string"!=typeof t?(r=t,t=arguments[1],o=2):o=1;for(var s,a=Array.prototype.slice.call(arguments,o),l=r?this.plugins.length-1:0,u=r?-1:1,c=r?-1:this.plugins.length;l!=c;l+=u){var h=this.plugins[l];if("function"==typeof h[t]&&void 0!==(s=h[t].apply(h,a)))return s}}};var l=function(){function t(){o(this,t)}return r(t,[{key:"beforeInit",value:function(){}},{key:"afterInit",value:function(){}},{key:"beforeUpdate",value:function(){}},{key:"afterUpdate",value:function(){}},{key:"beforeDraw",value:function(){}},{key:"afterDraw",value:function(){}},{key:"destroy",value:function(){}}]),t}();e.default=l},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e,i,n){return e&&function(o,r,s){return!t||t(o,r)?n?e.call(n,o,r,s):e(o,r,s):i&&i(o,r,s)||void 0}}Object.defineProperty(e,"__esModule",{value:!0});var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),c=i(1),h=n(c),d="automatic",f="ellipsis",p="noDisplay",v="cut",g=function(t){function e(t,i,n){return o(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i,n))}return s(e,t),u(e,[{key:"draw",value:function(t,e,i){var n=this.createShape&&this.createShape(t,e,i)||null;if(this.getCSS){var o=this.getCSS(t,i);o&&this.setCSS(n||e,o)}if((this.getText||this.getIcon)&&this.drawContent){
var r=this.getText&&this.getText(t,i),s=this.getIcon&&this.getIcon(t,i);this.drawContent(n||e,s,r,t,i)}var a=void 0;return this.background&&this.setBackground(n,a=this.background(t,i)),this.color&&this.setColor(n,this.color(t,i,a)),e&&n!=e&&e.appendChild(n),n}},{key:"setBackground",value:function(t,e){t.style.backgroundColor=e}},{key:"setColor",value:function(t,e){t.style.color=e}},{key:"setCSS",value:function(t,e){e&&(t.className=t.className&&t.className+" "+e||e)}},{key:"createShape",value:function(t,e,i){return null}},{key:"drawContent",value:function(t,e,i,n,o){this.drawDefaultContent(t,e,i,n,o)}},{key:"drawNoDisplayOverflowContent",value:function(t,e,i,n,o){var r=document.createElement("div");if(r.className="content",r.style.overflow="hidden",r.style.display="flex",r.style.justifyContent="center",r.style.left="0",r.style.top="0",r.style.bottom="0",r.style.right="0",r.style.position="absolute",r.style.flexWrap="wrap",e){var s=document.createElement("img");s.className="image-content",s.src=e,s.alt="",s.style.float="left",r.appendChild(s)}var a=document.createElement("div");a.style.width="1px",a.style.display="inline-block",a.style.height="100%",r.appendChild(a);var l=document.createElement("div");l.className="text-content",l.innerHTML=i,l.style.display="flex",l.style.alignItems="center",l.style.whiteSpace="nowrap",l.style.height="100%",l.style.textAlign="center",r.appendChild(l),t.appendChild(r)}},{key:"drawCutContent",value:function(t,e,i,n,o){if(e){var r=document.createElement("img");r.className="image-content",r.src=e,r.alt="",t.appendChild(r)}t.style.overflow="hidden";var s=document.createElement("div");return s.className="text-content",s.innerHTML=i,t.appendChild(s),s}},{key:"drawEllipsisContent",value:function(t,e,i,n,o){if(e){var r=document.createElement("img");r.className="image-content",r.src=e,r.alt="",t.appendChild(r)}var s=document.createElement("div");return s.className="text-content",s.style.textOverflow="ellipsis",s.style.overflow="hidden",s.innerHTML=i,t.appendChild(s),s}},{key:"drawOverflowVisibleContent",value:function(t,e,i,n,o){if(e){var r=document.createElement("img");r.className="image-content",r.src=e,r.alt="",r.style.float="left",t.appendChild(r)}var s=document.createElement("div");return s.className="text-content",s.overflow="visible",s.innerHTML=i,t.appendChild(s),s}},{key:"filter",value:function(t,e,i){if(this.getText&&i){var n=this.getText(t,e);return n&&h.default.utils.stringMatches(n,i)}return!1}},{key:"createCSSGetter",value:function(t,e,i){if("function"==typeof e)return a(t,e,null,i);if("string"==typeof e)return"@"==e[0]?a(t,h.default.utils.propertyEvaluator(e.substring(1))):a(t,function(){return e});if(e.property){var n=h.default.utils.propertyEvaluator(e.property);return a(t,function(t){var i=n.call(t,t);return i&&(e.prefix&&(i=e.prefix+i),e.suffix&&(i=e.suffix+i)),i})}return console.warn('Missing "property" field in class setter description:'),console.warn(e),null}},{key:"addCSSConfiguration",value:function(t,e,i){var n,o;for(h.default.utils.isArray(e)||(e=[e]),n=0;n<e.length;n++)o=this.createCSSGetter(t,e[n],i),o&&(this.cssGetters?this.cssGetters.push(o):(this.cssGetters=[o],this.getCSS=function(t,e){for(var i,n="",o=0;o<this.cssGetters.length;o++)i=this.cssGetters[o](t,e),i&&(n=n&&n+" "+i||i);return n}))}},{key:"addFilterConfiguration",value:function(t,e,i){var n;if("function"==typeof e)n=function(){for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];return e.apply(i,n)};else if("string"==typeof e){var o=h.default.utils.propertyEvaluator(e);o&&(n=function(t,e,i){if(i){var n=o(t,e);return n&&h.default.utils.stringMatches(n,i)}return!0})}else console.warn("Cannot process filter config. Must be a string or a function."),console.warn(e);if(n){var r=this.filter;this.filter=function(e,i,o){return!!r(e,i,o)&&!!(t&&!t(e)||n(e,i,o))}}}},{key:"addTooltipPropertiesConfiguration",value:function(t,e,i){var n;"function"==typeof e?n=e:(console.warn("Cannot process tooltip properties config. Must be a a function."),console.warn(e)),n&&(t?this.getTooltipProperties=a(t,n,this.getTooltipProperties,i):this.getTooltipProperties=n)}},{key:"addTooltipConfiguration",value:function(t,e,i){var n;"function"==typeof e?n=function(){for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];return e.apply(i,n)}:(console.warn("Cannot process tooltip config. Must be a function."),console.warn(e)),n&&(t?this.getTooltip=a(t,n,this.getTooltip):this.getTooltip=n)}},{key:"addTextConfiguration",value:function(t,e,i){var n;"function"==typeof e?n=function(){for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];return e.apply(i,n)}:"string"==typeof e?n=h.default.utils.propertyEvaluator(e):(console.warn("Cannot process text config. Must be a string or a function."),console.warn(e)),n&&(t?this.getText=a(t,n,this.getText):this.getText=n)}},{key:"addIconConfiguration",value:function(t,e,i){var n;"function"==typeof e?n=function(){for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];return e.apply(i,n)}:"string"==typeof e?n=h.default.utils.propertyEvaluator(e):(console.warn("Cannot process icon config. Must be a string or a function."),console.warn(e)),n&&(t?this.getIcon=a(t,n,this.getIcon):this.getIcon=n)}},{key:"addDrawConfiguration",value:function(t,e){if(t){var i=this.draw;this.draw=function(n,o,r){t(n,r)?e.draw(n,o,r):i(n,o,r)}}else this.draw=function(t,i,n){e.draw(t,i,n)}}},{key:"addDrawContentConfiguration",value:function(t,e){if(t){var i=this.drawContent;this.drawContent=function(n,o,r,s){t(r,s)?e.drawContent(n,o,r,s):i(n,o,r,s)}}else this.drawContent=function(t,i,n,o){e.drawContent(t,i,n,o)}}},{key:"addTextOverflowConfiguration",value:function(t,e){var i=void 0;if(e===f?i=this.drawEllipsisContent:e===p?i=this.drawNoDisplayOverflowContent:e===v&&(i=this.drawCutContent),t){var n=this.drawDefaultContent;this.drawDefaultContent=function(e,o,r,s){t(r,s)?i.call(this,e,o,r,s):n.call(this,e,o,r,s)}}else this.drawDefaultContent=i}},{key:"hexToRgb",value:function(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null}},{key:"getTextColorFromBackgroundColor",value:function(t){var e=this.hexToRgb(t),i=Math.round((299*e.r+587*e.g+114*e.b)/1e3);return i>125?"#383633":"white"}},{key:"addColorConfiguration",value:function(t,e,i,n){var o,r=this;if("function"==typeof e)o=function(){for(var t=arguments.length,i=Array(t),o=0;o<t;o++)i[o]=arguments[o];return e.apply(n,i)};else if("string"==typeof e)o="color"===i&&d===e?function(t,e,i){var n=r.colors&&r.colors.indexOf(i)||-1;if(n<0){var o=void 0;try{o=r.getTextColorFromBackgroundColor(i)}catch(t){console.error("Invalid color format "+i),console.error(t),o="black"}return r.colors?(r.colors.push(i),r.textColors.push(o)):(r.colors=[i],r.textColors=[o]),o}return r.textColors[n]}:h.default.utils.propertyEvaluator(e);else{var s=e.palette,l={paletteHandler:this.paletteHandler,colors:null,value:h.default.utils.propertyEvaluator(e.getValue),getColor:function(t,e){var i=this.value(t,e),n=this.colors||this.makeColors(t,e),o=this.values.indexOf(i);return o<0&&(o=this.values.length,this.values.push(i)),o<0?null:n[o%n.length]},getValues:e.values&&(h.default.utils.isFunction(e.values)&&e.values||function(){return e.values}),makeColors:function(t,e){var i=void 0;return i=s?h.default.utils.isString(s)?this.paletteHandler.getPalette(s):new(h.default.components.Palette.impl||h.default.components.Palette)(s):this.paletteHandler.getPalette(),i||this.colors||(console.error("No palette found for "+s),i=h.default.defaultPalettes[h.default.defaultPaletteName]),this.values=this.getValues&&this.getValues(t,e)||[],this.colors=i&&i.getColors(this.values.length||-1),this.colors}};o=function(t,e){return l.getColor(t,e)}}o&&(t?this[i]=a(t,o,this[i]):this[i]=o)}},{key:"addConfiguration",value:function(t){var e;if(t.selector)if("function"==typeof t.selector)e=function(){for(var e=arguments.length,i=Array(e),n=0;n<e;n++)i[n]=arguments[n];return t.selector.apply(t,i)};else if("object"==l(t.selector)&&t.selector.property&&t.selector.value){var i=h.default.utils.propertyEvaluator(this.config.selector.property),n=this.config.selector.value.split(",");e=function(t){var e=i(t);return e&&n.indexOf(e)>=0}}else console.warn('Renderer selector must be a function or an object with "property" and "value" fields.'),console.warn(t.selector);this.processConfiguration(e,t)}},{key:"processConfiguration",value:function(t,e){this.defaultProcessConfiguration(t,e)}},{key:"defaultProcessConfiguration",value:function(t,e){(e.classes||e.css)&&this.addCSSConfiguration(t,e.classes||e.css,e),e.text&&this.addTextConfiguration(t,e.text,e),e.icon&&this.addIconConfiguration(t,e.icon,e),e.filter&&this.addFilterConfiguration(t,e.filter,e),e.tooltip&&this.addTooltipConfiguration(t,e.tooltip,e),e.tooltipProperties&&this.addTooltipPropertiesConfiguration(t,e.tooltipProperties,e),e.createShape&&console.warn("config.createShape: Not implemented"),e.drawContent&&this.addDrawContentConfiguration(t,e),e.textOverflow&&this.addTextOverflowConfiguration(t,e.textOverflow),e.background&&this.addColorConfiguration(t,e.background,"background",e),e.color&&this.addColorConfiguration(t,e.color,"color",e),e.draw&&this.addDrawConfiguration(t,e)}},{key:"setConfiguration",value:function(t){if(this.drawDefaultContent=this.drawNoDisplayOverflowContent,Array.isArray(t))for(var e=0;e<t.length;e++)this.addConfiguration(t[e]);else t&&this.addConfiguration(t);this.initialized(t)}},{key:"initialized",value:function(t){}},{key:"getTooltipProperties",value:function(t,e){return[]}},{key:"getTooltip",value:function(t,e,i){if(t.style.display="flex",t.style.flexDirection="column",this.getText){var n=document.createElement("h2");n.appendChild(document.createTextNode(this.getText(e,i))),n.style.display="block",n.style.flex="0 0 auto",t.appendChild(n)}var o=this.getTooltipProperties(e,i),r=document.createElement("div");r.style.overflow="auto",r.style.display="block",r.style.flexShrink="1",r.style.flexGrow="1";for(var s,a,l=document.createElement("table"),u=document.createElement("tbody"),c=0,h=o.length;c<h;)s=document.createElement("tr"),a=document.createElement("td"),a.className="tooltip-key",a.appendChild(document.createTextNode(o[c++])),s.appendChild(a),a=document.createElement("td"),a.className="tooltip-table-separator",s.appendChild(a),a=document.createElement("td"),a.className="tooltip-value",a.appendChild(document.createTextNode(o[c++])),s.appendChild(a),u.appendChild(s);l.appendChild(u),r.appendChild(l),t.appendChild(r)}}]),e}(h.default.components.Renderer);e.default=g,h.default.components.Renderer.impl=g},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(1),u=n(l),c="startSelection",h="stopSelection",d="clearSelection",f="SelectionChanged",p="Unselected",v="Selected",g="SelectionCleared",y="StartSelecting",m="StopSelecting",b=function(){function t(e){var i=this;s(this,t),u.default.utils.mergeObjects(this,e),this[f]={event:function(){return i.getSelectionChangedEvent()},method:function(){return i.getSelectionChangedMethod()}},this[v]={event:function(){return i.getSelectionEvent()},method:function(){return i.getSelectionMethod()}},this[p]={event:function(){return i.getUnselectionEvent()},method:function(){return i.getUnselectionMethod()}},this[g]={event:function(){return i.getClearSelectionEvent()},method:function(){return i.getClearSelectionMethod()}}}return a(t,[{key:"accept",value:function(t){return!1}},{key:"getTypeEvent",value:function(t){return this[t]&&this[t].event()}},{key:"getTypeMethod",value:function(t){return this.name+t}},{key:"notify",value:function(t,e,i){var n=this[e]&&this[e].method();(n=t[n])&&n.apply(t,i)}},{key:"getClearSelectionEvent",value:function(){return this.name+g}},{key:"getClearSelectionMethod",value:function(){return this.clearSelectionMethod||this.getTypeMethod(v)}},{key:"getSelectionEvent",value:function(){return this.name+v}},{key:"getSelectionMethod",value:function(){return this.selectionMethod||this.getTypeMethod(v)}},{key:"getUnselectionEvent",value:function(){return this.name+p}},{key:"getUnselectionMethod",value:function(){return this.unselectionMethod||this.getTypeMethod(p)}},{key:"getSelectionChangedEvent",value:function(){return this.name+f}},{key:"getSelectionChangedMethod",value:function(){return this.selectionChangedMethod||this.getTypeMethod(f)}}]),t}(),w=function(t){function e(t,i){s(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));return n.lock=0,n.types=[],n.genericType=new b({name:""}),n.genericType[g]={event:function(){return u.default.events.SELECTION_CLEARED},method:function(){return d}},n.genericType[y]={event:function(){return u.default.events.START_SELECTING},method:function(){return c}},n.genericType[m]={event:function(){return u.default.events.STOP_SELECTING},method:function(){return h}},n}return r(e,t),a(e,[{key:"setConfiguration",value:function(t){if(this.config=t,this.observers=[],t)if(u.default.utils.isArray(t))for(var e=0;e<t.length;e++)this.addConfiguration(t[e]);else this.addConfiguration(t)}},{key:"addConfiguration",value:function(t){this.addObserver(t)}},{key:"select",value:function(t,e,i){if(t){this.startSelecting();var n=this.getObjectType(t),o=this.selectionType!==n;if(this.selections.length&&(e||o)){var r=this.selectionType;this.clear(),o&&this.notify(r,f,this.selections)}if(this.selectionType=n,i&&this.selections.length)if(u.default.utils.isArray(t)){for(var s=0,a=t.length;s<a;++s)this.setObjectSelected(t[s],!0);this.selections=this.selections.concat(t)}else this.setObjectSelected(t,!0),this.selections.push(t);else if(u.default.utils.isArray(t)){for(var l=0,c=t.length;l<c;++l)this.setObjectSelected(t[l],!0);this.selections=t.concat(this.selections)}else this.setObjectSelected(t,!0),this.selections.unshift(t);this.selections.length&&this.notify(this.selectionType,v,this.selections,this.selections[0]),this.stopSelecting()}}},{key:"unselect",value:function(t){var e=this;if(t){var i=!1,n=u.default.utils.isArray(t)&&t||[t],o=[];n.map(function(n){var r=e.selections.indexOf(t);r>=0&&(i||(e.startSelecting(),i=!0),e.selections.splice(r,1),e.setObjectSelected(t,!1),o.push(t))}),i&&(this.notify(this.selectionType,p,o),this.stopSelecting())}}},{key:"setObjectSelected",value:function(t,e){}},{key:"clear",value:function(){if(this.selections.length){this.startSelecting();for(var t=this.selections,e=0,i=t&&t.length||0;e<i;++e)this.setObjectSelected(t[e],!1);this.selections=[],this.notify(this.selectionType,g,t),this.notify(this.genericType,g,t),this.stopSelecting()}}},{key:"processClick",value:function(t,e){e&&(t.ctrlKey?this.isSelected(e)?this.unselect(e):this.select(e):this.isSelected(e)||this.select(e,!t.shiftKey))}},{key:"getObjectType",value:function(t){for(var e=0,i=this.types.length;e<i;++e)if(this.types[e].accept(t))return this.types[e];return null}},{key:"startSelecting",value:function(){1===++this.lock&&this.notify(this.genericType,y)}},{key:"stopSelecting",value:function(){--this.lock||(this.notify(this.genericType,m),this.selectionType&&this.notify(this.selectionType,f,this.selections,this.selections.length?this.selections[0]:null))}},{key:"notify",value:function(t,e){for(var i=t.getTypeEvent(e),n=arguments.length,o=Array(n>2?n-2:0),r=2;r<n;r++)o[r-2]=arguments[r];i&&this.triggerEvent(!0,i,o);for(var s,a=0;a<this.observers.length;a++)s=this.observers[a],t.notify(s,e,o)}},{key:"addObserver",value:function(t){this.observers.push(t)}},{key:"removeObserver",value:function(t){var e=this.observers.indexOf(t);return e>=0?(this.observers.splice(e,1),0):null}},{key:"registerType",value:function(t){return t=new b(t),this.types.push(t),t}}],[{key:"SELECTION_CHANGED_EVENT",get:function(){return f}},{key:"UNSELECT_EVENT",get:function(){return p}},{key:"SELECT_EVENT",get:function(){return v}},{key:"CLEAR_SELECTION_EVENT",get:function(){return g}}]),e}(u.default.components.SelectionHandler);e.default=w,u.default.components.SelectionHandler.impl=w},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=function t(e,i,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,i);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,i,n)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(n):void 0},u=i(1),c=n(u),h=i(7),d=n(h),f="timeTableRow_",p="",v={bufferPageSize:3},g="dragg-item",y="time-table-activity",m="time-table-row",b="g-unselectable",w=y+" "+b,T=w+" milestone",E=w+" parent-activity",k="highlight",C="selected",_="select-content",S="invalid",L="time-table-invalid",x="break",R="time-table-break",N=function(t){function e(t,i,n){o(this,e);var s=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i,c.default.utils.mergeObjects({},v,n)));c.default.utils.addEventListener(i,"click",function(t){return s.processClick(t)},!0),c.default.utils.addEventListener(i,"dblclick",function(t){return s.processDoubleClick(t)},!0),c.default.utils.addEventListener(i,"contextmenu",function(t){return s.processMouseDown(t)},!0);var a=t.selection;return a.on(c.default.events.ACTIVITY_SELECTION_CLEARED,function(t,e){return s.clearActivitySelection(e)}),a.on(c.default.events.ACTIVITY_SELECTED,function(t,e){return s.selectActvities(e)}),a.on(c.default.events.ACTIVITY_UNSELECTED,function(t,e){return s.unselectActvities(e)}),a.on(c.default.events.ROW_SELECTED,function(t,e){return s.selectRows(e)}),a.on(c.default.events.ROW_UNSELECTED,function(t,e){return s.unselectRows(e)}),a.on(c.default.events.ROW_SELECTION_CLEARED,function(t,e){return s.unselectRows(e)}),s}return s(e,t),a(e,[{key:"setConfiguration",value:function(t){var e=this;this.destroy(),this.create(),this.bufferPageSize=t.bufferPageSize;var i=c.default.components.Renderer.impl||c.default.components.Renderer;this.activityRenderer=new i(t.renderer,O,this.gantt),this.interactor=this.config.interactor,this.moveInterator=this.interactor&&this.interactor.move,this.mouseHandler=this.interactor&&this.interactor.click;var n=function(t){e.synchronizeTableTop(t.target.scrollTop)&&t.preventDefault&&t.preventDefault()};c.default.utils.addEventListener(this.scroller,"scroll",n),this.moveInterator&&this.initDragAndDrop(),this.initTooltip(),this.events={};var o=c.default.components.ActivityLayout.impl||c.default.components.ActivityLayout;this.layout=new o(t&&t.layout,null,{gantt:this.gantt})}},{key:"create",value:function(){var t=this;this.scroller=document.createElement("div"),this.scroller.className="time-table-scroller",this.scroller.style.position="absolute",this.scroller.style.height="100%",this.scroller.style.top="0",this.scroller.style.left="0",this.scroller.style.right="0",this.scroller.style.bottom="0",this.scroller.style.overflowX="scroll",this.node.appendChild(this.scroller);var e=document.createElement("div");this.getVisibleWidth=function(){return e.offsetWidth},e.style.width="100%",e.style.height=0,this.scroller.appendChild(e);var i=document.createElement("div");this.getVisibleHeight=function(){return i.offsetHeight},i.style.width=0,i.style.position="absolute",i.style.top=0,i.style.height="100%",this.scroller.appendChild(i),this.body=document.createElement("div"),this.body.style.minHeight="1px",this.body.className="time-table-body",this.scroller.appendChild(this.body),c.default.utils.addEventListener(this.body,"mouseenter",function(e){var i=t.getTimeTableRowNode(e.target);i&&t.gantt.highlightRow(i.id.substring(f.length),!0,!0)},!0),c.default.utils.addEventListener(this.body,"mouseleave",function(e){var i=t.getTimeTableRowNode(e.target);i&&t.gantt.highlightRow(i.id.substring(f.length),!1,!0)},!0)}},{key:"update",value:function(){this.draw()}},{key:"createUpdates",value:function(t){var e=this;return new(c.default.components.GanttUpdates.impl||c.default.components.GanttUpdates)(t,{applyReload:function(){e.draw()},applyUpdates:function(){var i=e.ctsGraph&&t.containsRowChanges();i&&e.resetConstraints(),e.draw()}})}},{key:"renderRow",value:function(t,e){var i=this.gantt.timeLine,n={row:t,getX:function(t){return i.getXFromMillis(t)},setRowHeight:function(t){this.height=t}},o=document.createElement("div");o.id=f+t.id;var r=this.gantt.table,s=r.getRowHeight(t),a=this.layout.allowVariableRowHeight();n.tableRowHeight=n.height=!a&&this.activityRenderer.rowHeight&&this.activityRenderer.rowHeight(t)||s,a||n.height==s||(r.setRowHeight(t,n.height),n.height=s=r.getRowHeight(t)),o.className=(e.odd?m+" odd":m)+" "+b;var l=document.createElement("div");return l.innerHTML=""+(t.index+1),l.className="row-number",o.appendChild(l),n.rowNode=o,this.activityRenderer.generateRowDecorations&&this.generateRowDecorations(t,o,e),this.renderActivities(n,e),n.height!=s&&(r.setRowHeight(t,n.height),n.height=r.getRowHeight(t)),o.style.height=n.height+"px",n}},{key:"renderActivities",value:function(t){var e=this.getActivityFilter(),i=t.row.activities,n=i&&i.length||0,o=void 0,r=void 0,s=void 0,a=void 0;if(t.activities=o=[],n){for(r=0;r<n;++r)s=i[r],s.node=a=(!e||e.accept(s,t.row))&&this.renderActivity(s,t.row,t.rowNode)||null,a&&(s.id&&(a.id=p+t.rowNode.id+s.id),o.push(s),t.rowNode.appendChild(a));this.layout.layout(t)}}},{key:"getActivityFilter",value:function(){var t=this.gantt.activityFilter;return t&&!t.isEmpty()?t:null}},{key:"renderActivity",value:function(t,e,i){return this.activityRenderer.draw(t,i,e)}},{key:"getX",value:function(t){return this.gantt.timeLine.getXFromMillis(t)}},{key:"draw",value:function(t){var e=this;this.container&&(this.body.removeChild(this.container),this.container=null);var i=void 0;this.ctsGraph&&t&&this.resetConstraints();var n=this.scroller.scrollTop;this.lastRepaintY=n,n<0&&(n=0);var o=this.gantt.table;n-=Math.abs((this.bufferPageSize-1)/2*this.scroller.clientHeight),n<0&&(n=0);var r=this.gantt.timeLine,s={getX:function(t){r.getXFromMillis(t)},horiz:this.gantt.timeLine.getScrollableHorizon(),gantt:this.gantt};!this.activityRenderer.generateDecorations||!t&&this.backgroundCtnr||this.generateGlobalDecorations(s);var a=o.getRowAt(n);if(a&&a.getData()){n=o.getRowTop(a);var l=this.ctsGraph?[]:null,u=a.index,c=n+this.bufferPageSize*this.scroller.clientHeight,h=Math.min(c,o.getHeight()),d=this.layout.allowVariableRowHeight()||this.activityRenderer.rowHeight;s.odd=a.index%2==0,this.container=this.createContainer(n);for(var f;a&&n<h;)f=a.activityRow,!t&&f&&f.rowNode||(a.activityRow=f=this.renderRow(a,s)),this.container.appendChild(f.rowNode),l&&l.push({y:n,height:f.height,row:a}),n+=f.height,d&&(h=Math.min(c,o.getHeight())),s.odd=!s.odd,a=o.nextRow(a);if(this.ctsGraph&&this.ctsGraph.node?this.body.insertBefore(this.container,this.ctsGraph.node):this.body.appendChild(this.container),d&&this.gantt.updateScrollerHeight(),this.ctsGraph){var p=!1;this.ctsGraph.draw(l,function(i){f=i.activityRow,!t&&f&&f.rowNode||(i.activityRow=f=e.renderRow(i,s)),i.index>u&&(e.container.appendChild(f.rowNode),p=!0)}).then(function(){t&&e.body.appendChild(i),p&&e.gantt.updateScrollerHeight()})}}this._ready=!0}},{key:"createContainer",value:function(t){var e=document.createElement("div");return e.className="time-table-row-container",e.style.width=this.getBodyWidth()+"px",e.style.overflow="none",e.style.position="absolute",e.style.padding=0,e.style.border="none",e.style.top=t+"px",e.style.left=0,e}},{key:"on",value:function(t,i){t==c.default.events.TIME_TABLE_INIT&&(this._ready?i.call(this):l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"on",this).call(this,this,c.default.events.TIME_TABLE_INIT,i))}},{key:"onResize",value:function(){this.draw(!1)}},{key:"getActivityNode",value:function(t){for(;t&&t!==this.body;t=t.parentNode)if(e.isActivityNode(t))return t;return null}},{key:"getActivity",value:function(t){var e=this.getTimeTableRowNode(t);if(e){var i=this.getRow(e.id.substring(f.length)),n=i&&i.activityRow&&i.activityRow.activities;if(n)for(var o=0;o<n.length;o++)if(n[o].node==t)return n[o]}return null}},{key:"getTimeTableRowNode",value:function(t){for(var e=t;e!==this.body;e=e.parentNode)if(c.default.utils.hasClass(e,m))return e;return null}},{key:"getActivityRow",value:function(t){var e,i=t.node&&t.start&&t.node||t;for(e=i.parentNode;e!=this.body&&!this.utils.hasClass(e,m);e=e.parentNode);return e&&this.getRow(e.id.substring(f.length))}},{key:"getRow",value:function(t){return this.gantt.table.getRow(t)}},{key:"scrollToRow",value:function(t){var e=this.gantt.table.getRowTop(t),i=this.scroller.scrollTop;if(e<i||e>i+this.getVisibleHeight())this.scrollToY(e);else{var n=this.gantt.getRowHeight(t);i+this.getVisibleHeight()<e+n&&this.scrollToY(e)}}},{key:"setFirstVisibleRow",value:function(t){var e=this.gantt.table.getRowTop(t);this.scrollToY(e)}},{key:"scrollToY",value:function(t){this.scroller.scrollTop=t,this.synchronizeTableTop(t)}},{key:"setScrollTop",value:function(t){this.scroller.scrollTop=t}},{key:"synchronizeTableTop",value:function(t){var e=this.gantt.table&&this.gantt.table.getScrollableTable();if(e){e.scrollTop=t;var i=e.scrollTop;return(void 0==this.lastRepaintY||Math.abs(i-this.lastRepaintY)>this.scroller.clientHeight)&&this.draw(),!0}return!1}},{key:"highlightActivity",value:function(t,e,i){if(i&&(!t||!c.default.utils.hasClass(t,k))){var n=this.body.querySelectorAll("."+y+"."+k);if(n&&n.length)for(var o=0;o<n.length;o++)c.default.utils.removeClass(n[o],k)}t&&c.default.utils.toggleClass(t,k,e)}},{key:"highlightRow",value:function(t,e,i){if(i){var n=this.body.querySelectorAll("."+m+"."+k);if(n&&n.length)for(var o=0;o<n.length;o++)c.default.utils.removeClass(n[o],k)}t&&t.activityRow&&t.activityRow.rowNode&&c.default.utils.toggleClass(t.activityRow.rowNode,k,e)}},{key:"getDisplayedActivitiesTimeRange",value:function(){var t=this.scroller.scrollTop;t<0&&(t=0);var e=this.gantt.table,i=e.getRowAt(t);if(!i||!i.getData())return null;t=e.getRowTop(i);for(var n,o,r,s,a,l,u,c=Math.min(t+this.scroller.clientHeight,e.getHeight()),h=this.getActivityFilter(),d=0;i&&t<c;){if(t+=i.tr.offsetHeight,o=i.activityRow&&i.activityRow.activities,u=o&&o.length)for(s=0;s<u;++s)r=o[s],h&&!h.accept(r,i)||(a=r.start,l=r.end,n?(n>a&&(n=a),d<l&&(d=l)):(n=a,d=l));i=e.nextRow(i)}return n&&{start:n,end:d}}},{key:"getScrollLeft",value:function(){return this.scroller.scrollLeft}},{key:"setScrollLeft",value:function(t){this.scroller.scrollLeft=t}},{key:"getScroller",value:function(){return this.scroller}},{key:"getRightMargin",value:function(){return this.scroller.offsetWidth-this.getVisibleWidth()}},{key:"getBottomMargin",value:function(){return this.scroller.offsetHeight-this.getVisibleHeight()}},{key:"setBodyWidth",value:function(t){this.body.style.width=t+"px"}},{key:"getBodyWidth",value:function(){return this.body.offsetWidth}},{key:"setBodyHeight",value:function(t){this.body.style.height=t+"px"}},{key:"getBodyHeight",value:function(){return c.default.utils.getHeight(this.scroller)}},{key:"initTooltip",value:function(){var t=this,e=this.gantt.isResourceGantt();this.gantt.tooltip.installTooltip({container:this.body,getTooltipDisplayContainer:function(){return t.gantt.getBody()},getTooltipElement:function(e){return t.getActivityNode(e)},getTooltipData:function(e){return t.getActivity(e)},renderTooltip:function(i,n,o){n&&(e&&n.row||n)&&t.activityRenderer.getTooltip(o,n,n.row)},enteringTooltipElement:function(e,i){return!t.isDragAndDropping()&&(e&&t.highlightActivity(e,!0,!0),!0)},leavingTooltipElement:function(e,i){e&&t.highlightActivity(e,!1,!0)}})}},{key:"hideTooltip",value:function(){this.gantt.tooltip.hideTooltip(0)}},{key:"searchActivities",value:function(t,e){var i=this,n=t.activities,o=n&&n.length;if(o)for(var r="string"==typeof e&&function(e,n,o){return i.activityRenderer.filter(e,t,o)}||e,s=0;s<o;++s)if(r(n[s],t,e))return!0;return!1}},{key:"initDragAndDrop",value:function(){var t=this.body,e=this;this.dragDropHandler=new d.default(t),this.dragDropHandler.addHandler({startMove:function(i,n,o){var r=e.getActivityNode(i);return!!r&&(this.activity=e.getActivity(r),null==this.activity?(console.log("null activity!"),!1):(this.initActivityRow=e.getTimeTableRowNode(r),this.row=this.initRow=e.getRow(this.initActivityRow.id.substring(f.length)),this.initTimeTablePos=e.gantt.getTimeTableCoordinates(i,{x:n,y:o}),this.initScrollLeft=t.scrollLeft,this.initScrollTop=t.scrollTop,this.timeLineItem={start:new Date(this.activity.start),type:"box"},this.timeLineItem.context={start:this.timeLineItem.start.format(),startRow:this.initRow.name},e.hideTooltip(),e.gantt.highlightRow(this.row,!0,!0),e.startDraggingActivity(this),r))},move:function(i){i.y=void 0;var n=t.scrollLeft-this.initScrollLeft;n&&(i.dx+=n,i.x+=n);var o=t.scrollTop-this.initScrollTop;o&&(i.dy+=o);var r=this.row,s=e.gantt.table.getRowAt(this.initTimeTablePos.y+i.dy,r);return this.currentTime=new Date(e.gantt.timeLine.getTimeAt(i.x)),!!s&&(this.row=s,r.id!==s.id&&this.initRow.id!==r.id&&e.gantt.highlightRow(r,!1),r.id!==s.id&&(this.initRow.id!==r.id&&e.gantt.highlightRow(r,!1),this.initRow.id!==s.id&&e.gantt.highlightRow(s,!0),s.activityRow&&s.activityRow.rowNode.appendChild(e.dragDropHandler.draggedObject)),this.row.id!==this.initRow.id?e.acceptActivityRowChange(this):e.acceptActivityMove(this))},moved:function(){this.updateTimeLineItem()},restoreInitPosition:function(){this.row&&this.initRow.id!==this.row.id&&(e.gantt.highlightRow(this.row,!1),this.row=this.initRow),t.scrollTop=this.initTop},stopMove:function(){e.stopDraggingActivity(this),e.gantt.timeLine.removeTimeLineItem(g),this.row&&e.gantt.highlightRow(this.row,!0,!0)},applyMove:function(){e.applyActivityMove(this)},cancel:function(){e.abortActivityMove()},updateTimeLineItem:function(){e.gantt.timeLine.setTimeLineItem(g,this.createDragTimeLineItem())},createDragTimeLineItem:function(){var t=this.timeLineItem,i=this.row.id!==this.initRow.id;return t.className=g+" "+(e.dragDropHandler.invalid?"dragg-invalid":"dragg-valid"),t.context.current=this.currentTime.format(),t.start=this.currentTime,t.context.title=c.default.utils.formatString(i?"Gantt.ChangeActivityRow":"Gantt.MoveActivity",this.activity),i&&(t.context.currentRow=this.row.name),t.content=c.default.utils.formatString(i?"timeLine.changeRowItem.fmt":"timeLine.newTimeItem.fmt",t.context),t}}),this.dragDropHandler.addEventListener(t,"mousedown",this.dragDropHandler.startDragMouse,!0);
}},{key:"startDraggingActivity",value:function(t){this.moveInterator&&this.moveInterator.startMove&&this.moveInterator.startMove(t)}},{key:"acceptActivityRowChange",value:function(t){return!this.moveInterator||!this.moveInterator.acceptRowChange||this.moveInterator.acceptRowChange(t)}},{key:"acceptActivityMove",value:function(t){return!this.moveInterator||!this.moveInterator.acceptMove||this.moveInterator.acceptMove(t)}},{key:"abortActivityMove",value:function(t){return!this.moveInterator||!this.moveInterator.abortMove||this.moveInterator.abortMove(t)}},{key:"applyActivityMove",value:function(t){return!this.moveInterator||!this.moveInterator.applyMove||this.moveInterator.applyMove(t)}},{key:"stopDraggingActivity",value:function(t){return!this.moveInterator||!this.moveInterator.stopMove||this.moveInterator.stopMove(t)}},{key:"isDragAndDropping",value:function(){return this.dragDropHandler&&this.dragDropHandler.draggedObject}},{key:"processClick",value:function(t){var e=this;this.hideTooltip(),this.processMouseEvent(t,function(t,i,n){e.gantt.highlightRow(i,!0,!0),e.gantt.selection.processClick(t,i),e.mouseHandler&&e.mouseHandler.rowClicked&&e.mouseHandler.rowClicked(t,i,n)},function(t,i,n,o){e.gantt.selection.processClick(t,i),e.mouseHandler&&e.mouseHandler.activityClicked&&e.mouseHandler.activityClicked(t,i,n,o)})}},{key:"processMouseEvent",value:function(t,e,i){var n=this.gantt.getTimeTableCoordinates(t.target,{x:event.offsetX,y:event.offsetY}),o=new Date(this.gantt.timeLine.getTimeAt(n.x));if(t.target&&c.default.utils.hasClass(t.target,m)){var r=this.getRow(t.target.id.substring(f.length));r&&(this.gantt.highlightRow(r,!0,!0),e&&e(t,r,o),this.gantt.selection.processClick(t,r))}else{var s=c.default.utils.closest(t.target,"."+y),a=s&&this.getActivity(s);if(a){var l=a.row;if(!l){var u=c.default.utils.closest(t.target,"."+m);l=this.getRow(u.id.substring(f.length))}l&&this.gantt.highlightRow(l,!0,!0),i&&i(t,a,o,l)}}}},{key:"processDoubleClick",value:function(t){var e=this;this.hideTooltip(),this.processMouseEvent(t,function(t,i,n){e.mouseHandler&&e.mouseHandler.rowDoubleClicked&&i&&e.mouseHandler.rowDoubleClicked(t,i,n)},function(t,i,n,o){e.mouseHandler&&e.mouseHandler.activityDoubleClicked&&e.mouseHandler.activityDoubleClicked(t,i,n,o)})}},{key:"processMouseDown",value:function(t){var e=this;if(this.hideTooltip(),3===t.which)return this.processMouseEvent(t,function(t,i,n){e.mouseHandler&&e.mouseHandler.rowRightClicked&&i&&e.mouseHandler.rowRightClicked(t,i,n)},function(t,i,n,o){e.mouseHandler&&e.mouseHandler.activityRightClicked&&e.mouseHandler.activityRightClicked(t,i,n,o)}),t&&t.preventDefault&&t.preventDefault(),t&&t.stopPropagation&&t.stopPropagation(),!1}},{key:"clearActivitySelection",value:function(t){for(var e,i=0,n=t.length;i<n;++i)e=t[i],e.node&&c.default.utils.removeClass(e.node,C)}},{key:"selectActvities",value:function(t){for(var e,i=0;i<t.length;i++)(e=t[i].node)&&c.default.utils.addClass(e,C)}},{key:"unselectActvities",value:function(t){for(var e,i=0;i<t.length;i++)(e=t[i].node)&&c.default.utils.removeClass(e,C)}},{key:"selectRows",value:function(t){for(var e,i=0;i<t.length;i++)(e=t[i].activityRow)&&(e=e.rowNode)&&c.default.utils.addClass(e,C)}},{key:"unselectRows",value:function(t){for(var e,i=0;i<t.length;i++)(e=t[i].activityRow)&&(e=e.rowNode)&&c.default.utils.removeClass(e,C)}},{key:"generateGlobalDecorations",value:function(t){var e=this.gantt.timeLine.getDecorationContainer();if(!e)return void console.warn("No decoration container found in time line");if(this.backgroundCtnr&&(e.removeChild(this.backgroundCtnr),this.backgroundCtnr=null),this.activityRenderer.generateDecorations){var i=document.createElement("div");i.className="time-table-decoration-ctnr decoration-background-ctnr",i.style.position="absolute",i.style.left=0,i.style.top=0,i.style.bottom=0,i.style.width="100%",i.style.height="100%";for(var n,o=this.activityRenderer.generateDecorations(t.horiz.start,t.horiz.end,t),r=0,s=o?o.length:0;r<s;++r)n=o[r],this.addDecoration(n,i);i.firstChild&&e.appendChild(this.backgroundCtnr=i)}}},{key:"generateRowDecorations",value:function(t,e,i){for(var n,o,r=this.activityRenderer.generateRowDecorations(t,i.horiz.start,i.horiz.end,i),s=0,a=r?r.length:0;s<a;++s)n=r[s],o=this.addDecoration(n,e),o.style.zIndex=n.foreground?1:-1}},{key:"addDecoration",value:function(t,e){var i=void 0;t.create?i=t.create():(i=document.createElement("div"),t.type?t.type===S?i.className=L:t.type===x&&(i.className=R):i.className=R,i.display="inline-block"),t.className&&c.default.utils.addClass(i,t.className),i.style.position="absolute",t.background&&(i.style.background=t.background),(t.color||t.foreground)&&(i.style.color=t.color||t.foreground);var n=this.gantt.timeLine.getXFromMillis(t.start);return i.style.left=n+"px",i.style.width=this.gantt.timeLine.getXFromMillis(t.end)-n,i.style.top="1px",i.style.bottom="1px",e.appendChild(i),i}},{key:"createConstraintGrapherNode",value:function(){this.ctsGraph&&this.ctsGraph.node&&this.body.removeChild(this.ctsGraph.node);var t=document.createElement("div");return t.className="constraints-grapher",t.style.height="100%",t.style.width="100%",t.style.position="relative",t.style.pointerEvents="none",t}},{key:"setConstraints",value:function(t){if(this.constraints=t,t&&t.length){if(!this.ctsGraph){var e=this.createConstraintGrapherNode();this.ctsGraph=new(c.default.components.ConstraintsGraph.impl||c.default.components.ConstraintsGraph)(this.gantt,e,this.gantt.config&&this.gantt.config.constraints),this.body.appendChild(e)}this.ctsGraph.setConstraints(t)}else this.ctsGraph&&(this.ctsGraph.node&&this.body.removeChild(this.ctsGraph.node),this.ctsGraph.destroy&&this.ctsGraph.destroy(),this.ctsGraph=null)}},{key:"resetConstraints",value:function(){var t=this.createConstraintGrapherNode();this.ctsGraph.setNode(t),this.ctsGraph.setConstraints(this.constraints),this.body.appendChild(t)}},{key:"destroy",value:function(){this.backgroundCtnr&&(this.node.removeChild(this.backgroundCtnr),this.backgroundCtnr=null),this.foregroundCtnr&&(this.node.removeChild(this.foregroundCtnr),this.foregroundCtnr=null),this.activityRenderer&&(this.activityRenderer.destroy(),this.activityRenderer=null),this.ctsGraph&&(this.ctsGraph.destroy(),this.ctsGraph=null)}}],[{key:"isActivityNode",value:function(t){return c.default.utils.hasClass(t,y)}}]),e}(c.default.components.TimeTable);e.default=N;var O={createShape:function(t,e,i){var n=document.createElement("div"),o=t.start,r=t.end;if(r===o){n.className=T,n.style.border="none",n.style.maxWidth="0";var s=document.createElement("div");s.className="shape",s.style.position="absolute",s.style.top="8px",s.style.left="0",s.style.right="0",s.style.bottom="-8px",s.style.minWidth="16px",s.style.maxHeight="16px",s.style.background="inherit",n.appendChild(s)}else if(t.children&&t.children.length){n.className=E,n.style.display="block",n.style.backgroundColor="transparent";var a=document.createElement("div");a.className="parent-activity-bar",a.style.width="100%",a.style.height="50%",n.appendChild(a);var l=document.createElement("div"),u=7;l.style.width="100%",l.style.height="50%",l.style.backgroundColor="transparent";var c=document.createElement("div");c.className="top-left-triangle activity-limit",c.style.display="inline-block",c.style.float="left",c.style.width="0",c.style.height="0",c.style.borderTopStyle="solid",c.style.borderTopWidth=u+"px",c.style.borderRightStyle="solid",c.style.borderRightWidth=u+"px",c.style.borderRightColor="transparent",l.appendChild(c);var h=document.createElement("div");h.className="top-right-triangle activity-limit",l.appendChild(h),h.style.display="inline-block",h.style.float="right",h.style.width="0",h.style.height="0",h.style.borderTopStyle="solid",h.style.borderTopWidth=u+"px",h.style.borderLeftStyle="solid",h.style.borderLeftWidth=u+"px",h.style.borderLeftColor="transparent",n.appendChild(l)}else n.className=w;var d=document.createElement("div");return d.className=_,d.style.height="100%",d.style.display="flex",d.style.justifyContent="space-between",d.style.alignItems="center",d.style.border="none",n.appendChild(d),n},drawRightContent:function(t,e,i,n,o){var r=document.createElement("div");if(r.style.position="absolute",r.className="text-container right",r.style.left="100%",r.style.top="0",r.style.height="100%",e){var s=document.createElement("img");s.className="image-content",s.src=e,s.alt="",r.appendChild(s)}t.style.overflowX="visible";var a=document.createElement("span");return a.className="text-content",a.innerHTML=i,r.appendChild(a),t.appendChild(r),n.label={getTextWidth:function(){return a.offsetWidth},getTextHeight:function(){return a.offsetHeight},move:function(t,e){c.default.utils.toggleClass(r,"left",t),r.style.marginLeft=0,t?(r.style.left=-e+"px",r.style.paddingLeft=0):(r.style.left="100%",r.style.paddingLeft=e+"px")}},r},getText:function(t,e){return t.name},getTooltipProperties:function(t){var e=[c.default.utils.getString("gantt.start"),new Date(t.start).format(),c.default.utils.getString("gantt.end"),new Date(t.end).format()];return void 0!==t.id&&(e.push(c.default.utils.getString("gantt.id")),e.push(t.id)),e},processConfiguration:function(t,e){this.defaultProcessConfiguration(t,e),e.rowHeight&&this.addRowHeightConfiguration(t,e.rowHeight),e.generateRowDecorations&&this.addGenerateRowDecorations(t,e.generateRowDecorations),e.generateDecorations&&this.addGenerateDecorations(t,e.generateDecorations)},initialized:function(t){var e=this,i=this.paletteHandler;this.defaultSetBackground=this.setBackground,this.drawDefaultContentSet=this.drawDefaultContent,this.ganttLoadListener=function(t){i.isResourceGantt()?(e.drawDefaultContent=e.drawNoDisplayOverflowContent,e.setBackground=e.defaultSetBackground,e.drawDefaultContent=e.drawDefaultContentSet):(e.setBackground=function(t,e){c.default.utils.hasClass("parent-activity")?(t.querySelectorAll(".activity-limit").map(function(t){t.style.borderColor=e}),t.querySelector("parent-activity-bar").style.backgroundColor=e):this.drawDefaultContentSet(t,e)},e.drawDefaultContent=e.drawRightContent)},i.on(c.default.events.DATA_LOADED,this.ganttLoadListener)},destroy:function(){if(this.ganttLoadListener){var t=this.paletteHandler;t.off(c.default.events.DATA_LOADED,this.ganttLoadListener),this.ganttLoadListener=null}},addRowHeightConfiguration:function(t,e){var i;if("function"==typeof e)i=e;else if("string"==typeof e){var n=c.default.utils.propertyEvaluator(e);n&&(i=function(t,e){return n(t,e)})}else i=function(){return e};if(i){var o=this.rowHeight;this.rowHeight=function(e,n){return!t||t(e)?i(e,n):o&&o(e,n)}}},addGenerateRowDecorations:function(t,e){var i;if("function"==typeof e)i=e;else{if("string"!=typeof e)throw new Error("generateRowDecorations must be a function or an accessor to a row method");var n=c.default.utils.propertyEvaluator(e);n&&(i=function(t,e,i,o){return n(t,e,i,o)})}if(i){var o=this.generateRowDecorations;this.generateRowDecorations=function(e,n,r,s){var a=o&&o(e,n,r,s)||null;if(!t||t(e)){var l=i(e,n,r,s);if(l&&l.length)return a&&a.length?a.concat(l):l}return a}}},addGenerateDecorations:function(t,e){var i;if("function"!=typeof e)throw new Error("generateDecorations must be a function");if(i=e){var n=this.generateDecorations;this.generateDecorations=function(e,o,r){var s=n&&n(e,o,r)||null;if(!t||t(r)){var a=i(e,o,r);if(a&&a.length)return s&&s.length?s.concat(a):a}return s}}}};c.default.components.TimeTable.impl=N},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t){return t+b++}function l(t,e){return d||(d=m.default.components.CheckBox.impl||m.default.components.CheckBox),new d(t,e)}function u(t,e){return f||(f=m.default.components.Button.impl||m.default.components.Button),new f(t,e)}function c(t,e){return p||(p=m.default.components.DropDownList.impl||m.default.components.DropDownList),new p(t,e)}function h(t,e){return v||(v=m.default.components.Toggle.impl||m.default.components.Toggle),new v(t,e)}var d,f,p,v,g=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),y=i(1),m=n(y),b=1,w={title:{node:function t(e,i){var t=m.default.components.Toolbar.createTitle(i.getTitle());return i.on(m.default.events.TITLE_CHANGED,function(e,i){t.innerHTML=i}),t},justifyLeft:!0},separator:{node:function(t){var e=document.createElement("div");return e.className="separator",e}},whitespace:{node:function(t){var e=document.createElement("div");return e.className="white-space",e}},search:{component:function(t){return new(m.default.components.Input.impl||m.default.components.Input)(t,{type:"search",onchange:function(e){t.search(e,!0,!0)}})}},mini:{component:function(t){return new h(t,{unselected:{tooltip:m.default.utils.getString("gantt.toolbar.mini.tooltip"),svg:{width:20,height:20,viewBox:"0 0 16 16",margin:"-6px 0 0 0 ",paths:["M4 5h16v2H4zM4 9h16v2H4zM4 13h16v2H4zM4 17h16v2H4z"]}},selected:{tooltip:m.default.utils.getString("gantt.toolbar.mini.tooltip"),svg:{width:24,height:24,viewBox:"0 0 24 24",paths:["M4 5h16v2H4zM4 9h16v2H4zM4 13h16v2H4zM4 17h16v2H4z"]}},isSelected:function(){var e=t.getPanelNode();return m.default.utils.hasClass(e,"mini")},onclick:function(){var e=t.getPanelNode();m.default.utils.toggleClass(e,"mini"),t.draw()}})},update:function(t,e,i){var n=t.getPanelNode();i.setChecked(m.default.utils.hasClass(n,"mini"))}},fitToContent:{component:function(t){return u(t,{svg:{width:20,height:20,viewBox:"0 0 24 24",paths:["m9,3c3.309,0 6,2.691 6,6s-2.691,6 -6,6s-6,-2.691 -6,-6s2.691,-6 6,-6m0,-2a8,8 0 1 0 0,16a8,8 0 0 0 0,-16zm6,17l3,-3l5,5l-3,3l-5,-5z","m5.067202,10.936161l1.794565,-1.677985l-1.794565,-1.677997l1.025685,-0.958955l2.820467,2.636953l-2.820467,2.637771","m13.211615,7.601521l-1.74349,1.712784l1.74349,1.712783l-0.996386,0.979422l-2.739875,-2.692204l2.739875,-2.69241"]},tooltip:m.default.utils.getString("gantt.toolbar.fit.tooltip"),onclick:function(){t.fitToContent()}})}},refresh:{component:function(t){return u(t,{fontIcon:"fa fa-refresh fa-lg",text:m.default.utils.getString("gantt.toolbar.refresh.text"),tooltip:m.default.utils.getString("gantt.toolbar.fit.tooltip"),onclick:function(){t.draw()}})}},zoomIn:{component:function(t){return u(t,{svg:{width:20,height:20,viewBox:"0 0 24 24",paths:["M9 1a8 8 0 1 0 0 16A8 8 0 0 0 9 1zm0 14c-3.309 0-6-2.691-6-6s2.691-6 6-6 6 2.691 6 6-2.691 6-6 6zM15 18l3-3 5 5-3 3z","M10 5H8v3H5v2h3v3h2v-3h3V8h-3z"]},tooltip:m.default.utils.getString("gantt.toolbar.zoomIn.tooltip"),onclick:function(){t.zoomIn()}})}},zoomOut:{component:function(t){return u(t,{svg:{width:20,height:20,viewBox:"0 0 24 24",paths:["M9 3c3.309 0 6 2.691 6 6s-2.691 6-6 6-6-2.691-6-6 2.691-6 6-6m0-2a8 8 0 1 0 0 16A8 8 0 0 0 9 1zM14.999 18l3-3 5 5-3 3z","M9 3c3.309 0 6 2.691 6 6s-2.691 6-6 6-6-2.691-6-6 2.691-6 6-6m0-2a8 8 0 1 0 0 16A8 8 0 0 0 9 1z","M5 8h8v2H5z"]},tooltip:m.default.utils.getString("gantt.toolbar.zoomOut.tooltip"),onclick:function(){t.zoomOut()}})}},toggleLoadChart:{component:function(t){return new h(t,{unselected:{classes:"toggle-load-chart",fontIcon:"fa fa-bar-chart fa-lg",tooltip:m.default.utils.getString("gantt.loadResourceChart.show.tooltip")},selected:{classes:"toggle-load-chart selected",fontIcon:"fa fa-bar-chart fa-lg",tooltip:m.default.utils.getString("gantt.loadResourceChart.hide.tooltip")},isSelected:function(){return t.isLoadChartVisible()},onclick:function(){t.toggleLoadChartVisible()}})}}},T=function(t){function e(t,i,n){return o(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i,n))}return s(e,t),g(e,[{key:"setConfiguration",value:function(t,e){function i(t,i){i.justifyLeft?(d||(d=document.createElement("div"),d.style.display="flex",d.style.flexDirection="row",d.style.alignItems="center",d.style.marginRight="auto",d.className="left-toolbar-body",e.appendChild(d)),d.appendChild(t.node)):e.appendChild(t.node)}var n=this;this.components=[];for(var o,r,s,h,d=null,f=function(s,d,f,p,v,g){if(f=t[s],p=m.default.utils.isString(f)?w[f]:f,p.node)if(m.default.utils.isString(p.node))g={id:p.node,node:document.getElementById(p.node)};else{if(!m.default.utils.isFunction(p.node))throw new Error("The node property of a toolbar element must be either a string ID or a function creating a Dom element");g={},g.node=p.node(e,n.gantt,g),i(g,p)}else if(p.component)g=p.component(n.gantt,e),g.node&&!g.node.parentNode&&i(g,p);else if(p.template){g={id:void 0!==p.id?m.default.utils.isFunction(p.id)?p.id(p):p.id:a(m.default.utils.isString(f)?f:"toolbarComp")},g.node=document.createElement("div");var y=m.default.utils.formatString(p.template,g);m.default.utils.html(g.node,y),i(g,p)}else{if(!p.type)throw new Error("a node property must be specified in a toolbar element: "+f);if("button"===p.type)g=u(n.gantt,p);else if("checkbox"===p.type)g=l(n.gantt,p);else if("select"===p.type)g=c(n.gantt,p);else if("buttonGroup"===p.type)g=new(m.default.components.ButtonGroup.impl||m.default.components.ButtonGroup)(n.gantt,p);else{if("separator"!==p.type)throw new Error("Unknown toolbar component type: "+t.type);p=w.separator,g={},g.node=p.node(e,n.gantt,g)}g.node&&!g.node.parentNode&&i(g,p)}p.id&&g.setId(p.id),p.connect&&p.connect(g.node,g),p.update&&(g.update=function(t,e){p.update(t,e,g)}),f.id&&(g.id=f.id),n.components.push(g),o=f,r=p,h=g},p=0,v=t.length;p<v;p++)f(p,v,o,r,s,h);this.initTooltip()}},{key:"onInitialized",value:function(){this.components.forEach(function(t){t.onInitialized&&t.onInitialized()})}},{key:"initTooltip",value:function(){function t(t){for(;t&&t!==e.node;t=t.parentNode)if(t.dataset&&t.dataset.tooltip)return t}var e=this;this.gantt.tooltip.installTooltip({container:this.node,getTooltipDisplayContainer:function(){return e.gantt.getBody()},getTooltipElement:function(e){return t(e)},renderTooltip:function(t,e,i){i.appendChild(document.createTextNode(t.dataset.tooltip))}})}},{key:"connect",value:function(t){}},{key:"ganttLoaded",value:function(t,e){for(var i,n=0,o=this.components.length;n<o;++n)i=this.components[n],i.update&&i.update(t,e)}},{key:"destroy",value:function(){}}]),e}(m.default.components.Toolbar);m.default.components.Toolbar.impl=T;var E=function(t){function e(t,i){return o(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i))}return s(e,t),g(e,[{key:"setConfiguration",value:function(t){var e=this,i=document.createElement("div");if(t.id&&(i.id=t.id),i.className="button g-hoverable g-selectable"+(t.classes?" "+t.classes:""),t.icon){var n=document.createElement("img");n.src=t.icon,n.alt="",i.appendChild(n)}if(t.fontIcon){var o=document.createElement("i");o.className=t.fontIcon+(t.text?" fa-fw":""),i.appendChild(o)}return t.text&&i.appendChild(document.createTextNode(t.text)),this.node=i,i.onclick=function(n){m.default.utils.toggleClass(i,"selected"),t.onclick&&t.onclick(e.gantt)},i}}]),e}(m.default.components.CheckBox);m.default.components.CheckBox.impl=E},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(1),u=n(l),c="gantt-tooltip-arrow",h="bottom-arrow",d="top-arrow",f=function(t){function e(t){o(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i._tooltip=document.createElement("div"),i._tooltip.className="gantt-tooltip",i._tooltip.style.position="fixed",i._tooltip.style.visibility="hidden",i._tooltipArrow=document.createElement("div"),i._tooltipArrow.style.position="absolute",i._tooltipArrow.style.width="0",i._tooltipArrow.style.height="0",i._arrowHeight=5,i._tooltip.appendChild(i._tooltipArrow),document.body.appendChild(i._tooltip),u.default.utils.addEventListener(i._tooltip,"mouseenter",function(t){void 0!==i._hideTimer&&(clearTimeout(i._hideTimer),i._hideTimer=null,i._hidingElt=null)},!0),u.default.utils.addEventListener(i._tooltip,"mouseleave",function(t){t.target===i._tooltip&&i.hideTooltip(300)},!0),i}return s(e,t),a(e,[{key:"showTooltip",value:function(t,e,i){function n(t,e,i){return Math.max(Math.min(t,i),e)}var o=this;if(t!==this._tooltipElt){if(void 0!==this._hideTimer){clearTimeout(this._hideTimer),delete this._hideTimer;var r=this._hidingElt;if(this._hidingElt=null,r===t)return}if(void 0!==this._showTimer){if(this._tooltipElt===t)return;clearTimeout(this._showTimer),delete this._showTimer,this._tooltipElt=null}this._tooltip.innerHTML="",2===arguments.length&&(i=e,e=null),i(this._tooltip),this._tooltip.style.visibility="hidden",this._tooltip.style.left=this._tooltip.style.top=0,this._tooltip.style.maxHeight="none";var s=this._tooltip.offsetHeight+this._arrowHeight,a=u.default.utils.getScreenPoint(t),l=void 0;if(e&&e.limitElt){var c=e.limitElt.getBoundingClientRect(),f=u.default.utils.getWindowScrollLeft(),p=u.default.utils.getWindowScrollTop();l={x:Math.max(c.left+f+(c.left<0?c.lef:0),0),y:Math.max(c.top+p+(c.left<0?c.lef:0),0)},l.width=Math.min(document.documentElement.clientWidth,c.right+f)-Math.max(c.left,0),l.height=Math.min(document.documentElement.clientHeight,c.bottom+p)-Math.max(c.top,0)}else l={x:0,y:0,width:document.body.offsetWidth,height:document.body.offsetHeight};var v=void 0,g=void 0,y=void 0,m=void 0;a.y-s>=l.y?(a.y-=s,this._tooltip.style.maxHeight="none",y=h):a.y+s+t.offsetHeight<=l.y+l.height?(a.y+=t.offsetHeight+this._arrowHeight,this._tooltip.style.maxHeight="none",y=d):(v=a.y-l.y)>(g=l.y+l.height-a.y-t.offsetHeight)?(a.y=l.y,this._tooltip.style.maxHeight=v-this._arrowHeight+"px",y=h):(a.y+=t.offsetHeight+this._arrowHeight,this._tooltip.style.maxHeight=g-this._arrowHeight+"px",y=d);var b=10;m=a.x+t.offsetWidth/2,l.width<=this._tooltip.offsetWidth?(a.x=l.x,this._tooltip.style.maxWidth=l.width+"px"):(a.x=n(a.x+t.offsetWidth/2-this._tooltip.offsetWidth/2,l.x,l.x+l.width-this._tooltip.offsetWidth),this._tooltip.style.maxWidth="none"),m=n(m-a.x,b,this._tooltip.offsetWidth-b),this.setArrowPosition(y,m),this._tooltip.appendChild(this._tooltipArrow),this._tooltip.style.top=a.y+"px",this._tooltip.style.left=a.x+"px",this._tooltipElt=t,e&&e.showDelay?this._showTimer=setTimeout(function(){delete o._showTimer,o._tooltip.style.visibility="visible"},e.showDelay):this._tooltip.style.visibility="visible"}}},{key:"setArrowPosition",value:function(t,e){this._tooltipArrow.className=c+" "+t,t===d?this._tooltipArrow.style.left=e+"px":t===h&&(this._tooltipArrow.style.left=e+"px")}},{key:"hideTooltip",value:function(t,e){var i=this;if(void 0!==this._showTimer)return clearTimeout(this._showTimer),this._tooltipElt=null,void delete this._showTimer;if(this._tooltipElt)if(t){if(this._hideTimer)return;this._hideCB=e,this._hidingElt=this._tooltipElt,this._hideTimer=setTimeout(function(){i._hideTimer=null,i._hidingElt=null,i._tooltipElt=null,i._hideCB&&i._hideCB(),i._hideCB=null,i._tooltip.style.display="none"},t)}else e&&e(),this._tooltipElt=null,this._tooltip.style.display="none"}},{key:"installTooltip",value:function(t){var e=this,i=1e3,n=800;u.default.utils.addEventListener(t.container,"mouseenter",function(o){var r=t.getTooltipElement(o.target);if(r){var s=t.getTooltipData&&t.getTooltipData(r);if(t.enteringTooltipElement&&t.enteringTooltipElement(r,s)===!1)return;var a={limitElt:t.getTooltipDisplayContainer&&t.getTooltipDisplayContainer()||document.body,showDelay:n};e.showTooltip(r,a,function(e){t.renderTooltip(r,s,e)})}else e.hideTooltip(i)},!0),u.default.utils.addEventListener(t.container,"mouseleave",function(n){var o=t.getTooltipElement(n.target);if(o){if(e._tooltipElt===o){var r=t.getTooltipData&&t.getTooltipData(o);if(t.leavingTooltipElement&&t.leavingTooltipElement(o,r)===!1)return;if(n.relatedTarget&&t.getTooltipElement(n.relatedTarget)===o)return}e.hideTooltip(i)}},!0)}}]),e}(u.default.components.Tooltip);u.default.components.Tooltip.impl=f},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(1),u=n(l),c=function(t){function e(t,i){o(this,e);var n=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.children=[],n.updates=[],n.updateLocks=0,n._reload=!1,t&&t.children.push(n),i&&u.default.utils.mergeObjects(n,i),n._containsRowChanges=!1,n._tableYScrollChanged=!1,n}return s(e,t),a(e,[{key:"reload",value:function(){this._reload=!0,this._containsRowChanges=!0}},{key:"isReload",value:function(){return this._reload||this.parent&&this.parent.isReload()}},{key:"rowsChanged",value:function(t,e,i){this.addUpdate({type:t,rows:e,rowRef:i}),this._containsRowChanges=!0}},{key:"addUpdate",value:function(t){this.updates.push(t)}},{key:"removeUpdate",value:function(t){var e=this.updates.indexOf(t);e>=0&&this.updates.splice(e,1);for(var i=0,n=this.children?this.children.length:0;i<n;i++)this.children[i].removeUpdate(t)}},{key:"tableScrollYChanged",value:function(){this._tableYScrollChanged=!0}},{key:"hasTableScrollYChanged",value:function(){return this._tableYScrollChanged||this.parent&&this.parent.hasTableScrollYChanged()}},{key:"startUpdating",value:function(){++this.updateLocks}},{key:"stopUpdating",value:function(){return 0===--this.updateLocks&&(this.applyUpdates(),!0)}},{key:"applyUpdates",value:function(){this.doApplyUpdates(),this.updates=[],this._reload=!1;for(var t=0,e=this.children?this.children.length:0;t<e;t++)this.children[t].applyUpdates();this._containsRowChanges=!1}},{key:"containsRowChanges",value:function(){return this._containsRowChanges||this.parent&&this.parent.containsRowChanges()}},{key:"applyReload",value:function(){}},{key:"doApplyUpdates",value:function(){if(this._reload)this.applyReload();else for(var t=0,e=this.updates.length;t<e;t++)this.applyUpdate(this.updates[t])}},{key:"applyUpdate",value:function(t){}},{key:"destroy",value:function(){for(var t=0,e=this.children?this.children.length:0;t<e;t++)this.children[t].destroy();this.children=null}}]),e}(u.default.components.GanttUpdates);u.default.components.GanttUpdates.impl=c},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e,i,n){t[v](p+e,"wheel"==g?i:function(t){!t&&(t=window.event);var e={originalEvent:t,target:t.target||t.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==t.type?0:1,deltaX:0,deltaY:0,deltaZ:0,altKey:t.altKey,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,preventDefault:function(){t.preventDefault?t.preventDefault():t.returnValue=!1}};return"mousewheel"==g?(e.deltaY=-.025*t.wheelDelta,t.wheelDeltaX&&(e.deltaX=-.025*t.wheelDeltaX)):e.deltaY=t.detail,i(e)},n||!1)}var u=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),c=n(1),h=o(c),d={"Gantt.MoveActivity":'Move "{name}"',"Gantt.ChangeActivityRow":'Change "{name}" of row',"timeLine.changeRowItem.fmt":'<div class="dragg-item-content"><h2 class="dragg-title">{title}</h2><table><tr><td class="dragg-item-property">From row</td><td class="table-separator"></td><td class="dragg-item-value">{start}</td></tr><tr><td class="dragg-item-property">At date</td><td class="table-separator"></td><td class="dragg-item-value">{startRow}</td></tr><tr><td class="dragg-item-property">To row</td><td class="table-separator"></td><td class="dragg-item-value">{current}</td></tr><tr><td class="dragg-item-property">At date</td><td class="table-separator"></td><td class="dragg-item-value">{currentRow}</td></tr></table></div>',"timeLine.newTimeItem.fmt":'<div class="dragg-item-content"><h2 class="dragg-title {draggStatusClass}">{title}</h2><table><tr><td class="dragg-item-property">From</td><td class="table-separator"></td><td class="dragg-item-value">{start}</td></tr><tr><td class="dragg-item-property">To</td><td class="table-separator"></td><td class="dragg-item-value">{current}</td></tr></table></div>',"gantt.loading":"Loading","gantt.error.details":"Details","gantt.error.title.fmt":"{msg} : {title}","gantt.toolbar.mini.text":"Mini","gantt.toolbar.minimize.text":"Compact","gantt.toolbar.normal.text":"Normal","gantt.toolbar.mini.tooltip":"Change row height","gantt.toolbar.fit.tooltip":"Fit","gantt.toolbar.refresh.text":"Refresh","gantt.toolbar.refresh.tooltip":"Refresh","gantt.toolbar.zoomIn.tooltip":"Zoom In","gantt.toolbar.zoomOut.tooltip":"Zoom Out","gantt.loadResourceChart.load.title":"Load","gantt.loadResourceChart.show.tooltip":"Show Load chart","gantt.loadResourceChart.hide.tooltip":"Hide Load chart","gantt.loadResourceChart.noSelection.title":"Select one or more resources to display in the load chart","gantt.constraintChart.from":"From","gantt.constraintChart.to":"To","gantt.constraintChart.type":"Type","gantt.constraintChart.start.start":"Start to Start","gantt.constraintChart.start.end":"End to Start","gantt.constraintChart.end.end":"End to End","gantt.constraintChart.end.start":"End to Start","gantt.name":"Name","gantt.id":"Id","gantt.start":"Start","gantt.end":"End"};Number.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},h.default.utils={defaultDateFormat:"mmm d, hh:MM:ss TT",createDateParser:function(t){var e=0,i={},n="year",o="month",r="day",s="hour",a="min",l="secs",u="millis",c={yyyy:n,yy:n,y:n,M:o,MM:o,MMMM:o,d:r,dd:r,H:s,HH:s,m:a,mm:a,
s:l,ss:l,S:u,SS:u,SSS:u};return t.replace(/(yyyy|yy|y|MMMM|MM|M|dd|d|HH|H|mm|m|ss|s|SSS|SS|S)/g,function(t){i[c[t]]=e++}),function(t){if(!t)return 0;var e=t.match(/(\d+)/g);return new Date(e[i[n]],e[i[o]]-1,e[i[r]],e[i[s]],e[i[a]],e[i[l]]).getTime()}},closest:function(t,e){},mergeObjects:function(t){t||(t={});for(var e,i,n=1;n<arguments.length;n++)if(e=arguments[n])for(var o=0,r=Object.keys(e);o<r.length;o++)i=r[o],t[i]=e[i];return t},getChild:function(t,e){e=e?e.toUpperCase():null;for(var i=0;i<t.childNodes.length;i++)if(!e||t.childNodes[i].tagName.toUpperCase()===e)return t.childNodes[i];return null},isArray:function(t){return Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),Array.isArray(t)},isString:function(t){return"string"==typeof t||t instanceof String},isFunction:function(t){return"function"==typeof t},isDomElement:function(t){return t.nodeType>0},hasClass:function(t,e){return t.classList?t.classList.contains(e):!(!t.className||!t.className.match||!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)")))},addClass:function(t,e){t.classList?t.classList.add(e):this.hasClass(t,e)||(t.className?t.className+=" "+e:t.className=e)},removeClass:function(t,e){if(t.classList)t.classList.remove(e);else if(this.hasClass(t,e)){var i=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(i," ")}},toggleClass:function(t,e,i){void 0===i?this.hasClass(t,e)?this.removeClass(t,e):this.addClass(t,e):i?this.addClass(t,e):this.removeClass(t,e)},html:function(t,e){throw new Error("Gantt.utils.html not supported")},walkToAncestor:function(t,e,i,n){function o(t){return function(e){for(var i=0;i<t.length;i++)if(e===t[i])return!0;return!1}}for(var r,s="function"==typeof t?t:this.isArray(t)?o(t):function(e){return t===e},a=e;a&&a!==document||s(a);){if(s(a))return void 0===n&&a||n;if(r=a.parentNode,r===document&&!s(document))return;if(i){var l=i(r,a,n);void 0!==l&&(n=l)}a=r}},getWindowScrollLeft:function(){var t;return(((t=document.documentElement)||(t=document.body.parentNode))&&"number"==typeof t.scrollLeft?t:document.body).scrollLeft},getWindowScrollTop:function(){var t;return(((t=document.documentElement)||(t=document.body.parentNode))&&"number"==typeof t.scrollTop?t:document.body).scrollTop},getScreenPoint:function(t,e){var i=t.getBoundingClientRect();return{x:i.left+this.getWindowScrollLeft()+(e?e.x:0),y:i.top+this.getWindowScrollTop()+(e?e.y:0)}},getHeight:function(t){return t.offsetHeight},offsetParent:function(t){return t.parentNode},ajax:function(t,e){},propertyEvaluator:function(t){if(this.isFunction(t))return t;var e=t.split(".");return e.length>1?function(t){for(var i=0;t&&i<e.length;i++)t=t[e[i]];return t}:1==e.length?function(e){return e[t]}:function(t){return t}},stringMatches:function(t,e){return t.toLocaleLowerCase().indexOf(e.toLowerCase())>-1},getString:function(t,e){return d[t]||e||t},formatString:function(t,e){return t=this.getString(t,t),t.replace(/\{(\w+)\}/g,function(t,i){return e[i]})},addEventListener:function(t,e,i,n){t.addEventListener?t.addEventListener(e,i,n):t.attachEvent&&t.attachEvent("on"+e,i)},removeEventListener:function(t,e,i){t.removeEventListener?t.removeEventListener(e,i,!1):t.detachEvent&&t.detachEvent("on"+e,i)},implements:function(t){for(var e=1,i=arguments.length;e<i;e++){var n=arguments[e];for(var o in n)n.hasOwnProperty(o)&&(t[o]=n[o])}return t},detectIE:function(){var t=window.navigator.userAgent,e=t.indexOf("MSIE ");if(e>0)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);var i=t.indexOf("Trident/");if(i>0){var n=t.indexOf("rv:");return parseInt(t.substring(n+3,t.indexOf(".",n)),10)}var o=t.indexOf("Edge/");return o>0&&parseInt(t.substring(o+5,t.indexOf(".",o)),10)}},h.default.utils.isInteger=Number.isInteger;var f=function t(e,i,n){var o=this;a(this,t);var r=function(t,i){var r=e.context||e,s=function(t){var i=t&&t.then&&t||Promise.resolve(t);return e.success&&(i=i.then(function(t){return e.success.call(r,t,n)})),i};if(h.default.utils.isFunction(i))o[t]=function(){for(var t=arguments.length,e=Array(t),o=0;o<t;o++)e[o]=arguments[o];try{return i.apply(n,e)}catch(t){return Promise.reject(t)}};else if(e.url){var a=h.default.utils.mergeObjects({success:i.success,settings:n},i.ajaxConfig);o[t]=function(){return h.default.utils.ajax(i.url,a)}}else if(h.default.utils.isArray(e))o[t]=function(){return Promise.resolve(e)};else{var l=e.data;if(!l)throw"Data definition for "+JSON.stringify(e)+" for '"+t+"' does not define ajax parameters nor static data";if(h.default.utils.isString(l)){if(!r)throw"No context defined for data fetcher "+t;var u=h.default.utils.propertyEvaluator(l),c="function"==typeof r;o[t]=function(t){return t=t?t:c?r():r,t&&t.then?t.then(function(t){return s(u(t))}):s(u(t))}}else if(h.default.utils.isFunction(l)){var d="function"==typeof r;o[t]=function(t){if(t=t?t:d?r():r,t&&t.then)return t.then(function(e){return s(l.call(r,t))});try{return s(l.call(r,t))}catch(t){return Promise.reject(t)}}}else o[t]=function(){return s(l)}}};if(h.default.utils.isFunction(e))r("get",e,{});else if(h.default.utils.isArray(e))r("get",e,{});else{for(var s,l={context:n},u=[],c=void 0,d=0,f=Object.keys(e);d<f.length;d++)s=f[d],"data"===s||"url"===s||"success"===s||"context"===s||"ajaxConfig"===s?(l[s]=e[s],c=!0):(!i||i.indexOf(s)<0)&&(u.push(s),u.push(e[s]));for(var p,v=0;v<u.length;)p=u[v++],r(p,c&&h.default.utils.mergeObjects({},l,u[v++])||u[v++],l);!u.length&&c&&r("get",l)}};h.default.components.DataFetcher.impl=f;var p="",v=void 0,g=void 0;window.addEventListener?v="addEventListener":(v="attachEvent",p="on"),g="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",window.addWheelListener=function(t,e,i){l(t,g,e,i),"DOMMouseScroll"==g&&l(t,"MozMousePixelScroll",e,i)};var y=function(){var t=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,e=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,i=/[^-+\dA-Z]/g,n=function(t,e){for(t=String(t),e=e||2;t.length<e;)t="0"+t;return t};return function(o,r,s){var a=y;if(1!=arguments.length||"[object String]"!=Object.prototype.toString.call(o)||/\d/.test(o)||(r=o,o=void 0),o=o?new Date(o):new Date,isNaN(o))throw SyntaxError("invalid date");r=String(a.masks[r]||r||a.masks.default),"UTC:"==r.slice(0,4)&&(r=r.slice(4),s=!0);var l=s?"getUTC":"get",u=o[l+"Date"](),c=o[l+"Day"](),h=o[l+"Month"](),d=o[l+"FullYear"](),f=o[l+"Hours"](),p=o[l+"Minutes"](),v=o[l+"Seconds"](),g=o[l+"Milliseconds"](),m=s?0:o.getTimezoneOffset(),b={d:u,dd:n(u),ddd:a.i18n.dayNames[c],dddd:a.i18n.dayNames[c+7],m:h+1,mm:n(h+1),mmm:a.i18n.monthNames[h],mmmm:a.i18n.monthNames[h+12],yy:String(d).slice(2),yyyy:d,h:f%12||12,hh:n(f%12||12),H:f,HH:n(f),M:p,MM:n(p),s:v,ss:n(v),l:n(g,3),L:n(g>99?Math.round(g/10):g),t:f<12?"a":"p",tt:f<12?"am":"pm",T:f<12?"A":"P",TT:f<12?"AM":"PM",Z:s?"UTC":(String(o).match(e)||[""]).pop().replace(i,""),o:(m>0?"-":"+")+n(100*Math.floor(Math.abs(m)/60)+Math.abs(m)%60,4),S:["th","st","nd","rd"][u%10>3?0:(u%100-u%10!=10)*u%10]};return r.replace(t,function(t){return t in b?b[t]:t.slice(1,t.length-1)})}}();y.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"},y.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]},Date.prototype.format=function(t,e){return y(this,t||h.default.utils.defaultDateFormat,e)};var m=function(t){function e(t){a(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.colorSet=null,i.setConfiguration(t),i}return s(e,t),u(e,[{key:"setConfiguration",value:function(t){var e=this,n=-1,o=function(t,o){if(t.length>=n)e.colorSet[o]=t,n=t.length;else{for(var r=o-1;r>=0&&e.colorSet[r].length<t.length;)e.colorSet[i]=e.colorSet[i-1];e.colorSet[r===-1?0:r]=t}},r=function(t){for(var i=0,n=e.colorSet.length;i<n;++i)if(e.colorSet[i].length>=t)return e.colorSet[i];return e.colorSet.length&&e.colorSet[e.colorSet.length-1]||null};if(h.default.utils.isArray(t)){var s=t.length;if(s)if(h.default.utils.isArray(t[0])){this.colorSet=new Array(s);for(var a=0;a<s;a++)o(t[a],a);this._getColors=r}else this.colors=t,this._getColors=function(){return e.colors};else this._getColors=function(){return null}}else if(h.default.utils.isFunction(t))this._getColors=t;else{var l=Object.keys(t),u=l.length,c=0;this.colorSet=new Array(u);for(var d,f=0;f<u;++f)h.default.utils.isArray(d=t[l[f]])&&o(d,c++);c&&c===u?this._getColors=r:(console.error("Unkown palette configuration "+t),console.log(t),this._getColors=function(){return null},this.colorSet=null)}}},{key:"getColors",value:function(t){function e(e){var i=e.length;if(t<0||i===t)return e;if(i>t)return e.slice(0,t);for(var n=new Array(t),o=0;o<t;++o)n[o]=e[o%i];return n}var i=this._getColors(t);return i&&e(i)}}]),e}(h.default.components.Palette);h.default.components.Palette.impl=m,h.default.defaultPaletteName="qualitative20",h.default.defaultPalettes[h.default.defaultPaletteName]=new m(["#41D6C3","#8CD211","#5AAAFA","#BA8FF7","#00AE9A","#5AA600","#4178BE","#9855D4","#EFC100","#FF7832","#E71D32","#325C80","#AC8C00","#D74108","#AD1625","#1D3649","#FF71D4","#DB2780","#9D9393","#645A5A"]),h.default.components.GanttPanel.prototype.utils=h.default.utils},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var o=i(23),r=n(o);i(25),i(29),i(26),i(27),i(24),t.exports=r.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(1);Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n(o).default}}),i(14),i(13),i(16),i(11),i(10),i(15),i(4),i(5),i(6),i(17),i(12);var r=i(30),s=n(r);"undefined"==typeof Promise&&(console.log("Use of es6-promise"),s.default.polyfill())},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(){return[{name:w,data:null,title:"",render:function(t,e,i,n){return'<div class="row-number">'+(n.row+1)+"</div>"},className:"row-number-col",orderable:!1,searchable:!1},{name:T,data:null,title:"Name"}]}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),u=i(1),c=n(u),h=i(28),d=n(h),f=i(2),p=n(f),v=i(33),g=n(v);g.default&&(0,g.default)(window,p.default);var y="highlight",m="selected",b="tree-table-flat",w="rowNumbers",T="hierarchy",E="tree-node",k={bInfo:!1,paging:!1,scrollY:"100%",scrollX:!0,rowId:"id"},C=function(t,e){for(var i=0,n=t?t.length:0;i<n;i++)if(t[i].name===e)return t[i];return null},_=function(t){function e(t,i,n){o(this,e);var s=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i,n));s.gantt=t;var a=s.gantt.selection;return a.on(c.default.events.ROW_SELECTION_CLEARED,function(){return s.clearSelection()}),a.on(c.default.events.ROW_SELECTED,function(t,e){return s.selectRows(e)}),a.on(c.default.events.ROW_UNSELECTED,function(t,e){return s.unselectRows(e)}),s.setConfiguration(n),s}return s(e,t),l(e,[{key:"setConfiguration",value:function(t){var e=this;this.config=t,this.$dataTable&&this.destroy();var i=c.default.utils.mergeObjects({},k);if(i.columns=a(),this.dataTableOptions=c.default.utils.mergeObjects(i,t&&t.dataTables),t&&t.columns&&t.columns.length){var n={};this.dataTableOptions.columns=this.dataTableOptions.columns.filter(function(e){return e.name&&(n[e.name]=e),!e.name||!C(t.columns,e.name)});for(var o,r,s=0;s<t.columns.length;s++)o=t.columns[s],r=this.customizeDataColumn(o.name&&n[o.name]||{},o),r&&this.dataTableOptions.columns.push(r);var l={};this.dataTableOptions.columns=this.dataTableOptions.columns.filter(function(t){return!t.remove||!t.name||(l[t.name]=!0,!1)}),C(this.dataTableOptions.columns,T)||l[T]||this.dataTableOptions.columns.splice(0,0,C(n[T])),C(this.dataTableOptions.columns,w)||l[w]||this.dataTableOptions.columns.splice(0,0,C(n[w]))}t&&void 0!==t.sorting&&!t.sorting?this.dataTableOptions.columns.bSort=!1:t&&t.initialSorting||(this.dataTableOptions.order=[]),this.controller=new d.default,this.controller.rowsVisibilityChanged=function(t,i,n){e.gantt.startUpdating(),e.triggerEvent(t?c.default.events.ROWS_ADDED:c.default.events.ROWS_REMOVED,i,n),e.gantt.updates.rowsChanged(t?c.default.events.ROWS_ADDED:c.default.events.ROWS_REMOVED,i,n),e.gantt.stopUpdating()},this.controller.customizeOptions(this.dataTableOptions,C(this.dataTableOptions.columns,T)),this.dataTableOptions.rowId="id";var u=this.dataTableOptions.initComplete;this.dataTableOptions.initComplete=function(t,e){u&&u(t,e)};var h=this.dataTableOptions.drawCallback;this._drawCallbacks=[],this.dataTableOptions.drawCallback=function(t){h&&h.call(e,t);for(var i=0;i<e._drawCallbacks.length;i++)e._drawCallbacks[i](t);e._drawCallbacks=[]},this.create()}},{key:"customizeDataColumn",value:function(t,e){if(e.name&&(t.name=e.name),e.title&&(t.title=e.title),e.width&&(t.width=e.width),e.visible&&(t.visible=e.visible),e.className&&(t.className=e.className),e.remove&&(t.remove=e.remove),e.data||e.text){var i=e.data||e.text;if("function"==typeof i)t.data=i;else if("string"==typeof i){var n=c.default.utils.propertyEvaluator(i);n&&(t.data=function(t){return n(t)})}}if(e.renderer||e.sortComparator||e.sortValue||e.filterValue){var o=e.renderer?new(c.default.components.Renderer.impl||c.default.components.Renderer)(e.renderer,S,this.gantt):null;if(e.sortValue||e.sortComparator||o&&o.getText){t.type=E;var r=void 0;e.sortValue&&(c.default.utils.isFunction(e.sortValue)?r=function(t){return e.sortValue.call(e,t)}:c.default.utils.isString(e.sortValue)?r=c.default.utils.propertyEvaluator(e.sortValue):console.warn("sortValue column config should be a function or a string")),!r&&!e.sortComparator&&o&&o.getText&&(r=function(t){return o.getText(t)}),t.render={},t.render.sort=function(t,i,n,o){var s=Object.create(n);return r&&(s.getSortValue=r),e.sortComparator&&(s.comparator=function(t,i){return e.sortComparator.call(e,t,i)}),s}}else t.orderable=!1;if(e.filterValue)if(t.render||(t.render={}),c.default.utils.isFunction(e.filterValue))t.render.filter=function(t,i,n,o){return e.filterValue.call(e,n)};else if(c.default.utils.isString(e.filterValue)){var s=c.default.utils.propertyEvaluator(e.filterValue);t.render.filter=function(t,e,i,n){return s(i)}}else console.warn("filterValue column config should be a function or a string");o&&(t.render||(t.render={}),o.getText&&(t.render._=function(t,e,i,n){return o.getText(i)}),t.render.display=function(t,e,i,n){var r="",s=o.getIcon&&o.getIcon(t,n);if(s){s=c.default.utils.isArray(s)?s:[s];for(var a=0;a<s.length;a++)r+="<img src='"+s[a]+"' alt='' class='text-icon'>"}var l=o.getText&&o.getText(t,n);return l&&(r+="<span>"+l+"</span>"),r});var a={};t.createdCell=function(t,e,i,n,r){o.draw(i,t,a)}}return t.data||(t.data=null),t}},{key:"setRowFilter",value:function(t){this.filter=t}},{key:"create",value:function(){}},{key:"setRows",value:function(t){var e=this;this.rows=t,this.tableElt&&this.destroy(),this.tableElt=document.createElement("table"),this.tableElt.className=c.default.components.TreeTable.defaultClass,this.tableElt.cellSpacing=0;for(var i,n=document.createElement("thead"),o=document.createElement("tr"),r=this.dataTableOptions.columns,s=0;s<r.length;s++)i=document.createElement("th"),i.innerHTML=r[s].title&&c.default.utils.getString(r[s].title)||r[s].data||"Col"+(s+1),o.appendChild(i);n.appendChild(o),this.tableElt.appendChild(n),this.node.appendChild(this.tableElt);var a=void 0,l=new Promise(function(t,e){a=t}),u=(0,p.default)(this.tableElt);this.tableBody=null,this.headerHeight>0&&(this.headerHeight=-this.headerHeight),this.$dataTable=u.on("init.dt",function(){e.tableInitialized(),e.headerHeight<0&&e.setHeaderHeight(-e.headerHeight),e.triggerEvent(c.default.events.TABLE_INIT),a(t),e.dataTableOptions.data=null}).DataTable(c.default.utils.mergeObjects({},this.dataTableOptions,{data:t}));var h=C(this.dataTableOptions.columns,w);this.$dataTable.on("order.dt search.dt",function(t){h&&e.$dataTable.column(w+":name",{search:"applied",order:"applied"}).nodes().each(function(t,e){t.innerHTML=e+1})}).draw("full-hold");for(var d=this.$dataTable.settings(),f=0;f<d.length;f++)d[f].ganttDataTable=this;var v=this.getScrollableBody(this.tableElt);return this.controller.install(this.$dataTable,v),(0,p.default)(v).on("click","tr",function(t){var i=(0,p.default)(t.target).closest("tr"),n=i&&i.length&&e.getRow(i[0]);n&&(e.gantt.highlightRow(n,!0,!0),e.gantt.selection.processClick(t,n))}),(0,p.default)(v).on("mouseenter","tr",function(t){var i=(0,p.default)(t.target).closest("tr"),n=i&&i.length&&e.getRow(i[0]);n&&e.gantt.highlightRow(n,!0,!0)}),(0,p.default)(v).on("mouseleave","tr",function(t){var i=(0,p.default)(t.target).closest("tr");i&&i.length&&e.getRow(i[0]),e.gantt.highlightRow(null,!0,!0)}),l}},{key:"tableInitialized",value:function(){(0,p.default)(this.node).toggleClass(b,this.gantt.isFlat()),this.$scrollableBody=(0,p.default)(this.node).find("div.dataTables_scrollBody"),this.scrollableBody=this.$scrollableBody[0],this.tableBody=this.$scrollableBody.find("TBODY")[0],this.scrollableBody.overflowX="scroll",this.scrollableBody.overflowY="hidden",this.scrollableBody.style.position="absolute",this.scrollableBody.style.right=0,this.scrollableBody.style.left=0,this.scrollableBody.style.bottom=0,this.scrollableBody.style.width=null,this.scrollableBody.style.height=null;var t=(0,p.default)(this.node).find("div.dataTables_scrollHead THEAD");this.tableHeader=t[0];var e=this;t.find("th").click(function(){(c.default.utils.hasClass(this,"sorting")||c.default.utils.hasClass(this,"sorting_asc")||c.default.utils.hasClass(this,"sorting_desc"))&&(e.gantt.startUpdating(),e.gantt.updates.rowsChanged(c.default.events.ROWS_SORTED),e.gantt.updates.tableScrollYChanged(),e.triggerEvent(c.default.events.ROWS_SORTED),e.gantt.stopUpdating())})}},{key:"onDraw",value:function(t){this._drawCallbacks.push(t)}},{key:"createUpdates",value:function(t){var e=this,i=new(c.default.components.GanttUpdates.impl||c.default.components.GanttUpdates)(t,{doApplyUpdates:function(){i.isReload()?e.$dataTable.draw():i.containsRowChanges&&e.$dataTable.draw("full-hold")}});return i}},{key:"getScrollableBody",value:function(){return this.getTableBody()}},{key:"setHeaderHeight",value:function(t){if(this.tableHeader){this.headerHeight=t;var e=void 0;if(t){e=t;for(var i=c.default.utils.getChild(this.tableHeader,"TR").childNodes,n=0,o=i.length;n<o;++n)(0,p.default)(i.item(n)).css({height:t+"px"})}else e=(0,p.default)(this.tableHeader).height();this.scrollableBody.style.top=e+"px";var r=(0,p.default)(this.node).height();this.$scrollableBody.height(r-e)}else this.headerHeight=-t}},{key:"getScrollableTable",value:function(){return this.scrollableBody}},{key:"getTableBody",value:function(){return this.tableBody}},{key:"getHeight",value:function(){return this.tableBody?this.tableBody.offsetHeight:0}},{key:"getRowCount",value:function(){return this.$dataTable.data().length}},{key:"createRowResult",value:function(t,e){var i=t.id,n=(i||0===i)&&this.rows&&this.rows.byIds[i]||null;return n&&(n.tr=t,void 0!==e&&(n.index=e)),n}},{key:"getRow",value:function(t){var e=void 0,i=void 0;return t&&t.isGanttRow?(i=t,e=t.id):"string"==typeof t||t&&t.id?(e=t.id||t,i=this.rows&&this.rows.byIds&&e&&this.rows.byIds[e]):c.default.utils.isInteger(t)&&(i=this.rows&&this.rows[t],e=i&&i.id),i&&!i.tr&&e&&(i.tr=t.nodeType?t:document.getElementById(e)),i}},{key:"getVisibleRows",value:function(){for(var t,e=this.$dataTable.$("tr",{filter:"applied"}),i=e.length,n=new Array(i),o=0;o<i;++o)t=e[o],t=t.length?t[0]:t,t=this.rows&&this.rows.byIds[t.id],n[o]=t;return n}},{key:"getRowAt",value:function(t,e){var i=void 0,n=void 0;if(e&&e.getData()&&(i=e.tr)){n=e.index;var o=this.getRowTop(e);if(o<=t)for(t-=o;i&&t>i.offsetHeight;)t-=i.offsetHeight,i=i.nextSibling,n++;else do i=i.previousSibling,--n;while(i&&t<(o-=i.offsetHeight));if(i&&e.tr==i)return e}else{n=0;var r=this.nextRow(null);for(i=r&&r.tr;i&&t>=i.offsetHeight;)t-=i.offsetHeight,i=i.nextSibling,++n}return i&&this.createRowResult(i,n)}},{key:"getRowAtIndex",value:function(t){var e=this.getTableBody();if(e){for(var i=c.default.utils.getChild(e,"TR"),n=t;t--&&i;)i=i.nextSibling;return i&&this.createRowResult(i,n)||null}return null}},{key:"getRowTop",value:function(t){return(t.tr||(t.tr=document.getElementById(t.id)))&&t.tr.offsetTop-this.getTableBody().offsetTop||0}},{key:"nextRow",value:function(t){if(!t){var e=this.getTableBody()&&this.getTableBody().firstChild;return e&&this.createRowResult(e,0)||null}var i=t.tr.nextSibling;return i&&this.createRowResult(i,t.index+1)||null}},{key:"prevRow",value:function(t){if(!t){var e=this.getTableBody()&&this.getTableBody().lastChild;return e&&this.createRowResult(e,this.getTableBody().childElementCount)||null}var i=t.tr.previousSibling;return i&&this.createRowResult(i,t.index-1)||null}},{key:"setRowHeight",value:function(t,e){t.defaultHeight||(t.defaultHeight=t.tr.offsetHeight),e!=t.defaultHeight?(0,p.default)(t.tr).css({height:e+"px"}).addClass("variable-row-height"):(0,p.default)(t.tr).css({height:"inherit"})}},{key:"getRowHeight",value:function(t,e){return(0,p.default)(t.tr||(t.tr=document.getElementById(t.id))).height()}},{key:"deleteDrawCache",value:function(){if(this.rows)for(var t=0,e=this.rows.length;t<e;++t)delete this.rows[t].activityRow;this.$dataTable.$("tr.variable-row-height").css({height:"inherit"}).removeClass("variable-row-height")}},{key:"expandParents",value:function(t){t=this.getRow(t),t&&this.controller.expandParents(""+t.id)}},{key:"getFirstVisibleRow",value:function(){var t=this.getScrollableTable().scrollTop;return this.getRowAt(t)}},{key:"isRowVisible",value:function(t){var e=this.getRow(t);if(this.isRowFiltered(e))return!1;for(var i=e.parent;i;){if(this.controller.isCollapsedNode(i.id))return!1;i=i.parent}return!0}},{key:"toggleCollapseRow",value:function(t,e){var i=this.getRow(t);return!(!i||this.isRowFiltered(i))&&(void 0===e&&(e=!this.controller.isCollapsedNode(i.id)),void this.controller.collapseNode(i.id,e))}},{key:"highlightRow",value:function(t,e,i){var n=c.default.utils;if(i)for(var o=this.getTableBody().querySelectorAll("tr."+y),r=0;r<o.length;r++)n.removeClass(o[r],y);t&&t.tr?n.toggleClass(t.tr,y,void 0===e||e):t&&(0,p.default)(this.getTableBody()).find("#"+(t.id||t)).toggleClass(y,void 0===e||e)}},{key:"draw",value:function(t){t?this.$dataTable.draw():this.$dataTable.draw("full-hold")}},{key:"onResize",value:function(){this.$dataTable&&this.$dataTable.draw("full-hold")}},{key:"filterChanged",value:function(){this.$dataTable&&this.$dataTable.draw("full-hold")}},{key:"isRowFiltered",value:function(t){return void 0!==t.__filterMatched&&!t.__filterMatched}},{key:"setRowColor",value:function(t,e){}},{key:"destroy",value:function(){this.$dataTable&&(this.$dataTable.destroy(),this.tableElt.parentNode===this.node&&this.node.removeChild(this.tableElt),this.$dataTable=null,this.tableElt=null,this.tableBody=null,this.$scrollableBody=null,this.tableHeader=null)}},{key:"clearSelection",value:function(){this.$dataTable&&this.$dataTable.$("tr."+m).removeClass(m)}},{key:"selectRows",value:function(t){for(var e,i=0;i<t.length;i++)e=t[i].tr||this.getRow(t[i]).tr,e&&c.default.utils.addClass(e,m)}},{key:"unselectRows",value:function(t){for(var e,i=0;i<t.length;i++)e=t[i].tr||this.getRow(t[i]).tr,e&&c.default.utils.removeClass(e,m)}}]),e}(c.default.components.TreeTable);e.default=_,c.default.components.TreeTable.defaultClass="gantt-tree-table display nowrap";var S={createShape:function(t,e,i){return e},getText:function(t){return t.name},drawContent:function(t,e,i,n,o){}};c.default.components.TreeTable.impl=_},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var o=i(2),r=n(o),s=i(1),a=n(s),l=[],u=function(t){for(var e=0,i=l.length;e<i;++e)if(l[e].node==t)return l[e];return null},c=function(t){var e=l.indexOf(t);return e>-1&&l.splice(e,1),t};a.default.envReady=function(){return new Promise(function(t,e){(0,r.default)(document).ready(t)})};try{r.default.fn.Gantt=function(t){var e=[];this.each(function(){var i=this,n=u(this);if(n){if(!t)return;n.destroy(),c(n)}n=new a.default(this,t),n.disconnect=function(){c(i)},e.push(n)});var i=e.length&&e[0],n=i&&i.api&&i.api()||{};return 1==e.length?this.api=function(){return n}:e.length>0||(this.api=function(){return{}}),r.default.extend(this,n),e.length&&e[0]}}catch(t){console.error(t)}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(1),a=n(s),l=i(2),u=n(l);!function(t,e){function i(){var t=e(this),i=v(t);t.is(".fixed-top, .fixed-bottom, .horizontal-percent")?t.css("min-height",m(i.first)+m(i.last)+e(i.divider).height()+"px"):t.css("min-width",b(i.first)+b(i.last)+e(i.divider).width()+"px")}function n(t){var i=e(this),n=i.parent(),o=i.siblings(".split-pane-resize-shim");o.show(),i.addClass("dragged"),t.type.match(/^touch/)&&i.addClass("touch");var r=l(n,g(t),y(t));e(document).on("touchmove mousemove",r),e(document).one("touchend mouseup",function(t){e(document).off("touchmove mousemove",r),i.removeClass("dragged touch"),o.hide(),n.trigger("dividerdragend",[s(n)])}),n.trigger("dividerdragstart",[s(n)])}function s(t){var e=t.is(".fixed-top, .fixed-bottom, .horizontal-percent")?"height":"width";return{firstComponentSize:t.find(".split-pane-component:first")[e](),lastComponentSize:t.find(".split-pane-component:last")[e]()}}function a(t){var e=v(t);return t.is(".fixed-top")?function(i){var n=m(e.last),o=e.splitPane.offsetHeight-n-e.divider.offsetHeight;e.first.offsetHeight>o&&E(e,o+"px"),t.resize()}:t.is(".fixed-bottom")?function(i){var n=m(e.first),o=e.splitPane.offsetHeight-n-e.divider.offsetHeight;e.last.offsetHeight>o&&k(e,o+"px"),t.resize()}:t.is(".horizontal-percent")?function(i){var n=m(e.last),o=m(e.first),r=e.splitPane.offsetHeight-o-e.divider.offsetHeight;e.last.offsetHeight>r?k(e,r/e.splitPane.offsetHeight*100+"%"):e.splitPane.offsetHeight-e.first.offsetHeight-e.divider.offsetHeight<n&&k(e,n/e.splitPane.offsetHeight*100+"%"),t.resize()}:t.is(".fixed-left")?function(i){var n=b(e.last),o=e.splitPane.offsetWidth-n-e.divider.offsetWidth;e.first.offsetWidth>o&&C(e,o+"px"),t.resize()}:t.is(".fixed-right")?function(i){var n=b(e.first),o=e.splitPane.offsetWidth-n-e.divider.offsetWidth;e.last.offsetWidth>o&&_(e,o+"px"),t.resize()}:t.is(".vertical-percent")?function(i){var n=b(e.last),o=b(e.first),r=e.splitPane.offsetWidth-o-e.divider.offsetWidth;e.last.offsetWidth>r?_(e,r/e.splitPane.offsetWidth*100+"%"):e.splitPane.offsetWidth-e.first.offsetWidth-e.divider.offsetWidth<n&&_(e,n/e.splitPane.offsetWidth*100+"%"),t.resize()}:void 0}function l(t,e,i){var n=v(t);return t.is(".fixed-top")?u(n,i):t.is(".fixed-bottom")?c(n,i):t.is(".horizontal-percent")?h(n,i):t.is(".fixed-left")?d(n,e):t.is(".fixed-right")?f(n,e):t.is(".vertical-percent")?p(n,e):void 0}function u(t,i){var n=m(t.first),o=t.splitPane.offsetHeight-m(t.last)-t.divider.offsetHeight,r=t.divider.offsetTop-i;return function(i){var s=w(n,o,r+y(i));E(t,s+"px"),e(t.splitPane).resize()}}function c(t,i){var n=m(t.last),o=t.splitPane.offsetHeight-m(t.first)-t.divider.offsetHeight,r=t.last.offsetHeight+i;return function(i){i.preventDefault&&i.preventDefault();var s=Math.min(Math.max(n,r-y(i)),o);k(t,s+"px"),e(t.splitPane).resize()}}function h(t,i){var n=t.splitPane.offsetHeight,o=m(t.last),r=n-m(t.first)-t.divider.offsetHeight,s=t.last.offsetHeight+i;return function(i){i.preventDefault&&i.preventDefault();var a=Math.min(Math.max(o,s-y(i)),r);k(t,a/n*100+"%"),e(t.splitPane).resize()}}function d(t,i){var n=b(t.first),o=t.splitPane.offsetWidth-b(t.last)-t.divider.offsetWidth,r=t.divider.offsetLeft-i;return function(i){i.preventDefault&&i.preventDefault();var s=T(n,o,r+g(i));C(t,s+"px"),e(t.splitPane).resize()}}function f(t,i){var n=b(t.last),o=t.splitPane.offsetWidth-b(t.first)-t.divider.offsetWidth,r=t.last.offsetWidth+i;return function(i){i.preventDefault&&i.preventDefault();var s=Math.min(Math.max(n,r-g(i)),o);_(t,s+"px"),e(t.splitPane).resize()}}function p(t,i){var n=t.splitPane.offsetWidth,o=b(t.last),r=n-b(t.first)-t.divider.offsetWidth,s=t.last.offsetWidth+i;return function(i){i.preventDefault&&i.preventDefault();var a=Math.min(Math.max(o,s-g(i)),r);_(t,a/n*100+"%"),e(t.splitPane).resize()}}function v(t){return{splitPane:t[0],first:t.children(".split-pane-component:first")[0],divider:t.children(".split-pane-divider")[0],last:t.children(".split-pane-component:last")[0]}}function g(t){return void 0!==t.pageX?t.pageX:void 0!==t.originalEvent.pageX?t.originalEvent.pageX:t.originalEvent.touches?t.originalEvent.touches[0].pageX:void 0}function y(t){return void 0!==t.pageY?t.pageY:void 0!==t.originalEvent.pageY?t.originalEvent.pageY:t.originalEvent.touches?t.originalEvent.touches[0].pageY:void 0}function m(t){return parseInt(e(t).css("min-height"))||0}function b(t){return parseInt(e(t).css("min-width"))||0}function w(t,e,i){return Math.min(Math.max(t,i),e)}function T(t,e,i){return Math.min(Math.max(t,i),e)}function E(t,e){t.first.style.height=e,t.divider.style.top=e,t.last.style.top=e}function k(t,e){t.first.style.bottom=e,t.divider.style.bottom=e,t.last.style.height=e}function C(t,e){t.first.style.width=e,t.divider.style.left=e,t.last.style.left=e}function _(t,e){t.first.style.right=e,t.divider.style.left=e,t.last.style.width=e}var S={};S.init=function(){var t=this;t.each(i),t.append('<div class="split-pane-resize-shim">'),t.children(".split-pane-divider").html('<div class="split-pane-divider-inner"></div>'),t.children(".split-pane-divider").on("touchstart mousedown",n),setTimeout(function(){t.each(function(){e(this).on("_splitpaneparentresize",a(e(this)))}),e(window).trigger("resize")},100)},S.firstComponentSize=function(t){this.each(function(){var i=e(this),n=v(i);i.is(".fixed-top")?u(n,n.divider.offsetTop)({pageY:t}):i.is(".fixed-bottom")?(t=n.splitPane.offsetHeight-n.divider.offsetHeight-t,c(n,-n.last.offsetHeight)({pageY:-t})):i.is(".horizontal-percent")?(t=n.splitPane.offsetHeight-n.divider.offsetHeight-t,h(n,-n.last.offsetHeight)({pageY:-t})):i.is(".fixed-left")?d(n,n.divider.offsetLeft)({pageX:t}):i.is(".fixed-right")?(t=n.splitPane.offsetWidth-n.divider.offsetWidth-t,f(n,-n.last.offsetWidth)({pageX:-t})):i.is(".vertical-percent")&&(t=n.splitPane.offsetWidth-n.divider.offsetWidth-t,p(n,-n.last.offsetWidth)({pageX:-t}))})},S.lastComponentSize=function(t){
this.each(function(){var i=e(this),n=v(i);i.is(".fixed-top")?(t=n.splitPane.offsetHeight-n.divider.offsetHeight-t,u(n,n.divider.offsetTop)({pageY:t})):i.is(".fixed-bottom")?c(n,-n.last.offsetHeight)({pageY:-t}):i.is(".horizontal-percent")?h(n,-n.last.offsetHeight)({pageY:-t}):i.is(".fixed-left")?(t=n.splitPane.offsetWidth-n.divider.offsetWidth-t,d(n,n.divider.offsetLeft)({pageX:t})):i.is(".fixed-right")?f(n,-n.last.offsetWidth)({pageX:-t}):i.is(".vertical-percent")&&p(n,-n.last.offsetWidth)({pageX:-t})})},S.setLeftComponentVisible=function(t){this.each(function(){var i=e(this),n=v(i);n.divider.style.display=t?"":"none",n.first.style.display=t?"":"none"})},S.setRightComponentVisible=function(t){this.each(function(){var i=e(this),n=v(i),o=n.first;o.style.position=t?"absolute":"relative",o.style[e(o).hasClass("top-pane")?"height":"width"]=t?"":"100%",n.divider.style.display=t?"":"none",n.last.style.display=t?"":"none"})},e.fn.splitPane=function(t){t||(t="init"),S[t].apply(this,e.grep(arguments,function(t,e){return e>0}))};var L="_splitpaneparentresizeHandler";e.event.special._splitpaneparentresize={setup:function(t,i){var n=this,o=e(this).parent().closest(".split-pane")[0]||window;e(this).data(L,function(t){var i=t.target===document?window:t.target;i===o?(t.type="_splitpaneparentresize",e.event.dispatch.apply(n,arguments)):t.stopPropagation()}),e(o).on("resize",e(this).data(L))},teardown:function(t){var i=e(this).parent().closest(".split-pane")[0]||window;e(i).off("resize",e(this).data(L)),e(this).removeData(L)}};var x=function(){function t(i,n){var r=this;o(this,t),this.options=n,this.horiz=!this.options||void 0===this.options.horizontal||this.options.horizontal;var s=!this.options||void 0===this.options.fixedFirst||this.options.fixedFirst,a=n&&n.hideFirst,l=n&&n.hideSecond;this.splitPaneElt=document.createElement("div"),this.splitPaneElt.className="split-pane docloud-splitpane "+(this.horiz?s?"fixed-left":"fixed-right":s?"fixed-top":"fixed-bottom"),this.leftComponent=document.createElement("div"),this.leftComponent.className="split-pane-component "+(this.horiz?"left-pane split-pane-left":"top-pane split-pane-top"),this.splitPaneElt.appendChild(this.leftComponent);var u=document.createElement("div");u.className="split-pane-divider "+(this.horiz?"h-split-pane-divider":"v-split-pane-divider"),this.splitPaneElt.appendChild(u),(a||l)&&(u.style.display="none"),this.rightComponent=document.createElement("div"),this.rightComponent.className="split-pane-component "+(this.horiz?"right-pane split-pane-right":"bottom-pane split-pane-bottom"),this.splitPaneElt.appendChild(this.rightComponent),l?(this.leftComponent.style.position="relative",this.leftComponent.style[this.horiz?"width":"height"]="100%",this.rightComponent.style.display="none"):a&&(this.rightComponent.style.position="relative",this.rightComponent.style[this.horiz?"width":"height"]="100%",this.leftComponent.style.display="none"),i.appendChild(this.splitPaneElt),this.$splitPaneElt=e(this.splitPaneElt).splitPane(),e(this.splitPaneElt).on("resize",function(t){r.onresized()}),e(this.splitPaneElt).on("dividerdragend",function(t){r.onDividerDragEnd()})}return r(t,[{key:"getLeftComponent",value:function(){return this.leftComponent}},{key:"getRightComponent",value:function(){return this.rightComponent}},{key:"leftComponentCreated",value:function(){var t=this.options&&this.options.pos||200;t>=0&&e(this.splitPaneElt).splitPane("firstComponentSize",t)}},{key:"rightComponentCreated",value:function(){var t=this.options&&this.options.pos;t<0&&e(this.splitPaneElt).splitPane("lastComponentSize",-t)}},{key:"onresized",value:function(){}},{key:"onDividerDragEnd",value:function(){}},{key:"setLeftComponentVisible",value:function(t){e(this.splitPaneElt).splitPane("setLeftComponentVisible",t)}},{key:"setRightComponentVisible",value:function(t){e(this.splitPaneElt).splitPane("setRightComponentVisible",t)}}]),t}();t.components.Split.impl=x}(a.default,u.default)},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(1),u=n(l),c=i(2),h=n(c),d=i(3),f=n(d),p={scrollableHorizonFactor:3,margin:20},v=function(t){function e(t,i,n){o(this,e);var s=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i,u.default.utils.mergeObjects({},p,n)));return s.create(),s}return s(e,t),a(e,[{key:"create",value:function(){this.scrollableHorizonFactor=Math.max(this.config&&this.config.scrollableHorizonFactor||3,1),this.items=[],this.itemsByIds={},this._init=!1}},{key:"setTimeWindow",value:function(t,e){var i=this;this.timeLineElt&&this.node.removeChild(this.timeLineElt),this.timeLineElt=document.createElement("div"),this.timeLineElt.style.width=this.node.offsetWidth*this.scrollableHorizonFactor+"px",this.timeLineElt.style.height="100%";var n=[],o=e-t;this.scrollableHorizon={start:Math.round(t-(this.scrollableHorizonFactor-1)/2*o),end:Math.round(e+(this.scrollableHorizonFactor-1)/2*o)};try{this.visTimeline=new f.default.Timeline(this.timeLineElt,n,{orientation:{axis:"top",item:"top"},height:"100%",start:this.scrollableHorizon.start,end:this.scrollableHorizon.end})}catch(t){throw console.error(t),t}this.horizon={start:t,end:e},this.node.appendChild(this.timeLineElt),this.zoomFactor=1;var r=new Promise(function(t,e){i.initResolve=t});this.visTimeline.on("rangechanged",function(){i.updateRatio()}),this._init=!1;var s=function n(){i._init=!0;var o=i.visTimeline.getWindow();o.startMillis=o.start.getTime(),o.endMillis=o.end.getTime(),i.updateRatio();var r={start:t,end:e};i.initResolve(r),i.visTimeline.off("changed",n),i.triggerEvent(u.default.events.TIME_LINE_INIT,r)};return this.visTimeline.on("changed",s),this.visTimeline.on("rangechange",function(){i.updateRatio(),i.triggerEvent(u.default.events.TIME_LINE_RANGE_CHANGE)}),this.visTimeline.on("rangechanged",function(){i.updateRatio(),i.triggerEvent(u.default.events.TIME_LINE_RANGE_CHANGED)}),this.visTimeline.on("pan",function(){i.triggerEvent(u.default.events.TIME_LINE_PAN_MOVE)}),this.visTimeline.on("panend",function(){i.triggerEvent(u.default.events.TIME_LINE_PAN_MOVED)}),r}},{key:"getWidth",value:function(){return this.timeLineElt.offsetWidth}},{key:"getHorizon",value:function(){return this.horizon}},{key:"getScrollableHorizon",value:function(){return this.scrollableHorizon}},{key:"updateRatio",value:function(){this.window=this.visTimeline.getWindow(),this.window.startMillis=this.window.start.getTime(),this.window.endMillis=this.window.end.getTime(),this.scrollableHorizon.start=this.window.startMillis,this.scrollableHorizon.end=this.window.endMillis,this.ratio=this.getWidth()/(this.window.endMillis-this.window.startMillis)}},{key:"getXFromMillis",value:function(t){return Math.round((t-this.scrollableHorizon.start)*this.ratio)}},{key:"getX",value:function(t){return Math.round((t-this.scrollableHorizon.start)*this.ratio)}},{key:"getTimeAt",value:function(t){return this.scrollableHorizon.start+Math.round(t/this.getWidth()*(this.scrollableHorizon.end-this.scrollableHorizon.start))}},{key:"getTimeAxisHeight",value:function(t){var e=this.timeLineElt&&this.timeLineElt.getElementsByClassName("vis-panel vis-top");return e&&e.length&&(0,h.default)(e[0]).outerHeight()||t}},{key:"getTimeWindow",value:function(){return this.visTimeline&&this.visTimeline.getWindow()}},{key:"draw",value:function(){}},{key:"onResize",value:function(){this._init&&this.updateRatio()}},{key:"validateZoomFactor",value:function(t){return this.zoomFactor+t<1?0:t}},{key:"zoom",value:function(t,e){this.zoomFactor+=t;var i=this.getWidth()+t*this.getWidth();this.timeLineElt.style.width=i+"px",this.updateRatio(),this.triggerEvent(u.default.events.TIME_LINE_SIZE_CHANGED,i,this.getTimeAxisHeight())}},{key:"resetZoom",value:function(){this.zoomFactor=1;var t=this.node.offsetWidth*this.scrollableHorizonFactor;this.timeLineElt.style.width=t+"px",this.updateRatio(),this.triggerEvent(u.default.events.TIME_LINE_SIZE_CHANGED,t,this.getTimeAxisHeight())}},{key:"setVisibleTimeWindow",value:function(t){if(t&&t.start&&t.end){var e=(this.scrollableHorizon.end-this.scrollableHorizon.start)/(t.end-t.start);this.zoomFactor=e/this.scrollableHorizonFactor;var i=e*this.node.offsetWidth;this.timeLineElt.style.width=i+"px",this.updateRatio(),this.triggerEvent(u.default.events.TIME_LINE_SIZE_CHANGED,i,this.getTimeAxisHeight())}else this.resetZoom()}},{key:"getVisibleTimes",value:function(){return{start:this.window.startMillis,end:this.window.endMillis}}},{key:"scrollTo",value:function(t,e){var i=this.visTimeline.getWindow(),n=i.end-i.start;this.visTimeline.setWindow(t,t+n,void 0===e?void 0:{animation:e})}},{key:"addTimeMarker",value:function(t,e,i){var n=this.visTimeline.customTimes,o=n&&n.length;if(this.visTimeline.addCustomTime(e,t),n&&n.length&&n.length!=o){var r=this.visTimeline.customTimes[o];r&&r.bar&&(0,h.default)(r.bar).css("top",this.getTimeAxisHeight()-3+"px")}}},{key:"removeTimeMarker",value:function(t,e,i){this.visTimeline.removeCustomTime(t)}},{key:"createVisItem",value:function(t){return{start:t.start||("background"==t.type?this.window.startMillis:void 0),end:t.end||("background"==t.type?this.window.endMillis:void 0),title:t.title,type:"background"==t.type?"background":"box"==t.type?"box":"point"==t.type?"point":"background",className:t.className,content:t.content}}},{key:"setTimeLineItem",value:function(t,e){this.removeTimeLineItem(t,!1),this.addTimeLineItem(t,e)}},{key:"addTimeLineItem",value:function(t,e,i){e=this.createVisItem(e),this.items.push(e),this.itemsByIds[t]=e,(void 0===i||i)&&this.visTimeline.setItems(this.items)}},{key:"removeTimeLineItem",value:function(t,e){var i=this.itemsByIds[t];if(i){delete this.itemsByIds[t];var n=this.items.indexOf(i);n>-1&&this.items.splice(n,1),(void 0===e||e)&&this.visTimeline.setItems(this.items)}}},{key:"getDecorationContainer",value:function(){var t=(0,h.default)(this.timeLineElt).find(".vis-panel.vis-background.vis-horizontal");return t.length&&t[0]||null}}]),e}(u.default.components.TimeLine);e.default=v,u.default.components.TimeLine.impl=v},function(t,e,i){(function(t){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=!1,r="tree-node",s=function(){function e(){i(this,e),this.collapsedNodes={}}return n(e,[{key:"getHierarchyColumn",value:function(t){return t&&t.length&&t[0]||null}},{key:"customizeOptions",value:function(e,i){var n=this;if(i||(i=this.getHierarchyColumn(e.columns))){i.render||(i.render={});var o=i.render.display,s=i.data;i.render.display=function(t,e,i,n){for(var r=o&&o.call(this,s&&t[s]||t,e,i,n)||t.name,a=t.parent,l="";a;)l+='<div class="tree-node-spacing"></div>',a=a.parent;return l+='<div class="tree-node-handle">'+(t.children&&t.children.length?'<i style="width: 16px;" class="fa fa-caret-right fa-lg collapsed"></i><i style="16px;" class="fa fa-caret-down fa-lg expanded"></i>':"")+"</div>",t.color&&(l+='<div class="tree-node-color" style="background-color="'+t.color+'"></div>'),l+r},i.render.filter=function(t,e,i,n){return t?t.name:""},i.className=i.className&&i.className+" hierarchy-control"||"hierarchy-control",i.type=r;var a=e.createdRow;e.createdRow=function(e,i,o){var r=i.children&&i.children.length,s=r?n.collapsedNodes[i.id]&&"parent-row collapsed"||"parent-row":"leaf-row";i.hidden&&(s+=" hidden"),t(e).addClass(s),a&&a.call(n,e,i,o)}}}},{key:"getData",value:function(t){var e=this.$dataTable.row(t),i=void 0;return e&&(i=e.data())&&i.getData()||null}},{key:"reset",value:function(){this.collapsedNodes={}}},{key:"getRow",value:function(t){return"string"==typeof t?this.$dataTable.row("#"+t):t}},{key:"isCollapsedNode",value:function(t){if("string"==typeof t)return this.collapsedNodes[t];var e=this.getRow(t);return t=e&&e.data(),t&&t.children&&this.collapsedNodes[t.id]}},{key:"collapseNode",value:function(e,i){var n=this.getRow(e);if(e=n&&n.data(),e&&e.children&&e.children.length){var o=!i;i?(this.collapsedNodes[e.id]=!0,t(n.node()).addClass("collapsed")):(delete this.collapsedNodes[e.id],t(n.node()).removeClass("collapsed"));for(var r=[],s=0;s<e.children.length;s++)this.setRowVisible(e.children[s],o,r);this.rowsVisibilityChanged(!i,r,e.id)}}},{key:"rowsVisibilityChanged",value:function(t,e,i){}},{key:"setRowVisible",value:function(e,i,n){var o=e.tr||this.$dataTable.row("#"+e.id).node();if(o&&(t(o).toggleClass("hidden",!i),i?delete e.hidden:e.hidden=!0,n&&n.push(e.id),e.children&&!this.collapsedNodes[e.id]))for(var r=0,s=e.children.length;r<s;++r)this.setRowVisible(e.children[r],i,n)}},{key:"expandParents",value:function(t){t=this.getRow(t);var e=t&&t.data();if(e){for(var i=e.parent,n=void 0;i;)this.collapsedNodes[i.id]&&(n&&delete this.collapsedNodes[n.id],n=i),i=i.parent;n&&this.collapseNode(n.id,!1)}}},{key:"install",value:function(e,i){var n=this;if(this.$dataTable=e,t(i).on("click","td.hierarchy-control .tree-node-handle",function(i){var o=t(i.target).closest("tr");if(o&&o.length){var r=e.row(o);n.collapseNode(r,!n.isCollapsedNode(r))}}),!o){o=!0,t.fn.dataTable.ext.search.push(function(t,e,i,n){var o;return(o=t.ganttDataTable)&&(o.filter.isEmpty()||(n.__filterMatched=o.filter.accept(n,e,i))),!0}),t.fn.dataTable.ext.search.push(function(t,e,i,n){if(t.ganttDataTable){if(n.hidden)return!1;if(!t.ganttDataTable.filter.isEmpty()){var o=function t(e){if(e&&e.children)for(var i,n=0,o=e.children.length;n<o;n++)if(i=e.children[n],i.__filterMatched||t(i))return e.__filterMatched=!0,!0;return!1};return n.__filterMatched||o(n)}return!0}return!0});var s=function(t){function e(e,i,n){return e=e.getSortValue?e.getSortValue(e):n?e:e.name,i=i.getSortValue?i.getSortValue(i):n?i:i.name,n?n(e,i)*t:e<i?-t:e>i?t:0}return function(t,i){var n=t.comparator;if(t.parent===i.parent)return e(t,i,n);for(var o=t.parent,r=t,s=void 0;o;){for(s=i;s;){if(s.parent===o)return e(r,s,n);s=s.parent}r=o,o=o.parent}for(s=i;s.parent;)s=s.parent;return e(r,s,n)}};t.fn.dataTable.ext.type.order[r+"-asc"]=s(1),t.fn.dataTable.ext.type.order[r+"-desc"]=s(-1)}}}]),e}();e.default=s}).call(e,i(2))},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var o=i(1),r=n(o),s=i(2),a=n(s);r.default.utils=a.default.extend({},r.default.utils,{closest:function(t,e){var i=(0,a.default)(t).closest(e);return i&&i.length&&i[0]||null},mergeObjects:function(){for(var t=[],e=0;e<arguments.length;e++)t.push(arguments[e]);return a.default.extend.apply(a.default,t)},html:function(t,e){(0,a.default)(t).html(e)},offsetParent:function(t){var e=(0,a.default)(t).offsetParent();return e.length&&e[0]||null},ajax:function(t,e){var i={url:t||e.url,dataType:e&&e.dataType||"json"};return e&&e.method&&(i.method=e.method),e&&e.params&&(i.data=e.params),e&&e.customizeRequest&&(i.beforeSend=e.customizeRequest),e.settings,e&&e.success?a.default.ajax(i).then(function(t,i,n){return e.settings&&(e.settings.statusText=i,e.settings.request=n),e.context?e.success.call(e.context,t,e.settings):e.success(t,e.settings)}):a.default.ajax(i)},getHeight:function(t){return(0,a.default)(t).height()}})},function(t,e,i){(function(e,i,n){!function(e,i){t.exports=i()}(this,function(){"use strict";function t(t){var e=typeof t;return null!==t&&("object"===e||"function"===e)}function e(t){return"function"==typeof t}function i(t){Y=t}function n(t){X=t}function o(){return function(){return e.nextTick(u)}}function r(){return"undefined"!=typeof U?function(){U(u)}:l()}function s(){var t=0,e=new Z(u),i=document.createTextNode("");return e.observe(i,{characterData:!0}),function(){i.data=t=++t%2}}function a(){var t=new MessageChannel;return t.port1.onmessage=u,function(){return t.port2.postMessage(0)}}function l(){var t=setTimeout;return function(){return t(u,1)}}function u(){for(var t=0;t<V;t+=2){var e=Q[t],i=Q[t+1];e(i),Q[t]=void 0,Q[t+1]=void 0}V=0}function c(){try{var t=r(34);return U=t.runOnLoop||t.runOnContext,r()}catch(t){return l()}}function h(t,e){var i=arguments,n=this,o=new this.constructor(f);void 0===o[et]&&M(o);var r=n._state;return r?!function(){var t=i[r-1];X(function(){return R(r,o,t,n._result)})}():_(n,o,t,e),o}function d(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var i=new e(f);return T(i,t),i}function f(){}function p(){return new TypeError("You cannot resolve a promise with itself")}function v(){return new TypeError("A promises callback cannot return that same promise.")}function g(t){try{return t.then}catch(t){return rt.error=t,rt}}function y(t,e,i,n){try{t.call(e,i,n)}catch(t){return t}}function m(t,e,i){X(function(t){var n=!1,o=y(i,e,function(i){n||(n=!0,e!==i?T(t,i):k(t,i))},function(e){n||(n=!0,C(t,e))},"Settle: "+(t._label||" unknown promise"));!n&&o&&(n=!0,C(t,o))},t)}function b(t,e){e._state===nt?k(t,e._result):e._state===ot?C(t,e._result):_(e,void 0,function(e){return T(t,e)},function(e){return C(t,e)})}function w(t,i,n){i.constructor===t.constructor&&n===h&&i.constructor.resolve===d?b(t,i):n===rt?(C(t,rt.error),rt.error=null):void 0===n?k(t,i):e(n)?m(t,i,n):k(t,i)}function T(e,i){e===i?C(e,p()):t(i)?w(e,i,g(i)):k(e,i)}function E(t){t._onerror&&t._onerror(t._result),S(t)}function k(t,e){t._state===it&&(t._result=e,t._state=nt,0!==t._subscribers.length&&X(S,t))}function C(t,e){t._state===it&&(t._state=ot,t._result=e,X(E,t))}function _(t,e,i,n){var o=t._subscribers,r=o.length;t._onerror=null,o[r]=e,o[r+nt]=i,o[r+ot]=n,0===r&&t._state&&X(S,t)}function S(t){var e=t._subscribers,i=t._state;if(0!==e.length){for(var n=void 0,o=void 0,r=t._result,s=0;s<e.length;s+=3)n=e[s],o=e[s+i],n?R(i,n,o,r):o(r);t._subscribers.length=0}}function L(){this.error=null}function x(t,e){try{return t(e)}catch(t){return st.error=t,st}}function R(t,i,n,o){var r=e(n),s=void 0,a=void 0,l=void 0,u=void 0;if(r){if(s=x(n,o),s===st?(u=!0,a=s.error,s.error=null):l=!0,i===s)return void C(i,v())}else s=o,l=!0;i._state!==it||(r&&l?T(i,s):u?C(i,a):t===nt?k(i,s):t===ot&&C(i,s))}function N(t,e){try{e(function(e){T(t,e)},function(e){C(t,e)})}catch(e){C(t,e)}}function O(){return at++}function M(t){t[et]=at++,t._state=void 0,t._result=void 0,t._subscribers=[]}function H(t,e){this._instanceConstructor=t,this.promise=new t(f),this.promise[et]||M(this.promise),B(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?k(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&k(this.promise,this._result))):C(this.promise,A())}function A(){return new Error("Array Methods must be provided an Array")}function D(t){return new H(this,t).promise}function I(t){var e=this;return new e(B(t)?function(i,n){for(var o=t.length,r=0;r<o;r++)e.resolve(t[r]).then(i,n)}:function(t,e){return e(new TypeError("You must pass an array to race."))})}function P(t){var e=this,i=new e(f);return C(i,t),i}function F(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function j(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function z(t){this[et]=O(),this._result=this._state=void 0,this._subscribers=[],f!==t&&("function"!=typeof t&&F(),this instanceof z?N(this,t):j())}function W(){var t=void 0;if("undefined"!=typeof o)t=o;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var i=null;try{i=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===i&&!e.cast)return}t.Promise=z}var G=void 0;G=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var B=G,V=0,U=void 0,Y=void 0,X=function(t,e){Q[V]=t,Q[V+1]=e,V+=2,2===V&&(Y?Y(u):tt())},K="undefined"!=typeof window?window:void 0,$=K||{},Z=$.MutationObserver||$.WebKitMutationObserver,J="undefined"==typeof self&&"undefined"!=typeof e&&"[object process]"==={}.toString.call(e),q="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,Q=new Array(1e3),tt=void 0;tt=J?o():Z?s():q?a():void 0===K?c():l();var et=Math.random().toString(36).substring(16),it=void 0,nt=1,ot=2,rt=new L,st=new L,at=0;return H.prototype._enumerate=function(t){for(var e=0;this._state===it&&e<t.length;e++)this._eachEntry(t[e],e)},H.prototype._eachEntry=function(t,e){var i=this._instanceConstructor,n=i.resolve;if(n===d){var o=g(t);if(o===h&&t._state!==it)this._settledAt(t._state,e,t._result);else if("function"!=typeof o)this._remaining--,this._result[e]=t;else if(i===z){var r=new i(f);w(r,t,o),this._willSettleAt(r,e)}else this._willSettleAt(new i(function(e){return e(t)}),e)}else this._willSettleAt(n(t),e)},H.prototype._settledAt=function(t,e,i){var n=this.promise;n._state===it&&(this._remaining--,t===ot?C(n,i):this._result[e]=i),0===this._remaining&&k(n,this._result)},H.prototype._willSettleAt=function(t,e){var i=this;_(t,void 0,function(t){return i._settledAt(nt,e,t)},function(t){return i._settledAt(ot,e,t)})},z.all=D,z.race=I,z.resolve=d,z.reject=P,z._setScheduler=i,z._setAsap=n,z._asap=X,z.prototype={constructor:z,then:h,catch:function(t){return this.then(null,t)}},z.polyfill=W,z.Promise=z,z})}).call(e,i(32),i(2),function(){return this}())},function(t,e){},function(t,e){function i(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function o(t){if(c===setTimeout)return setTimeout(t,0);if((c===i||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(e){try{return c.call(null,t,0)}catch(e){return c.call(this,t,0)}}}function r(t){if(h===clearTimeout)return clearTimeout(t);if((h===n||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}function s(){v&&f&&(v=!1,f.length?p=f.concat(p):g=-1,p.length&&a())}function a(){if(!v){var t=o(s);v=!0;for(var e=p.length;e;){for(f=p,p=[];++g<e;)f&&f[g].run();g=-1,e=p.length}f=null,v=!1,r(t)}}function l(t,e){this.fun=t,this.array=e}function u(){}var c,h,d=t.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:i}catch(t){c=i}try{h="function"==typeof clearTimeout?clearTimeout:n}catch(t){h=n}}();var f,p=[],v=!1,g=-1;d.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];p.push(new l(t,e)),1!==p.length||v||o(a)},l.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=u,d.addListener=u,d.once=u,d.off=u,d.removeListener=u,d.removeAllListeners=u,d.emit=u,d.prependListener=u,d.prependOnceListener=u,d.listeners=function(t){return[]},d.binding=function(t){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(t){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(t,e){t.exports=n},function(t,e){}])});